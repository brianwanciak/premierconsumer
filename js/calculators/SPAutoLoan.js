KJE.parameters.set("MSG_TITLE_PAYMENT","El pago del pr&eacute;stamo de auto es KJE1.");KJE.parameters.set("MSG_TITLE_AMOUNT","El precio de compra del auto es KJE3.");KJE.parameters.set("MSG_AMOUNT_OWED_ON_TRADE","Cantidad adeudada en el 'trade-in'");KJE.parameters.set("MSG_AUTO_SALE_PRICE","Precio total de compra");KJE.parameters.set("MSG_PAYMENT_CALC","Calcular");KJE.parameters.set("MSG_PAYMENT_CALC1","Pago mensual");KJE.parameters.set("MSG_PAYMENT_CALC2","Precio de compra");KJE.parameters.set("MSG_DROPPER_TITLE","Autom&oacute;vil compra entradas:");KJE.parameters.set("MSG_DROPPER_CLOSETITLE","del pr&eacute;stamo: KJE1");KJE.parameters.set("MSG_CASH_DOWN","Pronto en efectivo");KJE.parameters.set("MSG_ERROR1","Tasa de inter&eacute;s debe ser mayor o igual a cero");KJE.parameters.set("MSG_ERROR2","Su pago mensual es cero");KJE.parameters.set("MSG_GRAPH1","Balance del principal por pago");KJE.parameters.set("MSG_GRAPH2","T&eacute;rmino del pr&eacute;stamo en meses");KJE.parameters.set("MSG_GRAPH3","Pronto en efectivo");KJE.parameters.set("MSG_GRAPH_TITLE1","Balance de principal para KJE1");KJE.parameters.set("MSG_GRAPH_TITLE2","&iquest;C&oacute;mo el t&eacute;rmino afecta mi pago?");KJE.parameters.set("MSG_GRAPH_TITLE3","&iquest;C&oacute;mo el pronto pago afecta mi pago mensual?");KJE.parameters.set("MSG_INTEREST_RATE","Tasa de inter&eacute;s");KJE.parameters.set("MSG_LABEL1","Precio Total");KJE.parameters.set("MSG_LABEL2","Cantidad del pr&eacute;stamo");KJE.parameters.set("MSG_LABEL4","Cargos");KJE.parameters.set("MSG_LABEL5","Pronto en efectivo");KJE.parameters.set("MSG_LABEL6","'Trade-in' neto");KJE.parameters.set("MSG_MONTHLY_PAYMENT","Pago mensual");KJE.parameters.set("MSG_NONTAX_FEES","Cargos no tributables");KJE.parameters.set("MSG_REPORT_COL1","Pago");KJE.parameters.set("MSG_REPORT_COL2","Principal");KJE.parameters.set("MSG_REPORT_COL3","Inter&eacute;s");KJE.parameters.set("MSG_REPORT_COL4","Balance del pr&eacute;stamo");KJE.parameters.set("MSG_REPORT_COL5","N&uacute;m.");KJE.parameters.set("MSG_SALES_TAX","Marque aqu&iacute; si no se le permite una deducci&oacute;n por el 'trade-in' al calcular el impuesto de sobre las ventas.");KJE.parameters.set("MSG_SALES_TAX_AMT","Impuesto sobre las Ventas");KJE.parameters.set("MSG_SALES_TAX_RATE","Tasa de impuesto sobre las ventas");KJE.parameters.set("MSG_TAXABLE_FEES","Cargos tributables");KJE.parameters.set("MSG_TERM","T&eacute;rmino en meses");KJE.parameters.set("MSG_TRADE_ALLOWANCE","'Trade-in'");KJE.parameters.set("MSG_SALES_TAX_LESS_TRADE","De impuestos para el 'trade-in'");KJE.parameters.set("MSG_SALES_TAX_LESS_TRADE1","Marque aqu&iacute; si no se le permite una deducci&oacute;n por el 'trade-in' al calcular el impuesto de sobre las ventas.");KJE.parameters.set("MSG_GRAPH1_XAXIS_TITLE","");KJE.parameters.set("MSG_GRAPH2_XAXIS_TITLE","");KJE.parameters.set("MSG_DROPPER_DOWNPAYMENT","Pago inicial:");KJE.parameters.set("MSG_DOWNPAYMENT","Pago Inicial");KJE.parameters.set("MSG_DROPPER_TAXES","Impuestos y cargos:");KJE.Default.PAY_SELECTIONS=KJE.parameters.set("ARRAY_PAY_SELECTIONS",["Semanal","Bisemanas","Mensual"]);KJE.Default.PAY_DESC=KJE.parameters.set("PAY_DESC",["Semanas","Bisemanas","Meses"]);KJE.AutoLoanCalc=function(){this.iDecimal=2;this.TOTAL_FEES=0;this.PERIOD_LABEL="";this.ANNUAL_PERIODS=KJE.Default.PAY_MONTHLY;this.PAYMENT_CALC=true;this.SALES_TAX_LESS_TRADE=true;this.YEAR=false;this.MSG_TITLE_PAYMENT=KJE.parameters.get("MSG_TITLE_PAYMENT","Car payment is KJE1 KJE2.");this.MSG_TITLE_AMOUNT=KJE.parameters.get("MSG_TITLE_AMOUNT","Car purchase price is KJE3.");this.MSG_ERROR1=KJE.parameters.get("MSG_ERROR1","Interest rate must be greater than or equal to zero.");this.MSG_ERROR2=KJE.parameters.get("MSG_ERROR2","Your monthly payment is zero.");this.MSG_TAX_LESS_TRADE=KJE.parameters.get("MSG_TAX_LESS_TRADE","Sales tax was calculated as SALES_TAX_RATE times your vehicle price of AUTO_SALE_PRICE minus your trade-in allowance of TRADE_ALLOWANCE.");this.MSG_TAX_NO_TRADE=KJE.parameters.get("MSG_TAX_NO_TRADE","Sales tax was calculated as SALES_TAX_RATE times your vehicle price of AUTO_SALE_PRICE. No deduction was included for you trade-in allowance of TRADE_ALLOWANCE.");this.MSG_DOWNPAYMENT=KJE.parameters.get("MSG_DOWNPAYMENT","Down Payment");this.DS_BALANCE=null;this.DS_DOWNPAYMENT=KJE.FloatArray(4);this.DS_CHANGE_TERM=KJE.FloatArray(4);this.cats=null;this.CS_DOWNPAYMENT=new Array(4);this.CS_CHANGE_TERM=new Array(4);this.sSchedule=new KJE.Repeating()};KJE.AutoLoanCalc.prototype.clear=function(){this.ANNUAL_INCOME=0;this.MONTHLY_PAYMENT=0;this.INTEREST_RATE=0;this.TERM=0;this.CASH_DOWN=0;this.TRADE_ALLOWANCE=0;this.AMOUNT_OWED_ON_TRADE=0;this.NONTAX_FEES=0;this.TAXABLE_FEES=0;this.SALES_TAX_RATE=0;this.AUTO_SALE_PRICE=0;this.DEBT_LOAD_PERCENT=20;this.MONTHLY_PAYMENT=0;this.CASH_DOWN=0;this.PERCENT_DOWN=0;this.PAYMENT_TYPE=KJE.Default.PAY_MONTHLY};KJE.AutoLoanCalc.prototype.calculate=function(I){var j=KJE;var a=this.ANNUAL_INCOME;var P=this.MONTHLY_PAYMENT;var h=this.INTEREST_RATE;var V=this.TERM;var z=this.CASH_DOWN;var g=this.TRADE_ALLOWANCE;var d=this.AMOUNT_OWED_ON_TRADE;var t=this.NONTAX_FEES;var T=this.TAXABLE_FEES;var e=this.SALES_TAX_RATE;var y=this.AUTO_SALE_PRICE;var c=this.DEBT_LOAD_PERCENT;var u=this.PERCENT_DOWN;var f=this.PAYMENT_TYPE;this.ANNUAL_PERIODS=KJE.Default.PAY_PERIOD[f];this.PERIOD_LABEL=KJE.Default.PAY_SELECTIONS[f];this.PERIOD_DESC=KJE.Default.PAY_DESC[f];this.PERIOD_PAY_PER=KJE.Default.PAY_PER[f];var B=0;var b=0;var C=0;var E=0;var v=0;var k=0;var s=0;var r=0;var p=0;var o=0;var W=0;var U=0;var S=0;var Q=0;if(h<0){throw (this.MSG_ERROR1)}this.NET_TRADE_IN=g-d;if(!this.PAYMENT_CALC){if(a>0&&c>0){P=j.round((a/this.ANNUAL_PERIODS)*(c/100),2)}v=Math.round(KJE.PV(h/(this.ANNUAL_PERIODS*100),V,P));if(z<0){if(u>0){y=(B+v-t+((this.SALES_TAX_LESS_TRADE?g:0)+T)*(e/100))/(e/100+1);z=y;var F=z/2;for(var R=0;R<30;R++){if(z/(u/100)<(z+g-d+v-t+((this.SALES_TAX_LESS_TRADE?g:0)+T)*(e/100))/(e/100+1)){z+=F}else{z-=F}F=F/2}}else{z=0}}B=z+g-d;y=(B+v)-T-t;E=0;if(e>0){var F=y/2;for(var R=0;R<30;R++){if(y<(B+v-T-t-E)){y+=F}else{y-=F}F=F/2;E=j.round((y+T-(this.SALES_TAX_LESS_TRADE?g:0))*(e/100),2)}}}else{if(z<0){if(u>0){z=(u/100)*y}else{z=0}}B=z+g-d;E=(y-(this.SALES_TAX_LESS_TRADE?g:0)+T)*(e/100);v=y+E+t+T-B;P=j.round(KJE.PMT(h/(this.ANNUAL_PERIODS*100),V,v),2);a=P*(c/100)*this.ANNUAL_PERIODS;if(P<0){P=0;v=0}}u=z/y;if(a<=0&&c>0){a=(P*this.ANNUAL_PERIODS)/(c/100)}this.TOTAL_FEES=t+T;this.TOTAL_SALE_PRICE=y+E+this.TOTAL_FEES;this.TOTAL_TAXES_AND_FEES=E+this.TOTAL_FEES;var J=500;if(v>100000){J=5000}else{if(v>50000){J=2500}else{if(v>20000){J=1000}else{if(v<5000){J=250}}}}if(z>0){s=0-z;r=0;p=J;o=2*J}else{s=0;r=J;p=2*J;o=3*J}this.DS_DOWNPAYMENT[0]=this.CHANGE_DOWNPAYMENT_NEWPAYMENT_1=KJE.PMT(h/(this.ANNUAL_PERIODS*100),V,v-s);this.DS_DOWNPAYMENT[1]=this.CHANGE_DOWNPAYMENT_NEWPAYMENT_2=KJE.PMT(h/(this.ANNUAL_PERIODS*100),V,v-r);this.DS_DOWNPAYMENT[2]=this.CHANGE_DOWNPAYMENT_NEWPAYMENT_3=KJE.PMT(h/(this.ANNUAL_PERIODS*100),V,v-p);this.DS_DOWNPAYMENT[3]=this.CHANGE_DOWNPAYMENT_NEWPAYMENT_4=KJE.PMT(h/(this.ANNUAL_PERIODS*100),V,v-o);this.CS_DOWNPAYMENT[0]=j.dollars(z+s)+" "+this.MSG_DOWNPAYMENT;this.CS_DOWNPAYMENT[1]=j.dollars(z+r)+" "+this.MSG_DOWNPAYMENT;this.CS_DOWNPAYMENT[2]=j.dollars(z+p)+" "+this.MSG_DOWNPAYMENT;this.CS_DOWNPAYMENT[3]=j.dollars(z+o)+" "+this.MSG_DOWNPAYMENT;var O=this.ANNUAL_PERIODS;if(V<this.ANNUAL_PERIODS*3){W=V;U=V+O;S=V+2*O;Q=V+3*O}else{if(V<this.ANNUAL_PERIODS*5){W=V-O;U=V;S=V+O;Q=V+2*O}else{W=V-2*O;U=V-O;S=V;Q=V+O}}this.DS_CHANGE_TERM[0]=this.CHANGE_TERM_NEWPAYMENT_1=KJE.PMT(h/(this.ANNUAL_PERIODS*100),W,v);this.DS_CHANGE_TERM[1]=this.CHANGE_TERM_NEWPAYMENT_2=KJE.PMT(h/(this.ANNUAL_PERIODS*100),U,v);this.DS_CHANGE_TERM[2]=this.CHANGE_TERM_NEWPAYMENT_3=KJE.PMT(h/(this.ANNUAL_PERIODS*100),S,v);this.DS_CHANGE_TERM[3]=this.CHANGE_TERM_NEWPAYMENT_4=KJE.PMT(h/(this.ANNUAL_PERIODS*100),Q,v);this.CS_CHANGE_TERM[0]=j.number(W)+" "+this.PERIOD_DESC;this.CS_CHANGE_TERM[1]=j.number(U)+" "+this.PERIOD_DESC;this.CS_CHANGE_TERM[2]=j.number(S)+" "+this.PERIOD_DESC;this.CS_CHANGE_TERM[3]=j.number(Q)+" "+this.PERIOD_DESC;var l=Math.round(V);var R=0;var L=l;this.DS_BALANCE=new Array(L);this.cats=new Array(L);if(I){var A=this.sSchedule;A.clearRepeat();A.addHeader((this.YEAR?A.sReportCol("Year",5):A.sReportCol(KJE.Default.PAY_DESC[f],5)),A.sReportCol("Payment",1),A.sReportCol("Principal",2),A.sReportCol("Interest",3),A.sReportCol("Balance",4));A.addRepeat("&nbsp;","&nbsp;","&nbsp;","&nbsp;",j.dollars(v,this.iDecimal))}var X=v;var x=0;var m=0;var G=P;var K=0;var D=0;var w=0;var N=0;var H=true;this.INTEREST_PAID=0;for(var M=1;M<=l;M++){R=M-1;x=j.round((h/(this.ANNUAL_PERIODS*100))*X,2);m=P-x;X-=m;this.INTEREST_PAID+=x;if(X<0||M==l){G+=X;X=0;m=G-x}else{G=P}this.cats[R]=""+M;this.DS_BALANCE[R]=X;if(I&&!this.YEAR){A.addRepeat(j.number(M),j.dollars(G,this.iDecimal),j.dollars(m,this.iDecimal),j.dollars(x,this.iDecimal),j.dollars(X,this.iDecimal))}D+=G;w+=m;N+=x;if(I&&this.YEAR&&M%this.ANNUAL_PERIODS==0){A.addRepeat(j.number(M/this.ANNUAL_PERIODS),j.dollars(D,this.iDecimal),j.dollars(w,this.iDecimal),j.dollars(N,this.iDecimal),j.dollars(X,this.iDecimal));D=0;w=0;N=0}}this.MSG_AUTO_TITLE=KJE.getKJEReplaced((this.PAYMENT_CALC?this.MSG_TITLE_PAYMENT:this.MSG_TITLE_AMOUNT),j.dollars(P,this.iDecimal),(KJE.lang=="FR"?this.PERIOD_LABEL:this.PERIOD_PAY_PER),j.dollars(y,this.iDecimal));this.MONTHLY_PAYMENT=P;this.AUTO_SALE_PRICE=y;this.TOTAL_OF_PAYMENTS=this.INTEREST_PAID+v;this.ANNUAL_INCOME=a;this.PERCENT_DOWN=u;this.TOTAL_DOWN=B;this.QUALIFYING_INCOME_LOW=b;this.QUALIFYING_INCOME_HIGH=C;this.SALES_TAX=E;this.LOAN_AMOUNT=v;this.CALC_PAYMENT_AMOUNT=k;this.CHANGE_DOWNPAYMENT_1=s;this.CHANGE_DOWNPAYMENT_2=r;this.CHANGE_DOWNPAYMENT_3=p;this.CHANGE_DOWNPAYMENT_4=o;this.CHANGE_TERM_1=W;this.CHANGE_TERM_2=U;this.CHANGE_TERM_3=S;this.CHANGE_TERM_4=Q};KJE.AutoLoanCalc.prototype.formatReport=function(b){var d=KJE;var a=this.iDecimal;var f=b;var g="";var e="";var c="";if(this.TERM<36){g="<strong>*</strong>"}else{if(this.TERM<60){e="<strong>*</strong>"}else{c="<strong>*</strong>"}}f=KJE.replace("TERM_INDICATOR1",g,f);f=KJE.replace("TERM_INDICATOR2",e,f);f=KJE.replace("TERM_INDICATOR3",c,f);f=KJE.replace("CALC_PAYMENT_AMOUNT",d.dollars(this.CALC_PAYMENT_AMOUNT,a),f);f=KJE.replace("CHANGE_DOWNPAYMENT_1",this.CS_DOWNPAYMENT[0],f);f=KJE.replace("CHANGE_DOWNPAYMENT_2",this.CS_DOWNPAYMENT[1],f);f=KJE.replace("CHANGE_DOWNPAYMENT_3",this.CS_DOWNPAYMENT[2],f);f=KJE.replace("CHANGE_DOWNPAYMENT_4",this.CS_DOWNPAYMENT[3],f);f=KJE.replace("CHANGE_DOWNPAYMENT_NEWPAYMENT_1",d.dollars(this.CHANGE_DOWNPAYMENT_NEWPAYMENT_1,a),f);f=KJE.replace("CHANGE_DOWNPAYMENT_NEWPAYMENT_2",d.dollars(this.CHANGE_DOWNPAYMENT_NEWPAYMENT_2,a),f);f=KJE.replace("CHANGE_DOWNPAYMENT_NEWPAYMENT_3",d.dollars(this.CHANGE_DOWNPAYMENT_NEWPAYMENT_3,a),f);f=KJE.replace("CHANGE_DOWNPAYMENT_NEWPAYMENT_4",d.dollars(this.CHANGE_DOWNPAYMENT_NEWPAYMENT_4,a),f);f=KJE.replace("CHANGE_TERM_1",d.number(this.CHANGE_TERM_1),f);f=KJE.replace("CHANGE_TERM_2",d.number(this.CHANGE_TERM_2),f);f=KJE.replace("CHANGE_TERM_3",d.number(this.CHANGE_TERM_3),f);f=KJE.replace("CHANGE_TERM_4",d.number(this.CHANGE_TERM_4),f);f=KJE.replace("CHANGE_TERM_NEWPAYMENT_1",d.dollars(this.CHANGE_TERM_NEWPAYMENT_1,a),f);f=KJE.replace("CHANGE_TERM_NEWPAYMENT_2",d.dollars(this.CHANGE_TERM_NEWPAYMENT_2,a),f);f=KJE.replace("CHANGE_TERM_NEWPAYMENT_3",d.dollars(this.CHANGE_TERM_NEWPAYMENT_3,a),f);f=KJE.replace("CHANGE_TERM_NEWPAYMENT_4",d.dollars(this.CHANGE_TERM_NEWPAYMENT_4,a),f);f=KJE.replace("MONTHLY_PAYMENT",d.dollars(this.MONTHLY_PAYMENT,a),f);f=KJE.replace("INTEREST_RATE",d.percent(this.INTEREST_RATE/100,2),f);f=KJE.replace("TERM",d.number(this.TERM),f);f=KJE.replace("PERCENT_DOWN",d.percent(this.PERCENT_DOWN,1),f);f=KJE.replace("CASH_DOWN",d.dollars(this.CASH_DOWN,a),f);if(this.CASH_DOWN>0){f=KJE.replace("PAYMENT_INDICATOR1","",f);f=KJE.replace("PAYMENT_INDICATOR2","<strong>*</strong>",f)}else{f=KJE.replace("PAYMENT_INDICATOR1","<strong>*</strong>",f);f=KJE.replace("PAYMENT_INDICATOR2","",f)}f=KJE.replace("MSG_CHECK_TAX_LESS_TRADE",(this.SALES_TAX_LESS_TRADE?this.MSG_TAX_LESS_TRADE:this.MSG_TAX_NO_TRADE),f);f=KJE.replace("TRADE_ALLOWANCE",d.dollars(this.TRADE_ALLOWANCE,a),f);f=KJE.replace("AMOUNT_OWED_ON_TRADE",d.dollars(this.AMOUNT_OWED_ON_TRADE,a),f);f=KJE.replace("NONTAX_FEES",d.dollars(this.NONTAX_FEES,a),f);f=KJE.replace("TAXABLE_FEES",d.dollars(this.TAXABLE_FEES,a),f);f=KJE.replace("TITLE_TRANSFER_FEE",d.dollars(this.NONTAX_FEES,a),f);f=KJE.replace("TOTAL_FEES",d.dollars(this.TOTAL_FEES,a),f);f=KJE.replace("SALES_TAX_RATE",d.percent(this.SALES_TAX_RATE/100,2),f);f=KJE.replace("AUTO_SALE_PRICE",d.dollars(this.AUTO_SALE_PRICE,a),f);f=KJE.replace("TOTAL_DOWN",d.dollars(this.TOTAL_DOWN,a),f);f=KJE.replace("NET_TRADE_IN",d.dollars(this.NET_TRADE_IN,a),f);f=KJE.replace("QUALIFYING_INCOME_LOW",d.dollars(this.QUALIFYING_INCOME_LOW,a),f);f=KJE.replace("QUALIFYING_INCOME_HIGH",d.dollars(this.QUALIFYING_INCOME_HIGH,a),f);f=KJE.replace("TOTAL_SALE_PRICE",d.dollars(this.TOTAL_SALE_PRICE,a),f);f=KJE.replace("AUTO_SALE_PRICE",d.dollars(this.AUTO_SALE_PRICE,a),f);f=KJE.replace("SALES_TAX",d.dollars(this.SALES_TAX,a),f);f=KJE.replace("LOAN_AMOUNT",d.dollars(this.LOAN_AMOUNT,a),f);f=KJE.replace("ANNUAL_INCOME",d.dollars(this.ANNUAL_INCOME,a),f);f=KJE.replace("DEBT_LOAD_PERCENT",d.percent(this.DEBT_LOAD_PERCENT/100),f);f=KJE.replace("TOTAL_OF_PAYMENTS",d.dollars(this.TOTAL_OF_PAYMENTS,a),f);f=KJE.replace("INTEREST_PAID",d.dollars(this.INTEREST_PAID,a),f);f=KJE.replace("PERIOD_PAY_PER",this.PERIOD_PAY_PER.toLowerCase(),f);f=KJE.replace("PERIOD_LABEL_LOWER",this.PERIOD_LABEL.toLowerCase(),f);f=KJE.replace("PERIOD_LABEL",this.PERIOD_LABEL,f);f=KJE.replace("PERIOD_DESC_LOWER",this.PERIOD_DESC.toLowerCase(),f);f=KJE.replace("PERIOD_DESC",this.PERIOD_DESC,f);f=KJE.replace("MSG_AUTO_TITLE",this.MSG_AUTO_TITLE,f);f=f.replace("**REPEATING GROUP**",this.sSchedule.getRepeat());this.sSchedule.clearRepeat();return f};KJE.Default.PAY_WEEKLY=0;KJE.Default.PAY_BIWEEKLY=1;KJE.Default.PAY_MONTHLY=2;KJE.Default.PAY_SELECTIONS=KJE.parameters.get("ARRAY_PAY_SELECTIONS",["Weekly","Biweekly","Monthly"]);KJE.Default.PAY_PER=KJE.parameters.get("PAY_DESC",["per week","bi-weekly","per month"]);KJE.Default.PAY_DESC=KJE.parameters.get("PAY_DESC",["Weeks","Bi-weekly Payments","Months"]);KJE.Default.PAY_PERIOD=KJE.parameters.get("PAY_PERIOD",[52,26,12]);KJE.Default.PAY_INDEX=[KJE.Default.PAY_WEEKLY,KJE.Default.PAY_BIWEEKLY,KJE.Default.PAY_MONTHLY];KJE.getDropBoxPaymentFreq=function(a,c,b){return KJE.replace("**"+a+"**",KJE.getDropBox(a,KJE.parameters.get(a,c),KJE.Default.PAY_INDEX,KJE.Default.PAY_SELECTIONS),b)};KJE.CalcName="Calculadora para pr&eacute;stamos de autos";KJE.CalcType="SPAutoLoan";KJE.CalculatorTitleTemplate="KJE1";KJE.parseInputs=function(a){return KJE.getDropBoxPaymentFreq("PAYMENT_TYPE",KJE.Default.PAY_MONTHLY,a)};KJE.initialize=function(){KJE.CalcControl=new KJE.AutoLoanCalc();KJE.GuiControl=new KJE.AutoLoan(KJE.CalcControl)};KJE.AutoLoan=function(o){var f=KJE;var b=KJE.gLegend;var g=KJE.inputs.items;this.SHOW_SIMPLE=KJE.parameters.get("SHOW_SIMPLE",false);this.SHOW_PAYMENT_PERIODS=KJE.parameters.get("SHOW_PAYMENT_PERIODS",false);this.SHOW_FEES=KJE.parameters.get("SHOW_FEES",true);this.TRADEIN_TAX_OPTION_SHOW=KJE.parameters.get("TRADEIN_TAX_OPTION_SHOW",true);this.MSG_GRAPH_TITLE1=KJE.parameters.get("MSG_GRAPH_TITLE1","Principal Balances for KJE1 in financing");this.MSG_GRAPH_TITLE2=KJE.parameters.get("MSG_GRAPH_TITLE2","How does the term affect my payment?");this.MSG_GRAPH_TITLE3=KJE.parameters.get("MSG_GRAPH_TITLE3","How does the down payment affect my payment?");KJE.Radioboxes("PAYMENT_CALC","Calculate for",true,"Monthly Payment","Purchase Price","bold");KJE.DollarSlider("MONTHLY_PAYMENT",(this.SHOW_PAYMENT_PERIODS?"Payment":"Monthly payment"),0,100000,o.iDecimal,0,6);KJE.PercentSlider("INTEREST_RATE","Interest rate",0,25,2,0.5);KJE.Slider("TERM",(this.SHOW_PAYMENT_PERIODS?"Number of payments":"Term in months"),1,480,0,f.FMT_NUMBER,6,KJE.parameters.get("TERM_SCALE_LABEL",KJE.s_label[8]),KJE.parameters.get("TERM_SCALE",KJE.useScale(8)));KJE.DollarSlider("CASH_DOWN","Rebates and Cash Down",0,100000,o.iDecimal,0,1);KJE.DollarSlider("TRADE_ALLOWANCE","Trade allowance",0,100000,o.iDecimal,0,1);KJE.DollarSlider("AMOUNT_OWED_ON_TRADE","Amount owed on trade",0,100000,o.iDecimal,0,1);KJE.DollarSlider("NONTAX_FEES","Fees (non-taxable)",0,10000,o.iDecimal,0,7);KJE.DollarSlider("TAXABLE_FEES","Fees (taxable)",0,10000,o.iDecimal,0,7);KJE.PercentSlider("SALES_TAX_RATE","Sales tax rate",0,20,2,0.5);KJE.DollarSlider("AUTO_SALE_PRICE","Total purchase price (before tax)",0,5000000,o.iDecimal,0,KJE.parameters.get("AUTO_SALE_PRICE_SLM",2));KJE.Checkbox("SALES_TAX_LESS_TRADE","No Sales tax deduction",false,"Check here if your state does not allow a sales tax deduction for trade-ins");if(!KJE.parameters.exists("PAYMENT_TYPE")){KJE.parameters.set("PAYMENT_TYPE",KJE.Default.PAY_MONTHLY)}KJE.DropBox("PAYMENT_TYPE","Payments are made");this.MSG_GRAPH1=KJE.parameters.get("MSG_GRAPH1","Principal balance by payment");if(!this.SHOW_SIMPLE){var h=KJE.gNewGraph(KJE.gCOLUMN,"GRAPH1",true,false,KJE.colorList[1],this.MSG_GRAPH_TITLE1);h._legend.setVisible(false);h._showItemLabel=false;h._axisX._fSpacingPercent=0.75;h._titleYAxis.setText(KJE.sCurrency);var k=KJE.gNewGraph(KJE.gCATEGORIES,"GRAPH2",true,true,KJE.colorList[1],this.MSG_GRAPH_TITLE2);k._legend.setVisible(true);k._legend._iOrientation=b.TOP_RIGHT;k._axisX.setVisible(false);k._showItemLabel=true;k._axisX._fSpacingPercent=0.25;k._axisY._bAutoMinimum=false;k._titleYAxis.setText(KJE.sCurrency);k._titleXAxis.setText(KJE.parameters.get("MSG_GRAPH1_XAXIS_TITLE","Payments by Term of Loan"));k._bPopDetail=true;var j=KJE.gNewGraph(KJE.gCATEGORIES,"GRAPH3",true,true,KJE.colorList[1],this.MSG_GRAPH_TITLE3);j._legend.setVisible(true);j._legend._iOrientation=b.TOP_RIGHT;j._showItemLabel=true;j._axisX._fSpacingPercent=0.25;j._axisY._bAutoMinimum=false;j._axisX.setVisible(false);j._titleYAxis.setText(KJE.sCurrency);j._titleXAxis.setText(KJE.parameters.get("MSG_GRAPH2_XAXIS_TITLE","Payments by Down Payment Amount"));j._bPopDetail=true}if(this.SHOW_SIMPLE){KJE.addDiv("INPUTS",KJE.colorList[0])}else{if(KJE.DropperDefined("INPUTS")){var a=KJE.parameters.get("MSG_DROPPER_TITLE","Car financing:");var d=KJE.parameters.get("MSG_DROPPER_CLOSETITLE","Loan amount: KJE1");var e=function(){return a+"|"+KJE.subText(KJE.getKJEReplaced(d,f.dollars(o.LOAN_AMOUNT)),"KJERightBold")};KJE.addDropper(new KJE.Dropper("INPUTS",true,e,e),KJE.colorList[0])}if(KJE.DropperDefined("DOWNPAYMENT")){var c=KJE.parameters.get("MSG_DROPPER_DOWNPAYMENT","Down payment:");var i=KJE.parameters.get("MSG_DROPPER_CLOSEDOWNPAYMENT","KJE1");var n=function(){return c+"|"+KJE.subText(KJE.getKJEReplaced(i,f.dollars(o.TOTAL_DOWN)),"KJERightBold")};KJE.addDropper(new KJE.Dropper("DOWNPAYMENT",false,n,n),KJE.colorList[0])}if(KJE.DropperDefined("TAXES")){var p=KJE.parameters.get("MSG_DROPPER_TAXES","Taxes and fees:");var q=KJE.parameters.get("MSG_DROPPER_CLOSETAXES","KJE1");var m=function(){return p+"|"+KJE.subText(KJE.getKJEReplaced(q,f.dollars(o.TOTAL_TAXES_AND_FEES)),"KJERightBold")};KJE.addDropper(new KJE.Dropper("TAXES",false,m,m),KJE.colorList[0])}}};KJE.AutoLoan.prototype.setValues=function(b){var a=KJE.inputs.items;b.PAYMENT_CALC=a.PAYMENT_CALC.getValue();b.INTEREST_RATE=a.INTEREST_RATE.getValue();b.TERM=a.TERM.getValue();b.PAYMENT_TYPE=a.PAYMENT_TYPE.getValue();b.CASH_DOWN=a.CASH_DOWN.getValue();b.TRADE_ALLOWANCE=a.TRADE_ALLOWANCE.getValue();b.AMOUNT_OWED_ON_TRADE=a.AMOUNT_OWED_ON_TRADE.getValue();b.NONTAX_FEES=a.NONTAX_FEES.getValue();b.TAXABLE_FEES=a.TAXABLE_FEES.getValue();b.SALES_TAX_RATE=a.SALES_TAX_RATE.getValue();b.SALES_TAX_LESS_TRADE=!a.SALES_TAX_LESS_TRADE.getValue();if(b.PAYMENT_CALC){b.AUTO_SALE_PRICE=a.AUTO_SALE_PRICE.getValue();b.MONTHLY_PAYMENT=0;a.MONTHLY_PAYMENT.disable();a.AUTO_SALE_PRICE.enable()}else{b.MONTHLY_PAYMENT=a.MONTHLY_PAYMENT.getValue();b.AUTO_SALE_PRICE=0;a.MONTHLY_PAYMENT.enable();a.AUTO_SALE_PRICE.disable()}};KJE.AutoLoan.prototype.refresh=function(g){var f=KJE;var e=KJE.gLegend;var b=KJE.inputs.items;var a=KJE.gGraphs[0];var d=KJE.gGraphs[1];var c=KJE.gGraphs[2];KJE.setTitleTemplate(g.MSG_AUTO_TITLE);if(!this.SHOW_SIMPLE){a.removeAll();a.setGraphCategories(g.cats);a.add(new KJE.gGraphDataSeries(g.DS_BALANCE,this.MSG_GRAPH1,a.getColor(1)));a.setTitleTemplate(f.dollars(g.LOAN_AMOUNT));a.paint();d.removeAll();d.setGraphCategories(g.CS_CHANGE_TERM);d.add(new KJE.gGraphDataSeries(g.DS_CHANGE_TERM,KJE.MSG_MONTHS,a.getColor(4)));d._axisY._axisMinimum=(g.DS_CHANGE_TERM[3]*0.66);d.paint();c.removeAll();c.setGraphCategories(g.CS_DOWNPAYMENT);c.add(new KJE.gGraphDataSeries(g.DS_DOWNPAYMENT,a.getColor(3)));c._axisY._axisMinimum=(g.DS_DOWNPAYMENT[3]*0.66);c.paint()}b.MONTHLY_PAYMENT.setValue(g.MONTHLY_PAYMENT,true);b.AUTO_SALE_PRICE.setValue(g.AUTO_SALE_PRICE,true)};KJE.InputScreenText=" <div id=KJE-D-INPUTS><div id=KJE-P-INPUTS>Input information:</div></div> <div id=KJE-E-INPUTS > <div id='KJE-C-PAYMENT_CALC'><input type=radio id='KJE-PAYMENT_CALC1' name=PAYMENT_CALC /><input type=radio id='KJE-PAYMENT_CALC2' name=PAYMENT_CALC /></div> <div id='KJE-C-AUTO_SALE_PRICE'><input id='KJE-AUTO_SALE_PRICE' /></div> <div id='KJE-C-MONTHLY_PAYMENT'><input id='KJE-MONTHLY_PAYMENT' /></div> <div id='KJE-C-PAYMENT_TYPE'>**PAYMENT_TYPE**</div> <div id='KJE-C-TERM'><input id='KJE-TERM' /></div> <div id='KJE-C-INTEREST_RATE'><input id='KJE-INTEREST_RATE' /></div> <div style=\"height:10px\"></div> </div> <div id=KJE-D-DOWNPAYMENT><div id=KJE-P-DOWNPAYMENT>Input information:</div></div> <div id=KJE-E-DOWNPAYMENT > <div id='KJE-C-CASH_DOWN'><input id='KJE-CASH_DOWN' /></div> <div id='KJE-C-TRADE_ALLOWANCE'><input id='KJE-TRADE_ALLOWANCE' /></div> <div id='KJE-C-AMOUNT_OWED_ON_TRADE'><input id='KJE-AMOUNT_OWED_ON_TRADE' /></div> <div style=\"height:10px\"></div> </div> <div id=KJE-D-TAXES><div id=KJE-P-TAXES>Input information:</div></div> <div id=KJE-E-TAXES > <div id='KJE-C-NONTAX_FEES'><input id='KJE-NONTAX_FEES' /></div> <div id='KJE-C-TAXABLE_FEES'><input id='KJE-TAXABLE_FEES' /></div> <div id='KJE-C-SALES_TAX_RATE'><input id='KJE-SALES_TAX_RATE' /></div> <div id='KJE-C-SALES_TAX_LESS_TRADE'><input id='KJE-SALES_TAX_LESS_TRADE' type=checkbox name='SALES_TAX_LESS_TRADE' /></div> <div style=\"height:10px\"></div> </div> **GRAPH1** **GRAPH2** **GRAPH3** ";KJE.DefinitionText=" <div id='KJE-D-MONTHLY_PAYMENT' ><dt>Pago mensual</dt><dd>Pago mensual para este pr&eacute;stamo.</dd></div> <div id='KJE-D-INTEREST_RATE' ><dt>Tasa de inter&eacute;s</dt><dd>Tasa de inter&eacute;s anual para este pr&eacute;stamo.</dd></div> <div id='KJE-D-TERM' ><dt>T&eacute;rmino</dt><dd>Plazo en meses para el repago del pr&eacute;stamo.</dd></div> <div id='KJE-D-CASH_DOWN' ><dt>Pronto en efectivo</dt><dd>Cantidad de efectivo utilizada en esta compra.</dd></div> <div id='KJE-D-TRADE_ALLOWANCE' ><dt>Trade-In</dt><dd>Cantidad en d&oacute;lares recibida por su 'trade-in'.</dd></div> <div id='KJE-D-AMOUNT_OWED_ON_TRADE' ><dt>Deuda sobre el 'trade-in'</dt><dd>Cantidad adeudada en el 'trade-in'.</dd></div> <div id='KJE-D-' ><dt>Costos sujetos a impuestos sobre las ventas</dt><dd>Cualquier gasto adicional que est&eacute; sujeto al impuesto sobre las ventas. Usualmente, el mismo incluye cargos por documentos o cualquier otro pagadero en la entrega y sea tributable.</dd></div> <div id='KJE-D-NONTAX_FEES' ><dt>Cargos</dt><dd>Cualquier cargo adicional que no est&eacute; sujeto al impuesto sobre las ventas, entre ellos, cargos por documentos y otros pagaderos en la entrega del veh&iacute;culo.</dd></div> <div id='KJE-D-SALES_TAX_RATE' ><dt>Tasa de impuesto sobre las ventas</dt><dd>La tasa porcentual aplicable a esta compra.</dd></div> <div id='KJE-D-' ><dt>'Trade-in' neto</dt><dd>Cantidad del 'trade-in' neto aplicada a su compra.</dd></div> <div id='KJE-D-AUTO_SALE_PRICE' ><dt>Precio de venta</dt><dd>Precio total de compra de este auto.</dd></div> <div id='KJE-D-' ><dt>Impuesto sobre las ventas</dt><dd>Total del impuesto sobre las ventas en esta compra.</dd></div> <div id='KJE-D-' ><dt>Cantidad del pr&eacute;stamo</dt><dd>Cantidad total de su pr&eacute;stamo de auto.</dd></div> <div id='KJE-D-SALES_TAX_LESS_TRADE' ><dt>Ninguna deducci&oacute;n fiscal o de impuestos para el 'trade-in'</dt><dd>Marque este encasillado si usted reside en una jurisdicci&oacute;n en la que se cobran los impuestos sobre ventas sobre el precio de venta total. Si dicho encasillado no est&aacute; marcado el impuesto sobre ventas se calcula al precio de compra menos el 'trade-in'.</dd></div> ";KJE.ReportText=' <!--HEADING "Calculadora para pr&eacute;stamos de autos" HEADING--> <h2 class=\'KJEReportHeader KJEFontHeading\'>MSG_AUTO_TITLE</h2> **GRAPH** <div class=KJEReportTableDiv><table class=KJEReportTable><caption class=\'KJEHeaderRow KJEHeading\'>Resultados del pr&eacute;stamo de auto</caption> <tr class=KJEOddRow><td class="KJELabel KJECellBorder KJECell60">Tasa de inter&eacute;s:</td><td class="KJECell KJECell40">INTEREST_RATE</td></tr> <tr class=KJEEvenRow><td class="KJELabel KJECellBorder">T&eacute;rmino en meses:</td><td class="KJECell">TERM</td></tr> <tr class=KJEOddRow><td class="KJELabel KJECellBorder">Precio total de compra:</td><td class="KJECell">AUTO_SALE_PRICE</td></tr> <tr class=KJEEvenRow><td class="KJELabel KJECellBorder">Cargos tributables:</td><td class="KJECell">TAXABLE_FEES</td></tr> <tr class=KJEOddRow><td class="KJELabel KJECellBorder">Tasa de impuesto sobre las ventas*:</td><td class="KJECell">SALES_TAX</td></tr> <tr class=KJEEvenRow><td class="KJELabel KJECellBorder" >&nbsp;</td><td class="KJECell" colspan=1><!--*MSG_CHECK_TAX_LESS_TRADE -->*Marque este encasillado si usted reside en una jurisdicci&oacute;n en la que se cobran los impuestos sobre ventas sobre el precio de venta total. Si dicho encasillado no est&aacute; marcado el impuesto sobre ventas se calcula al precio de compra menos el "trade-in".</td></tr> <tr class=KJEOddRow><td class="KJELabel KJECellBorder">Cargos:</td><td class="KJECell">NONTAX_FEES</td></tr> <tr class=KJEEvenRow><td class="KJELabel KJECellBorder">Precio Total :</td><td class="KJECell">TOTAL_SALE_PRICE</td></tr> <tr class=KJEOddRow><td class="KJELabel KJECellBorder" >Pronto en efectivo:</td><td class="KJECell">TOTAL_DOWN</td></tr> <tr class=KJEFooterRow><td class="KJELabel KJECellBorder">Cantidad del pr&eacute;stamo:</td><td class="KJECellStrong">LOAN_AMOUNT</td></tr> <tr class=KJEFooterRow><td class="KJELabel KJECellBorder">Pago mensual:</td><td class="KJECellStrong">MONTHLY_PAYMENT</td></tr><!-- <tr class=KJEFooterRow><td class="KJELabel KJECellBorder">Total payments***:</td><td class="KJECellStrong">TOTAL_OF_PAYMENTS</td></tr> <tr class=KJEFooterRow><td class="KJELabel KJECellBorder">Total interest paid***:</td><td class="KJECellStrong">INTEREST_PAID</td></tr> <tr class=KJEEvenRow><td class="KJELabel KJECellBorder" >&nbsp;</td><td class="KJECell" colspan=1>***This assumes that you do not refinance and that all payments are made on time with no prepayments.</td></tr>--></table> </div> **GRAPH** **GRAPH** <h2 class=\'KJEScheduleHeader KJEFontHeading\'>Plan de pago</h2> **REPEATING GROUP** ';