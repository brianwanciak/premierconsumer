
if(!String.prototype.trim){String.prototype.trim=function(){return this.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}}var KJE={lang:"EN",initFired:false,InReport:false,CalcDelay:100,CalcDelayVML:1000,CalculatorWidthMax:640,CalculatorWidthMin:285,ShowDefinitions:true,ShowCalculateButton:true,ShowPrintButton:true,IncludeDefinitions:true,PopupDefinitions:true,SliderWidthAdjust:0,bNativeSlider:false,ErrorBackground:"#FF7777",IncompleteBackground:"#FFFF77",CalculatorName:"Calculator Title",bUseInputForm:false,CommandButtons:"<div id='KJECommandButtons'><input type=button class=KJECommandButton  name=KJECalculate id=KJECalculate value='**LBL_CALCULATE**' /><input **VIEWREPORT** class=KJECommandButton  id=KJEViewReport name=KJEViewReport value='**LBL_VIEWREPORT**' /></div>",ReportButtons:"<div align=center><div id='KJEReportButtons'><input type=button class=KJECommandButton  name=KJEPrint id=KJEPrintReport value=\"**LBL_PRINTREPORT**\" /><input type=button  class=KJECommandButton  id=KJEHideReport name=KJEHideReport value='**LBL_HIDEREPORT**' /></div></div>",CommandButtonsFixed:false,CommandButtonsTop:true,CommandButtonOffset:20,CommandButtonHeader:0,Scroll:true,ScrollMinimum:23,ReportHeader:"<div class='KJEReportTitleHeader'>**REPORT_TITLE**</div>",ReportStyleDefault:"<style>  BODY, TABLE, TD, TH, UL, OL, DD, DL, P, BR { font-family: arial, sans-serif; font-size: 10pt; } H1 { font-family: arial, sans-serif; font-size: 13pt; font-weight: bold; }DT { font-family: arial, sans-serif; font-size: 10pt; font-weight: bold;  }P.footer { font-family: arial, sans-serif; font-size: 9pt; } DIV.large { font-family: arial, sans-serif; font-size: 13pt; font-weight: bold; }</style>",iDecimal:2,ReportFooter:"<div class=KJECenter><p></p><strong>&copy; 1998-2016 KJE Computer Solutions, LLC</strong><br/>Financial Calculators at <a src='http://www.dinkytown.net'>www.dinkytown.net</a><br/>(612) 331-2291 <br/>1730 New Brighton Blvd. PMB #111<br/>Minneapolis, MN 55413<p class='KJEReportFooter KJECenter'>KJE Computer Solutions, LLC's information and interactive calculators are made available to you as self-help tools for your independent use and are not intended to provide investment advice. We cannot and do not guarantee their applicability or accuracy in regards to your individual circumstances. All examples are hypothetical and are for illustrative purposes.  We encourage you to seek personalized advice from qualified professionals regarding all personal finance issues. More <a href='http://www.dinkytown.net/money/information.html'>Information</a>.</p></div>",ReportExtraFooter:"",ReportStyleSheet:null,ReportStyleSheet2:null,KJEReportBodyClass:"class=KJEReportBody",ReportDocumentEnd:"**FOOTER** <script>setTimeout(function() {window.print(), window.close();}, 1000)<\/script></body></html>\n",CalculatorTitleTemplate:null,CalclatorTitle:null,CalculatorTitleClass:"KJETitle KJEFontHeading KJETitleExtra",CalculatorTitleErrorClass:"KJETitle KJEError",CalculatorTitleMissingClass:"KJETitle KJEMissing",CalculatorTableClass:"KJECalculatorTable",CalculatorTableReportClass:"KJECalculatorReportTable",CalcTitlePadding:20,ClearColor:"#FFFFFF",colorList:["#E8EFB2","#AEC69C","#DDDDDD","#BE4262","#FABB50","#DDCCDD","#CCCCCC","#CCCCDD","#CCDDCC","#CCDDDD","#CCCCDD"],colorRGBackground:"#FFFFFF",DefinitionsH1:"<h2 class='KJEDefinitionsHeader KJEFontHeading'>**LBL_DEFINITIONS**</h2>",LBL_DEFINITIONS:"Definitions",Colon:":",CalculatorTitleEntry:"Please enter or select a value in all fields:",CalculatorTitleCalc:"Press 'Calculate' to view your results.",ButtonCalculate:"Calculate",ButtonViewReport:"View Report",ButtonHideReport:"Hide Report",ButtonPrintReport:"Print",sCurrency:"Dollars",MSG_YEARS_LBL:"years",MSG_YEAR_LBL:"year",MSG_MONTHS_LBL:"months",MSG_MONTH_LBL:"month",MSG_AND_LBL:"and",MSG_YES:"Yes",MSG_NO:"No",YES:"yes",NO:"no",MSG_EXCEEDS_LIMIT_OF_RANGE:"KJE1 is limited to KJE2",MSG_UNDER_LIMIT_OF_RANGE:"KJE1 can't be less than KJE2",MSG_INVALID_DATE:"Please enter a valid date for KJE1",MSG_MISSING_ITEM:"Please enter a value for KJE1",MSG_GRAPH:"**GRAPH**",SplashContent:"Financial Calculators from<br />Dinkytown.net",Default:{RORMarket:7,RORRetire:4,RORSave:0.25,RateCard:16,RatePersonal:7.5,RateFix15:4,RateFix30:4.5,RateAdj:4,RateAuto:7,RateAutoLow:1.9,MortgageAmt:200000,HomePrice:220000,StateTaxRate:8,InflationRate:2.9,MortgageMin:0,MortgageMax:100000000,MortgageRateMin:0,MortgageRateMax:25,MortgageTerm:30,MortgageTermMin:1,MortgageTermMax:40,MortgageTermIncrement:5,MortgageShowAll:true,MortgageShowAllMax:25,InvestRateMin:0,InvestRateMax:20,InvestSliderRateMax:12,InflationRateMin:0,InflationRateMax:20,InflationSliderRateMax:12},InTask:false,calcCleared:false,CalculatorDiv:"KJECalculatorDiv",AllContent:"KJEAllContent",CalcTimeout:0,CalcTitleHeight:0,Error:false,InComplete:false,bValidateIncomplete:true,Calculating:false,gGraphs:new Array(0),gReportGraphs:new Array(0),iOldWidth:-1,bSizeInitialized:false,ResizeTimeOut:null,iUrekau:[470449998, 1565113176,1332498680,0,1505998205,380075612],InputScreenText:false,DefinitionText:false,ReportText:false,MSG_ADA_TABLE:"role='presentation'",TypedArray:(typeof Float64Array!="undefined"),showInputsFirst:false,replace:function(c,b,a){return(a?a.split(c).join(b):"")},getKJEReplaced:function(a){if(a||a==""){for(var b=1;b<arguments.length;b++){a=a.replace("KJE"+(b),arguments[b])}}else{a="";for(b=0;b<arguments.length;b++){a+=arguments[b]+(b==arguments.length-1?"":", ")}}return a},dateFormat:function(c){var a="/",b=c.getMonth()+1;return(c==null?"":b+a+c.getDate()+a+c.getFullYear())},chjilap:function(d){var b=0;var e="";if(d.length==0){}else{for(var a=0;a<d.length;a++){e=d.charCodeAt(a);b=((b<<5)-b)+e;b=b&b}}return b},getTermLabel:function(f,c){var n=KJE;var j=Math.floor(f/12),b=(f%12),d=n.MSG_AND_LBL,g=n.MSG_MONTH_LBL,l=n.MSG_MONTHS_LBL,e=n.MSG_YEAR_LBL,k=n.MSG_YEARS_LBL,h=" ",a="";return(c||j>0?j+h+(j==1?e:k):a)+(c||(j>0&&b>0)?h+d+h:a)+(c||b>0?b+h+(b==1?g:l):a)},setOrientation:function(){var a=KJE;switch(window.orientation){case -90:case 90:a.resize(true);break;default:a.resize(true);break}},resize:function(b){var a=KJE;if(!a.device.iphone||b){if(a.iOldWidth!=window.innerWidth&&a.bSizeInitialized){if(a.ResizeTimeOut!=null){clearTimeout(a.ResizeTimeOut)}a.ResizeTimeOut=setTimeout(a.calcResize,500);if(a.MenuResize){a.MenuResize()}}a.bSizeInitialized=true}},InputSetup:function(a,l){var n=KJE;var h=n.bUseInputForm&&!n.IE7and8;var f="**COMMAND_BUTTONS**";var j=(n.IE7and8||n.deviceMobile||n.CommandButtonsFixed)&&n.CommandButtonsTop;var g=a.indexOf(f);var k="<div id='KJETitle' aria-live='polite' class='"+n.CalculatorTitleClass+"'>"+n.CalculatorTitleShow+"</div>";var d="**TITLE_BAR**";var e=a.indexOf(d);for(var c=1;c<10;c++){a=n.replace("**GRAPH"+c+"**",n.replace(n.MSG_GRAPH,"<div id=KJE-C-GRAPH"+c+" style='width:100%;'><canvas id=KJE-G-GRAPH"+c+"></canvas></div>",n.VML?" "+n.MSG_GRAPH+" ":n.MSG_ADA_GRAPH),a)}var m="<!--KJEMAIN--><div id='KJEGuiDataPoint' style='top: 0; left: 0;'></div>";if(n.ExtraHeader){m+=n.ExtraHeader}if(h){m+="<form name=KJECalcForm id=KJECalcForm onsubmit='return false;'>"}m+="<div id=KJECalculatorScreenSize align=center style='position:relative; width:100%'>";m+=(g<0&&j?f:"");m+="<div id='KJEWait' class=KJEWait></div>";m+="<div id='KJEMenu' class=KJEMenu></div>";m+="<div id='KJEMenuWindow'></div>";m+="<div id=KJECalculatorTable>";m+="<div id=KJECalculatorTableCell class='KJECalculator KJEEase' align=center style='width:100%'>";m+="<span id=KJESplash class=KJEBold style='color:#333333'><br /><br /><br />"+n.SplashContent+"<p class=KJEFooter>Financial Calculators &copy;1998-2016 KJE Computer Solutions, LLC</p><br /><br /><br /><br /><br /><br /><br /><br /></span>";m+="<div id='KJEMain' class=KJEMain >";m+=(e<0?k:"");m+="<div id='KJEInputs' class='KJEInputs'>"+a+"</div>";m+="</div>";m+="</div>";m+="</div>";m+=(g<0&&!j?f:"");m+="</div>";if(h){m+="</form>"}m+="<!--KJEMAINEND-->";m+="<div id=KJEReport class=KJEReport width=100%>";m+=(g>=0?"**REPORT_BUTTONS**":"");m+="<div id=KJEReportTop></div>";for(c=0;c<n.ReportGraphCount;c++){m+="<div align=center><div id=KJE-C-REPORTGRAPH"+c+' style="page-break-inside: avoid; margin-top:15px; height:'+n.gHeight+'px;"><!--GRAPH'+c+"--><canvas id=KJE-G-REPORTGRAPH"+c+"></canvas><!--GRAPHEND--></div></div>";m+="<div id=KJEReportMiddle"+c+"></div>"}if(n.ExtraFooter){m+=n.ExtraFooter(l)}m+="</div>";if(n.IncludeDefinitions){m+=n.formatDefinitions(l)}m=m.replace("**REPORT_BUTTONS**",n.ReportButtons.replace("**LBL_HIDEREPORT**",n.ButtonHideReport).replace("**LBL_PRINTREPORT**",n.ButtonPrintReport));m=m.replace(d,k);return m.replace(f,n.CommandButtons.replace("**LBL_VIEWREPORT**",n.ButtonViewReport).replace("**LBL_CALCULATE**",n.ButtonCalculate).replace("**VIEWREPORT**",(h?"type=submit":"type=button")))},formatDefinitions:function(c){var a=KJE;var b="<!--KJEDEFINITIONS--><div width=100% align=center >";b+="<div id=KJEDefinitions class=KJEDefinitions width=100%>"+a.DefinitionsH1.replace("**LBL_DEFINITIONS**",a.LBL_DEFINITIONS);b+="<dl>"+c+"</dl>";b+="</div>";b+="</div><!--KJEDEFINITIONSEND-->";return b},inCommandTask:function(f){var a=KJE;var b="px";var c=a.Wait.style;var e="inline-block";var h="none";var b="px";var c=a.Wait.style;var g=a.CalculatorTable.offsetTop+23+"px";var d=a.CalculatorTable.offsetLeft+10+"px";if(a.InTask&&f){return true}c.top=g;c.right=d;c.display=(f?e:h);if(a.displayMenu){a.displayMenu(f)}a.InTask=f;return false},setTitle:function(d,h){var b=KJE;var a=b.subheader;var e=b.kujiae;var g=b.CalcTitle;var f=b.kujaleip;var c=b.UKuejna;if(!b.CalcTitleWidth){b.CalcTitleWidth=g.offsetWidth-b.CalcTitlePadding*2}if(f){g.innerHTML=c+e+a;g.className=b.CalculatorTitleErrorClass}else{KJE.TrialReplace1=1;g.innerHTML=d+a;if(h){g.className=h}else{g.className=b.CalculatorTitleClass}}b.Calculator.style.height=b.Main.offsetHeight+"px"},setTitleTemplate:function(){var a=KJE;var c="";if(a.CalculatorTitleTemplate){c=a.CalculatorTitleTemplate;for(var b=0;b<arguments.length;b++){c=c.replace("KJE"+(b+1),arguments[b])}a.CalculatorTitleShow=c}else{a.CalculatorTitleShow=a.CalculatorTitle}},results:function(f,h){var k=KJE;k.calcCleared=false;if(k.IE7and8){k.Wait.style.display="block"}if(k.CalcTimeout){clearTimeout(k.CalcTimeout)}if(f){if(k.inCommandTask(true)){return}k.showInputs()}try{k.Error=false;k.InComplete=false;k.DataPointHide();var a=k.CalcControl;a.clear();k.GuiControl.setValues(a);if(k.setValuesAdditional){k.setValuesAdditional(a)}var j=0;var g=k.inputs.items;for(var e in g){if(!g[e].validate()){j++;k.InComplete=true;var d=k.getKJEReplaced(k.MSG_MISSING_ITEM,g[e]._sLabel)}}if(!k.InComplete){if(h&&a.initReport){a.initReport()}a.calculate(h?true:false);if(KJE.calculateAdditional){KJE.calculateAdditional(a,h?true:false)}k.GuiControl.refresh(a);if(KJE.refreshAdditional){KJE.refreshAdditional(k.GuiControl,a)}for(var e in k.droppers.items){k.droppers.items[e].setText()}k.setTitle(k.CalculatorTitleShow)}if(k.InComplete&&k.bValidateIncomplete){k.calcClear(j>1?k.CalculatorTitleEntry:d,k.CalculatorTitleMissingClass)}}catch(b){k.Error=true;var c=b+" ";if(c.indexOf("NS_ERROR_FAILURE")<1){k.calcClear(c,k.CalculatorTitleErrorClass)}}if(k.IE7and8){k.Wait.style.display="none"}if(f){setTimeout(function(){k.inCommandTask(false)},400)}if(KJE.StorageSet){KJE.StorageSet()}},calcClear:function(c,f){var a=KJE;var d=a.gGraphs;if(!c){c=a.CalculatorTitleEntry}if(!f){f=null}for(var e=0;e<d.length;e++){if(d[e]){d[e].blank()}}for(var b in a.inputs.items){if(a.inputs.items[b]._inputType==a.TypeLabel){a.inputs.items[b].setText("")}}if(a.GuiControl.clear){a.GuiControl.clear()}a.setTitle(c,f)},calcResize:function(){var a=KJE;if(a.setWidth()){var c=a.gGraphs;for(var b in a.inputs.items){a.inputs.items[b].newWidth()}for(var d=0;d<c.length;d++){if(c[d]){c[d].setWidth(true)}}}if(a.resizeMenu){a.resizeMenu()}},dataChanged:function(b){var a=KJE;if(a.CalcTimeout){clearTimeout(a.CalcTimeout)}if(a.VML){if(!a.calcCleared&&b){a.calcClear(a.CalculatorTitleCalc);a.calcCleared=true}a.CalcTimeout=setTimeout(a.results,(b?a.CalcDelayVML:a.CalcDelay))}else{a.CalcTimeout=setTimeout(a.results,a.CalcDelay)}},completeFade:function(){var a=KJE;if(a.fade<100){a.fade+=(a.device.iphone?100:4);a.Buttons.style.opacity=(a.fade/100);a.Main.style.opacity=(a.fade/100)}else{clearInterval(a.pace)}},Startfade:function(){var a=KJE;if(a.fade<100){a.fade+=4;a.Splash.style.opacity=(1-a.fade/100)}else{clearInterval(a.pace);a.Splash.style.display="none";a.fade=0;a.pace=setInterval(a.completeFade,10)}},showCalculator:function(){var a=KJE;a.results(true);a.ms=(a.Main.style.opacity!=0||a.Main.style.opacity=="");if(a.ms){setTimeout(function(){a.Buttons.style.visibility="visible";a.Main.style.visibility="visible";a.Splash.style.display="none"},500)}else{a.Buttons.style.opacity=0;a.Main.style.opacity=0;a.Splash.style.opacity=1}a.fade=0;a.pace=setInterval(a.Startfade,10)},getOffset:function(c){var b=0;var a=0;while(c&&!isNaN(c.offsetLeft)&&!isNaN(c.offsetTop)){b+=c.offsetLeft-c.scrollLeft;a+=c.offsetTop-c.scrollTop;c=c.offsetParent}return{top:a,left:b}},setWidth:function(b){var a=KJE;var c=a.ScreenSize.clientWidth-(a.deviceMobile?3:5);c=(a.CalculatorWidthMax<c?a.CalculatorWidthMax:c);c=(c<a.CalculatorWidthMin?a.CalculatorWidthMin:c);if(a.oldClientWidth!=c){a.oldClientWidth=c;a.CalculatorTable.style.width=c+"px";a.Calculator.style.height=a.Main.offsetHeight+"px";a.DataPoint.style.maxWidth=c-37+"px";a.CalculatorWidth=c-10;if(b){a.Splash.style.width=c;a.oldClientWidth=0}return true}return false},FloatArray:function(d){var a=KJE;if(a.TypedArray){return new Float64Array(d)}var b=new Array(d);for(var c=0;c<d;c++){b[c]=0}return b},IntArray:function(b){var a=KJE;if(a.TypedArray){return new Int16Array(b)}return new Array(b)},init:function(){var U=KJE;if(U.initFired){return}U.InputClass="KJEInput"+(KJE.InputModern?" KJEInputModern":"");U.initFired=true;var E=navigator.userAgent;U.device={iphone:E.match(/(iPhone|iPod|iPad)/),android:E.match(/Android/)};U.deviceUseNumberType=U.deviceMobile=E.match(/(iPhone|iPod|iPad|Silk|Android)/);U.deviceInputPad=(U.deviceUseNumberType?KJE.parameters.get("DEVICE_INPUT_PAD",10):0);U.deviceNoTransition=E.match(/(iPhone|iPod|iPad|BlackBerry|Silk|Android)/);U.bUseStorage=false;if(U.bStorageInit){U.bUseStorage=U.bStorageInit()}var I=U.ReportStyleSheet,R=U.ReportStyleSheet2,j="KJE.css",g="KJESiteSpecific.css",A=document.getElementsByTagName("link");for(var D=0;D<A.length;++D){var L=A[D].href;if(L.indexOf(j)>=0&&I==null){I=L;U.hRefPath=L.substring(0,L.lastIndexOf("/")+1)}if(L.indexOf(g)>=0&&R==null){R=L}}if(I==null){I=j}if(R==null){R=g}U.ReportStyleSheet=I;U.ReportStyleSheet2=R;var M=U.iUrekau;var W=M.length,r=location.hostname,K=U.kujiae=r.replace(/^www\./i,""),b=U.parameters,e=document;var Q=U.chjilap(K);U.kujaleip=true;for(var P=W-1;P>=0;P--){if(Q==M[P]){U.kujaleip=false}}KJE.TrialReplace1=2;U.CalculatorTitleShow=U.CalculatorTitle=(b.get("TITLE_TEMPLATE",U.CalculatorTitle?U.CalculatorTitle:document.title));U.AllContent=e.getElementById(U.AllContent);if(!U.ReportText){var n=e.getElementById("KJEReportText");if(n){U.ReportText=n.innerHTML;n.innerHTML=""}}var x=U.definitions.items;var t=U.DefinitionText;for(var N in x){t=U.replace(N,x[N],t)}if(U.parseDefinitions){t=U.parseDefinitions(t)}U.DefinitionText=t;var J=U.ReportText;if(U.ReportProcess){J=U.ReportProcess(J)}U.ReportGraphCount=0;if(J){J=U.replace("KJE_CURRENTDATE",U.dateFormat(new Date()),J);var c=0;while(true){c=J.indexOf(U.MSG_GRAPH,c);if(c>=0){U.ReportGraphCount++;c+=U.MSG_GRAPH.length}else{break}}}U.ReportText=J;if(U.parseInputs){U.InputScreenText=U.parseInputs(U.InputScreenText)}U.AllContent.innerHTML=U.InputSetup(U.InputScreenText,t);U.Splash=e.getElementById("KJESplash");U.inputsViewable=true;U.Wait=e.getElementById("KJEWait");U.Report=e.getElementById("KJEReport");U.ReportTop=e.getElementById("KJEReportTop");var p=U.ReportMiddle=new Array();for(P=0;P<U.ReportGraphCount;P++){p[P]=e.getElementById("KJEReportMiddle"+P)}var z=U.Buttons=e.getElementById("KJECommandButtons");var G=U.Calculate=e.getElementById("KJECalculate");var C=U.PrintReport=e.getElementById("KJEPrintReport");var l=U.ViewReport=e.getElementById("KJEViewReport");var f=U.HideReport=e.getElementById("KJEHideReport");var S=U.Inputs=e.getElementById("KJEInputs");var s=U.DataPoint=e.getElementById("KJEGuiDataPoint");var H=U.Calculator=e.getElementById("KJECalculatorTableCell");U.ScreenSize=e.getElementById("KJECalculatorScreenSize");var O=U.CalcTitle=e.getElementById("KJETitle");O.style.padding=U.CalcTitlePadding+"px";var T=U.Main=e.getElementById("KJEMain");var o=U.Definitions=e.getElementById("KJEDefinitions");if(o&&o.lastChild){var u=o.lastChild.childNodes;var V=u.length;for(P=0;P<V;P++){var d=u[P];if(d.id&&d.id.substr(0,6)=="KJE-D-"){var q=d.id.substr(6).trim();var B=b.get("DFN_"+q,null);if(B=="REMOVE"){d.innerHTML="";d.style.visibility="hidden";d.style.display="none";d.id=null}else{if(B){if(d.lastChild){d.lastChild.innerHTML=B}}var B=b.get("DFN_NAME_"+q,b.get("MSG_"+q,null));if(B){if(d.firstChild){d.firstChild.innerHTML=B}}}}}}S.style.display="block";U.CalculatorTable=e.getElementById("KJECalculatorTable");if(U.menuInit){U.menuInit()}if(s.addEventListener){var F="click";G.addEventListener(F,U.calculateButtonAction,false);l.addEventListener(F,U.showReport,false);s.addEventListener(F,U.DataPointHide,false);if(C){C.addEventListener(F,U.printTheReport,false)}if(f){f.addEventListener(F,U.showReport,false)}}else{var F="onclick";G.attachEvent(F,U.calculateButtonAction);l.attachEvent(F,U.showReport);if(U.DataPointHide){s.attachEvent(F,U.DataPointHide)}if(C){C.attachEvent(F,U.printTheReport)}if(f){f.attachEvent(F,U.showReport)}}H.style.height=H.offsetHeight+"px";if(U.IE7and8){z.style.visibility="hidden";T.style.visibility="hidden";U.Splash.style.visibility="visible"}else{z.style.opacity=0;T.style.opacity=0;U.Splash.style.opacity=1}if(U.IE7and8||U.CommandButtonsFixed){z.style.position="relative";z.style.top=U.CommandButtonOffset+"px"}else{z.style.position="absolute";z.style.top=H.offsetTop-U.CommandButtonOffset+"px"}if(window.addEventListener){window.addEventListener("scroll",U.scrolled,false);window.addEventListener("resize",U.resize,false);window.addEventListener("orientationchange",U.setOrientation,false)}U.oldClientWidth=0;U.setWidth(true);U.CalculatorTitleTemplate=b.get("TITLE_TEMPLATE",U.CalculatorTitleTemplate);var a=U.HeaderTitle=b.get("CALC_HEADER_TITLE","");var w=U.HeaderDesc=b.get("CALC_HEADER_DESC","");U.initialize();var y=e.getElementById("KJEHeaderContent");if(y){var m=b.get("CALC_HEADER_DIV","<div id=KJECalculatorTitle><h1>CALC_HEADER_TITLE</h1></div><div id=KJECalculatorDescription>CALC_HEADER_DESC</div>");y.innerHTML=m.replace("CALC_HEADER_TITLE",a).replace("CALC_HEADER_DESC",w)}if(U.customInit){U.customInit(this)}U.showTimer()},showTimer:function(){var a=KJE;setTimeout(a.showCalculator,250)},scrolled:function(){var a=KJE;if(!a.CommandButtonsFixed){if(a.ScrollTimeOut!=null){clearTimeout(a.ScrollTimeOut)}a.ScrollTimeOut=setTimeout(a.buttonPosition,200)}},buttonPosition:function(){var b=KJE;var d=b.util.findPosRelativeToViewport(b.Calculator)[1];var c="px",h=b.Calculator.offsetTop,a=b.AllContent.offsetHeight,f=b.CommandButtonHeader,e=b.CommandButtonOffset;var g=(h-e)+c;if((d+h+a)<0){g=(h+a)+c}else{if(d-f<0){g=(h-d+5+f)+c}}b.Buttons.style.top=g},goScroll:function(){var a=KJE;if(a.Scroll){var b=a.util.findPos(a.Calculator);window.scrollTo(b[0],b[1]-a.ScrollMinimum)}},showInputs:function(){var a=KJE;if(a.CalcControl.initInputs){a.CalcControl.initInputs()}var b=a.Report.style.display="none";var c="inline-block";var e="block";a.CalculatorTable.className=a.CalculatorTableClass;a.Calculate.value=a.ButtonCalculate;a.ViewReport.value=a.ButtonViewReport;a.Calculate.style.display=a.ShowCalculateButton?c:b;var d=a.Definitions;if(d){d.style.display=a.ShowDefinitions?e:b}a.Main.style.display=e;a.Calculator.style.height=a.Main.offsetHeight+"px";a.reportViewable=false;if(a.showInputsFirst){a.goScroll()}else{a.showInputsFirst=true}a.calcResize()},calculateButtonAction:function(){var a=KJE;if(KJE.MenuWindowHide){KJE.MenuWindowHide()}a.goScroll();if(a.reportViewable){a.printTheReport()}else{if(!a.Error&&!a.InComplete){a.CalcTimeout=setTimeout(a.results,10)}}},printOpenReport:function(h){var n=KJE;var g=document.getElementById("KJEAllContent");var e=n.replace;var a=n.gReportGraphs;var b=g.innerHTML;var m=n.ReportDocumentStart+b+n.ReportDocumentEnd;var l=m.indexOf("<!--KJEDEFINITIONS-->");var k=m.indexOf("<!--KJEDEFINITIONSEND-->",l);m=m.substring(0,l)+m.substring(k);l=m.indexOf("<!--KJEMAIN-->");k=m.indexOf("<!--KJEMAINEND-->",l);m=m.substring(0,l)+m.substring(k);m=e("<!--KJEDEFINITIONSEND-->","",m);m=e("<!--REPORT_DEFINED_END-->","",m);m=e("<!--KJEMAINEND-->","",m);m=e("**REPORT_STYLE_SHEET**",n.ReportStyleSheet,m);m=e("**REPORT_STYLE_SHEET2**",n.ReportStyleSheet2,m);m=e("**REPORT_DEFAULT_STYLE**",n.ReportStyleDefault,m);n.ReportHeader=n.replace("<img src='logo.png'","<img src='"+n.hRefPath+"logo.png'",n.ReportHeader);m=e("**HEADER**",n.ReportHeader,e("**REPORT_TITLE**",document.title,m));m=e("**FOOTER**",e("<!--EXTRA_FOOTER-->",n.ReportExtraFooter,n.ReportFooter),m);m=e("**REPORT_TITLE**",n.CalcName?n.CalcName:n.CalculatorTitleShow,m);m=e("**TITLE**",n.CalcName?n.CalcName:"Financial Calculator",m);m=e("Calculator Calculator","Calculator",m);var d="<!--GRAPHEND-->";for(var j=0;j<n.ReportGraphCount;j++){var f="";if(!n.VML){f='<img src="'+a[j].wCanvas.toDataURL()+'" height='+a[j].wCanvas.offsetHeight+" width="+a[j].wCanvas.offsetWidth+">"}var c="<div class='KJEGraphTitle'>"+e('"',"&quote",a[j]._titleGraph.s)+"</div>";l=m.indexOf("<!--GRAPH"+j+"-->");k=m.indexOf(d,l);m=m.substring(0,l)+c+f+m.substring(k+d.length)}h.document.write(m);h.document.close();h.focus()},printTheReport:function(){var a=KJE;if(a.IE7and8||a.VML){window.print();return}var c=0;if(screen){c=screen.width/2-480}var b=window.open("","_blank","toolbar=yes,menubar=yes,location=no,directories=no,status=no,scrollbars=yes,resizable=yes,copyhistory=no,width=960,height="+(screen.height-170)+",left="+c+",top=5");if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){setTimeout(function(){a.printOpenReport(b)},100)}else{a.printOpenReport(b)}},showReport:function(){var a=KJE;a.InTask=false;if(a.Error||a.InComplete){return}if(a.inCommandTask(true)){return}setTimeout(a.showReportFinal,200)},showReportFinal:function(){var a=KJE;a.DataPointHide();if(KJE.MenuWindowHide){KJE.MenuWindowHide()}if(!a.reportViewable){a.CalculatorTable.className=a.CalculatorTableReportClass;a.results(false,true);if(a.Error||a.InComplete){a.inCommandTask(false);return}a.reportViewable=true;a.Calculate.value=a.ButtonPrintReport;a.Calculate.style.display=(a.ShowPrintButton?"inline-block":"none");a.Calculator.style.height="0px";a.Main.style.display="none";if(a.Definitions){a.Definitions.style.display="none"}a.Report.style.display="block";a.ViewReport.value=a.ButtonHideReport;if(a.reportPreprocess){a.sReport=a.reportPreprocess(a.CalcControl,a.ReportText)}else{a.sReport=a.ReportText}a.sReport=a.CalcControl.formatReport(a.sReport);setTimeout(a.fireReport,50)}else{a.showInputs();setTimeout(function(){a.inCommandTask(false)},400)}},fireReport:function(){var b=KJE;var d=b.sReport.split(b.MSG_GRAPH);b.sReport="";if(d[0]){b.ReportTop.innerHTML=d[0]}for(var e=0;e<b.ReportGraphCount;e++){if(d[e+1]){b.ReportMiddle[e].innerHTML=d[e+1]}}if(b.gReportGraphs.length!=d.length-1){for(var f=0;f<b.ReportGraphCount;f++){var a=b.gNewGraph(b.gGraphs[f]._gtGraphType._iGraphType,"REPORTGRAPH"+(f),true,false,false,b.sgv(b.gGraphs[f]._titleGraph.getProperty(),""),true);if(a){b.gReportGraphs[f]=a}}}var c=null;for(f=0;f<b.gReportGraphs.length;f++){c=b.gReportGraphs[f];c.setProperty(b.gGraphs[f].getProperty());c._legend.setProperty(b.gGraphs[f]._legend.getProperty());c._grid.setProperty(b.gGraphs[f]._grid.getProperty());c._axisY.setProperty(b.gGraphs[f]._axisY.getProperty());c._axisX.setProperty(b.gGraphs[f]._axisX.getProperty());c.setTitle(b.sgv(b.gGraphs[f]._titleGraph.getProperty(),""));c._titleXAxis.setProperty(b.gGraphs[f]._titleXAxis.getProperty());c._titleYAxis.setProperty(b.gGraphs[f]._titleYAxis.getProperty());c.add(b.gGraphs[f].getDataProperties());c.setBackground(b.parameters.get("PAGEBACKGROUND_COLOR",b.colorRGBackground));c.setWidth(true,b.CalculatorWidth)}var h=b.CalcControl;if(h.formatGraph){h.formatGraph(h,b.gReportGraphs)}if(h.reportComplete){h.reportComplete(b.GuiControl)}b.ViewReport.focus();b.goScroll();setTimeout(function(){b.inCommandTask(false)},400)}};KJE.util={findPos:function(a){var b=curtop=0;if(a.offsetParent){do{b+=a.offsetLeft;curtop+=a.offsetTop}while(a=a.offsetParent)}return[b,curtop]},getPageScroll:function(){var b,a;if(self.pageYOffset){a=self.pageYOffset;b=self.pageXOffset}else{if(document.documentElement&&document.documentElement.scrollTop){a=document.documentElement.scrollTop;b=document.documentElement.scrollLeft}else{if(document.body){a=document.body.scrollTop;b=document.body.scrollLeft}}}return[b,a]},findPosRelativeToViewport:function(c){var b=this.findPos(c);var a=this.getPageScroll();return[b[0]-a[0],b[1]-a[1]]}};KJE.InputModern=(navigator.userAgent.match(/(iPhone|iPod)/)?false:true);KJE.IE=((window.ActiveXObject||"ActiveXObject" in window)?true:false);KJE.IE7=(navigator.appVersion.indexOf("MSIE 7.")!=-1);KJE.IE8=(navigator.appVersion.indexOf("MSIE 8.")!=-1);KJE.IE7and8=(KJE.IE7||KJE.IE8)&&(!window.addEventListener);if(!KJE.IE7and8){KJE.IE7=false}KJE.VML=(KJE.IE7and8||(typeof G_vmlCanvasManager!="undefined"));KJE.List=function(){this.length=0;this.items={}};KJE.List.prototype.getSet=function(b,a){if(this.exists(b)){return this.items[b]}return this.set(b,a)};KJE.List.prototype.get=function(b,a){if(typeof(this.items[b])=="undefined"){return a}else{return this.items[b]}};KJE.List.prototype.exists=function(a){return !(typeof(this.items[a])=="undefined")};KJE.List.prototype.set=function(a,b){if(typeof(b)!="undefined"){if(typeof(this.items[a])=="undefined"){this.length++}this.items[a]=b}return b};KJE.CalculatorWidth=KJE.CalculatorWidthMax;KJE.ReportDocumentStart='<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head><title>**REPORT_TITLE**</title><meta name="viewport" content="height=device-height,width=device-width,initial-scale=1">**REPORT_DEFAULT_STYLE**<link type="text/css" rel="StyleSheet" href="**REPORT_STYLE_SHEET**" /><link type="text/css" rel="StyleSheet" href="**REPORT_STYLE_SHEET2**" /></head><body '+KJE.KJEReportBodyClass+">**HEADER**",KJE.MSG_ADA_GRAPH="<figure style='margin:0; padding:0;'><figcaption class=KJEAccessible>Please view the report to see detailed results in tabular form.</figcaption>"+KJE.MSG_GRAPH+"</figure>";KJE.parameters=new KJE.List();KJE.inputs=new KJE.List();KJE.droppers=new KJE.List();KJE.definitions=new KJE.List();KJE.definitions.set("**INFLATION_DEFINITION**","This is what you expect for the average long-term inflation rate. A common measure of inflation in the U.S. is the Consumer Price Index (CPI).  From 1925 through 2015 the CPI has a long-term average of 2.9% annually. Over the last 40 years highest CPI recorded was 13.5% in 1980. For 2015, the last full year available, the CPI was 0.0% annually as reported by the Minneapolis Federal Reserve.");KJE.definitions.set("**ROR_DEFINITION**","The actual rate of return is largely dependent on the types of investments you select.  The Standard & Poor's 500&reg; (S&P 500&reg;) for the 10 years ending Dec. 1st, 2015, had an annual compounded rate of return of 7.76%, including reinvestment of dividends. From January 1970 through to Dec. 2015, the average annual compounded rate of return for the S&P 500&reg;, including reinvestment of dividends, was approximately 10.5% (source: www.standardandpoors.com). Since 1970, the highest 12-month return was 61% (June 1982 through June 1983). The lowest 12-month return was -43% (March 2008 to March 2009). Savings accounts at a financial institution may pay as little as 0.25% or less but carry significantly lower risk of loss of principal balances.<P>It is important to remember that these scenarios are hypothetical and that future rates of return can't be predicted with certainty and that investments that pay higher rates of return are generally subject to higher risk and volatility. The actual rate of return on investments can vary widely over time, especially for long-term investments. This includes the potential loss of principal on your investment. It is not possible to invest directly in an index and the compounded rate of return noted above does not reflect sales charges and other fees that Separate Account investment funds and/or investment companies may charge.");KJE.UKuejna="KJE Calculator License Not Found for: ";KJE.subheader="";KJE.iStorageTime=1000;KJE.STORAGE_NONE=0;KJE.STORAGE_AUTO=1;KJE.bStorageNonsupportWarning=true;KJE.bStorageOK=function(){if(typeof(Storage)!=="undefined"&&typeof(localStorage)!="undefined"){try{localStorage.setItem("localStorage",1);localStorage.removeItem("localStorage")}catch(a){KJE.bUseStorage=KJE.STORAGE_NONE;if(KJE.bStorageNonsupportWarning&&!KJE.deviceMobile){alert('Your web browser does not support storing settings locally. The most common cause of this is using "Private Browsing Mode". The Auto Save functions will be disabled, all other aspects of the calculator will work correctly.')}return false}return true}return false};KJE.bStorageInit=function(){KJE.oStorageItems=null;KJE.bUseStorage=KJE.parameters.get("LOCAL_STORAGE",KJE.STORAGE_AUTO);KJE.sStorageKey=(typeof KJE.CalcType!="undefined"?KJE.CalcType:"TEMP");if(KJE.bStorageOK()){try{var b=localStorage.getItem(KJE.sStorageKey);if(KJE.LZString){b=KJE.LZString.decompressFromEncodedURIComponent(b)}KJE.oStorageItems=JSON.parse(b)}catch(c){KJE.oStorageItems={}}if(KJE.oStorageItems==null){KJE.oStorageItems={}}localStorage.setItem(KJE.sStorageKey+"_href",KJE.formatHref());localStorage.setItem(KJE.sStorageKey+"_title",document.title)}else{KJE.bUseStorage=KJE.STORAGE_NONE}if(KJE.getURLValueParam){var a=KJE.getURLValueParam();if(a){KJE.oStorageItems=a}}return KJE.bUseStorage};KJE.StorageSet=function(){if(KJE.bUseStorage){if(KJE.bStorageTimeout){clearTimeout(KJE.bStorageTimeout)}KJE.bStorageTimeout=setTimeout(KJE.bStorageSet,KJE.iStorageTime)}};KJE.getJSONFromInputs=function(){var b=KJE.inputs.items;var a={};for(var c in b){if(b.hasOwnProperty(c)){if(b[c]._inputType!=KJE.TypeLabel&&b[c]._inputType!=KJE.TypeNone){a[c]=b[c]._value}if(b[c]._inputTypeAdditional==KJE.TypeDropBox){a[b[c]._Additional.name]=b[c]._Additional.value}}}var d=JSON.stringify(a);return d};KJE.bStorageSet=function(c,b){var a=KJE.getJSONFromInputs();if(KJE.LZString){a=KJE.LZString.compressToEncodedURIComponent(a)}if(KJE.bUseStorage){localStorage.setItem(KJE.sStorageKey+(c?"#"+c:""),a);if(b){localStorage.setItem(KJE.sStorageKey+"#"+c+"_name",b)}}return a};KJE.bStoragePopulate=function(c){var b=KJE.inputs.items;for(var d in b){var a=false;if(c.hasOwnProperty(d)){a=c[d]}else{if(b.hasOwnProperty(d)){a=b[d].vDefault}}var e=null;if(b[d]._inputTypeAdditional!=KJE.TypeNone){if(c.hasOwnProperty(b[d]._Additional.name)){e=c[b[d]._Additional.name]}else{e=b[d].vDefault2}}KJE.InputItem.InputSetValues(b[d],a,e,false)}KJE.results(true)};KJE.StorageGet=function(b,a){var d=KJE.parameters.get(b,a);if(KJE.oStorageItems&&KJE.bUseStorage){var c=KJE.oStorageItems[b];if(c!=null){d=c}}return d};KJE.bHrefTrimURL=true;KJE.formatHref=function(){var a=document.location.href;if(KJE.bHrefTrimURL){var b=a.indexOf("?");if(b>0){a=a.substr(0,b)}}return a};if(document.addEventListener){document.addEventListener("DOMContentLoaded",KJE.init,false)}KJE.bHT=false;KJE.ROR_MONTH=function(a){return Math.pow(1+(a),1/12)-1};KJE.ROR_PERIOD=function(a,b){return Math.pow(1+(a),1/b)-1};KJE.APY_MONTH=function(a){return KJE.FV_AMT(a,12,1)-1};KJE.NPV_AMT=function(b,c,a){if(b==-1){return 0}return(a/Math.pow((1+b),c))};KJE.FV_AMT=function(b,c,a){if(b==0){return a}return(a/Math.pow((1+b),((-1)*c)))};KJE.FV_BEGIN=function(a,c,b){if(a==0){return c*b}return(b/a)*(Math.pow((1+a),c+1)-1)-b};KJE.FV=function(a,c,b){if(a==0){return c*b}return(b/a)*(Math.pow((1+a),c)-1)};KJE.PV=function(a,c,b){return KJE.NPV_AMT(a,c,KJE.FV(a,c,b))};KJE.RATE=function(h,c,b){var a=0;var g=1;var e=c;var d=KJE.PMT;for(var f=1;f<50;f++){e=d(a,h,b);if(e==c){return a}else{if(e<c){a+=g}else{a-=g}}g=g/2}return a};KJE.PERIODS=function(b,c,a){if(b==0&&c!=0){return a/c}var f=3120;var h=1560;var e=c;var d=KJE.PMT;for(var g=1;g<50;g++){e=d(b,f,a);if(e==c){return f}else{if(e<c){f-=h}else{f+=h}}h=h/2}return f};KJE.PERIODS_FV=function(h,i,a){var f=720;var g=360;var e=i;var d=KJE.PMT;var c=KJE.NPV_AMT;for(var b=1;b<50;b++){e=d(h,f,c(h,f,a));if(e==i){return f}else{if(e<i){f-=g}else{f+=g}}g=g/2}return f};KJE.APR=function(f,c,b,a,e){var d=KJE.PMT(b,f,a+e);return KJE.RATE(f,d,a)};KJE.PMT=function(a,c,b){if(c<=0){return b}if(c<=1){return b*(1+a)}if(a==0){return b/c}return(b*a)/(1-Math.pow((1+a),(c*(-1))))};KJE.PMT_BEGIN=function(a,h,e){var c=KJE.PMT;if(h<=1){return e}var b=c(a,h,e);var g=b/2;var d=0;for(var f=1;f<50;f++){d=c(a,h-1,e-b);if(d==b){return b}else{if(d<b){b-=g}else{b+=g}}g=g/2}return b};KJE.ScheduleTableTitle="Periodic Schedule";KJE._sTableHeader="<div class='KJEScheduleDiv'><table class='KJEScheduleTable KJEReportTableShrink' summary='**TITLE_TAG**'>";KJE._sTableHeaderSmall="<table class='KJEScheduleTable KJEReportTableShrink' summary='**TITLE_TAG**'>";KJE._sTableFooter="</table></div>";KJE._sTableFooterSmall="</table>";KJE._sTopRow="<tr class='KJEScheduleHeaderRow' >";KJE._sEvenRow="<tr class='KJEScheduleEvenRow' >";KJE._sOddRow="<tr class='KJEScheduleOddRow' >";KJE._sRowFooter="</tr>";KJE._sHeading="<th class='KJEScheduleHeading' >";KJE._sHeadingUnderline="<th class='KJEScheduleHeadingUnderline' >";KJE._sHeadingFooter="</th>";KJE._sCell="<td class='KJEScheduleCell' >";KJE._sCellStrong="<td class='KJEScheduleCellStrong' >";KJE._sCellSpecial="<td class='KJEScheduleCellSpecial' >";KJE._sCellFooter="</td>";KJE._sCellBorderClass="KJECellBorder";KJE.Repeating=function(a){a=(!a?"MSG_REPORT_COL":a);this.sRepeating="";this.nRepeatingCount=0;this.sReportCols=new Array(15);this.bReportRequired=new Array(15);for(var b=0;b<15;b++){this.sReportCols[b]=KJE.parameters.get(a+(b+1),"");this.bReportRequired[b]=KJE.parameters.get("MSG_REPORT_REQ"+(b+1),true)}};KJE.Repeating.prototype.sReportCol=function(a,b){var c="";if(b<1||b>this.sReportCols.length){c=a}else{if(!this.sReportCols[b-1]||this.sReportCols[b-1]==""){c=a}else{c=this.sReportCols[b-1]}}return c};KJE.Repeating.prototype.getRepeat=function(d){var a=KJE;var c=a._sTableHeader;var b=a._sTableFooter;if(a.CalculatorWidth<640){c=a._sTableHeaderSmall;b=a._sTableFooterSmall}return c.replace("**TITLE_TAG**",d?d.replace("'","&#39;"):a.parameters.get("MSG_REPEAT_TITLE",a.ScheduleTableTitle))+this.sRepeating+b};KJE.Repeating.prototype.clearRepeat=function(){this.sRepeating="";this.nRepeatingCount=0};KJE.Repeating.prototype.add=function(o,n,c,b,k,m,d,l){var p="";if(arguments.length==0){return p}var f=this.bReportRequired;var a="";var j="";for(var h=m.length;h>1;h--){if(m[h-1]!=null){break}}var g=0;d=(d?true:false);for(var e=0;e<h;e++){if(m[e]!=null){if(m[e]!=""&&f[e]){if(m[e].sContent){j=m[e].sContent;a=(m[e].sCell?m[e].sCell:o);if(m[e].sFormat){a=a.replace(">"," "+m[e].sFormat+">")}d=false}else{a=o;if(d){a=a.replace("' >","' scope='col' >")}j=m[e]}if(e<h-1){a=a.replace("class='","class='"+k+" ")}g++;p+=a+j+n}}}if(g>0&&d){p=KJE.replace("' >","' width="+KJE.number(Math.floor(100/g),0)+"% >",p)}this.sRepeating+=c+(!l?p.replace("<td","<td scope='row' "):p)+b};KJE.Repeating.prototype.addHeader=function(){var a=KJE;this.add(a._sHeading,a._sHeadingFooter,a._sTopRow,a._sRowFooter,a._sCellBorderClass,arguments,true,true)};KJE.Repeating.prototype.addFooter=function(){var a=KJE;this.add(a._sCellStrong,a._sCellFooter,a._sTopRow,a._sRowFooter,a._sCellBorderClass,arguments,true,true)};KJE.Repeating.prototype.addRepeat=function(){var a=KJE;this.add(a._sCell,a._sCellFooter,(this.nRepeatingCount%2==0?a._sOddRow:a._sEvenRow),a._sRowFooter,a._sCellBorderClass,arguments,false,false);this.nRepeatingCount++};KJE.getScreenCoord=function(g,a,b){var f=0;var e=0;do{f+=b.offsetLeft;e+=b.offsetTop}while(b=b.offsetParent);var d=f+g;var c=e+a;return{x:d,y:c}};KJE.getMouseCoord=function(a,j,c){var n=0;var m=0;do{n+=j.offsetLeft;m+=j.offsetTop}while(j=j.offsetParent);var h=0;var e=0;var g=a.pageX;if(g==null){var b=document.documentElement;var l=(b&&b.scrollLeft!=null)?b:document.body;h=a.clientX+l.scrollLeft;e=a.clientY+l.scrollTop}else{if(c){var k=a.touches[0];h=k.pageX;e=k.pageY}else{h=g;e=a.pageY}}var i=h-n;var f=e-m;return{x:i,y:f}};KJE.sIncomplete="?";KJE.DropperColors=false;KJE.iDropperCount=0;KJE.sToggleTitle="<table **EXPANDED** class='KJEToggleTable' "+KJE.MSG_ADA_TABLE+"><tr><td width=99% class=**TITLE_CLASS** valign='top'>**TITLE_TEXT**<span class='KJEAccessibleInLine' aria-live='true'><br>**IMG_TEXT**</span></td><td class='KJEToggleIcon **IMG**' aria-hidden='true'>**ICON**</td></tr></table>";KJE.sToggleTitle1="<table **EXPANDED** class='KJEToggleTable' style='margin-left: 8px; margin-bottom: 8px;' "+KJE.MSG_ADA_TABLE+"><tr><td width=100% class=**TITLE_CLASS** valign='top'>**TITLE_TEXT**<span class='KJEAccessibleInLine' aria-live='true'><br>**IMG_TEXT**</span></td></tr></table>";KJE.sToggleTitle2="<table **EXPANDED** class='KJEToggleTable' "+KJE.MSG_ADA_TABLE+"><tr><td width=49% class=**TITLE_CLASS** valign='top'>**TITLE_TEXT**<span class='KJEAccessibleInLine' aria-live='true'><br>**IMG_TEXT**</span></td><td width=49% class=**TITLE_CLASS**  valign='top'>**TITLE_TEXT2**</td><td class='KJEToggleIcon **IMG**' aria-hidden='true'>**ICON**</td></tr></table>";KJE.sToggleAltTextClose="Press spacebar to show inputs";KJE.sToggleAltTextOpen="Press spacebar to hide inputs";KJE.sToggleTitleClass="KJEToggleTitle";KJE.sInputDescTextClass="KJESubTitle KJERight";KJE.sToggleIcon="KJEInputIcon";KJE.sToggleOpen="[+]";KJE.sToggleClose="[-]";KJE.sExpand="aria-expanded";KJE.sExpanded="";KJE.sCollapse="";KJE.FMT_NUMBER=0;KJE.FMT_DOLLARS=1;KJE.FMT_PERCENT=2;KJE.FMT_INPUT=3;KJE.FMT_YESNO=4;KJE.FMT_STRING=5;KJE.sCP="$";KJE.sCS="";KJE.sPP="";KJE.sPS="%";KJE.sNP="";KJE.sNS="";KJE.sPC=",";KJE.sPD=".";KJE.sCC=",";KJE.sCD=".";KJE.bEuropeDecimals=false;KJE.ACCOUNTING_NEGATIVE=false;KJE.format=new Array();KJE.iDPRowHeight=30;KJE.iDPItemHeight=28;KJE.iDPDropHeight=KJE.iDPItemHeight;KJE.iDPInputHeight=22;KJE.iDPInputTop=2;KJE.iDPInputPad=5;KJE.iDPSliderPad=0;KJE.iDPDropBoxPad=4;KJE.iDPDropBoxModernPad=20;KJE.DataPointX=0;KJE.DataPointY=0;KJE.bNoLabel=false;KJE.bPlusMinus=false;KJE.subText=function(a,c,b){c=KJE.sInputDescTextClass+(c?" "+c:"");b=(b?b:"div");return"<"+b+" class='"+c+"'>"+a+"</"+b+">"};KJE.nbr=function(p,e,b,m,c,q,o){var s=KJE;if(!p){p=0}q=q||false;c=c||false;b=b||"";m=m||"";e=e||0;if(e>10){e=10}var f=s.round(p,e);var j=(f<0);if(j){f*=-1}var h=(f+"").split(".");var g="";if(e>0){if(!h[1]){if(!c){g=("0000000000").substr(0,e)}}else{if(h[1].length==e){g=h[1]}else{g=h[1]+(c?"":("0000000000").substr(0,e-h[1].length))}}if(g.length>0){g=s.sPD+g}}var a="";if(!q&&(f>999)){var k=h[0].length;if(k%3>0){a=h[0].substr(0,k%3)+s.sPC}for(var d=k%3;d<k;d+=3){a+=h[0].substr(d,3)+(d+3<k?s.sPC:"")}}else{a=h[0]}if(a==""){a="0"}if(o&&o>a.length){a=("0000000000"+a);a=a.substring(a.length-o)}return(j?(s.ACCOUNTING_NEGATIVE?"(":"-"):"")+b+a+g+m+(s.ACCOUNTING_NEGATIVE&&j?")":"")};KJE.format[KJE.FMT_NUMBER]=function(a,b){return KJE.nbr(a,b,"","",true,false)};KJE.number=KJE.format[KJE.FMT_NUMBER];KJE.format[KJE.FMT_DOLLARS]=function(a,b){return KJE.nbr(a,b,KJE.sCP,KJE.sCS,false,false)};KJE.dollars=KJE.format[KJE.FMT_DOLLARS];KJE.format[KJE.FMT_PERCENT]=function(a,b){return KJE.nbr(a*100,b,KJE.sPP,KJE.sPS,true,false)};KJE.percent=KJE.format[KJE.FMT_PERCENT];KJE.format[KJE.FMT_INPUT]=function(a,b,c){return KJE.nbr(a,b,"","",true,true,c)};KJE.input=KJE.format[KJE.FMT_INPUT];KJE.format[KJE.FMT_YESNO]=function(a){return(a?KJE.YES:KJE.NO)};KJE.yesno=KJE.format[KJE.FMT_YESNO];KJE.round=function(b,a){return(a?(Math.round(b*(Math.pow(10,a))))/(Math.pow(10,a)):Math.round(b))};KJE.setLabelWrap=function(f,c,e,a,b,d){if(e){a="**MESSAGE**"}else{if(!a){a="<label "+(d?'class="'+d.trim()+'"':"")+' for="'+c+'">**MESSAGE**</label>'}}f._sLabel=a;if(b){KJE.setLabelText(f,b)}};KJE.setLabelText=function(b,a){b.innerHTML=b._sLabel.replace("**MESSAGE**",a)};KJE.SliderKnobExtraClass=false;KJE.SliderKnobSize=12;KJE.SliderKnobVertAdj=-3;KJE.SliderLabelVertAdj=0;KJE.LabelLength=190;KJE.InputLength=80;KJE.RightPad=10;KJE.LabelLeftMargin=0;KJE.InputTotalLength=KJE.LabelLeftMargin+KJE.LabelLength+KJE.InputLength+KJE.RightPad;KJE.SliderMinLength=130;KJE.TypeNone=0;KJE.TypeNumber=1;KJE.TypeString=2;KJE.TypeDate=3;KJE.TypeRadio=4;KJE.TypeCheckbox=5;KJE.TypeDropBox=6;KJE.TypeLabel=7;KJE.SliderScale=new Object();KJE.s_scale=new Array(10);KJE.s_scale[0]=[0,1000,5000,10000,10,50,100];KJE.s_scale[1]=[0,1000,5000,20000,10,50,200];KJE.s_scale[2]=[0,1000,10000,100000,50,100,1000];KJE.s_scale[3]=[0,10000,100000,500000,250,1000,5000];KJE.s_scale[4]=[0,10000,100000,1000000,250,1000,10000];KJE.s_scale[5]=[0,100000,1000000,10000000,500,10000,100000];KJE.s_scale[6]=[0,500,2500,5000,10,50,100];KJE.s_scale[7]=[0,100,500,1000,5,25,50];KJE.s_scale[8]=[0,24,48,72,6,6,6];KJE.s_scale[9]=[0,100,200,300,10,10,10];KJE.s_label=new Array(10);KJE.k="k";KJE.m="m";KJE.s_label[0]=["$0","$1k","$5k","$10k"];KJE.s_label[1]=["$0","$1k","$5k","$20k"];KJE.s_label[2]=["$0","$1k","$10k","$100k"];KJE.s_label[3]=["$0","$10k","$100k","$500k"];KJE.s_label[4]=["$0","$10k","$100k","$1m"];KJE.s_label[5]=["$0","$100k","$1m","$10m"];KJE.s_label[6]=["$0","$500","$2.5k","$5k"];KJE.s_label[7]=["$0","$100","$500","$1k"];KJE.s_label[8]=["0","24","48","72"];KJE.s_label[9]=["$0","$100","$200","$300"];KJE.MakeScale=function(a,e,c,f,h,g,d){var b=this;b._Min=a;b._Mid1=e;b._Mid2=c;b._Max=f;b._stepMin=h;b._stepMid=g;b._stepMax=d;b._range=100};KJE.useScale=function(b){var a=KJE;var c=a.s_scale[b];return new a.MakeScale(c[0],c[1],c[2],c[3],c[4],c[5],c[6])};KJE.s_Translate=function(a,b,h,g,f,c,j,i){var e=0;if(a>66.66){e=Math.round(((g+((a-66.66)/33.33)*(f-g))/i))*i}else{if(a>33.33){e=Math.round(((h+((a-33.33)/33.33)*(g-h))/j))*j}else{if(a>0){e=Math.round(((a/33.33)*(h-b)/c))*c+b}else{e=b}}}return(e>f?f:e)};KJE.s_Untranslate=function(b,a,e,c,f){var g=0;if(b>f){return 100}else{if(b>c){g=66.66+((b-c)*33.33)/(f-c)}else{if(b>e){g=33.33+((b-e)*33.33)/(c-e)}else{g=((b-a)*33.33)/(e-a)}}}return(g<0?0:g)};KJE.Slider=function(g,h,f,c,e,j,a,i,b,d){return new KJE.InputItem(d,KJE.TypeNumber,g,h,true,"KJE-"+g,f,c,0,e,j,a,i,b)};KJE.MortgageAmtSlider=function(e,d,b,c){var a=KJE;return a.Slider(e,d,a.Default.MortgageMin,a.Default.MortgageMax,c?c:0,a.FMT_DOLLARS,0,[a.dollars(a.Default.MortgageMin/1000)+a.k,a.dollars(200)+a.k,a.dollars(500)+a.k,a.dollars(1)+a.m],new a.MakeScale(0,200000,500000,1000000,5000,10000,20000),b)};KJE.LoanAmtSlider=function(d,c,b){var a=KJE;return a.Slider(d,c,a.Default.MortgageMin,a.Default.MortgageMax,0,a.FMT_DOLLARS,0,[a.dollars(a.Default.MortgageMin/1000)+a.k,a.dollars(5)+a.k,a.dollars(25)+a.k,a.dollars(100)+a.k],new a.MakeScale(0,5000,25000,100000,100,500,1000),b)};KJE.MortgageTermSlider=function(e,c,d,b){var a=KJE;return a.Slider(e,c,a.Default.MortgageTermMin,a.Default.MortgageTermMax,0,a.FMT_NUMBER,(d?d:a.Default.MortgageTermIncrement),[a.Default.MortgageTermMin,a.number(Math.floor((a.Default.MortgageTermMax-a.Default.MortgageTermMin)*0.334+a.Default.MortgageTermMin)),a.number(Math.floor((a.Default.MortgageTermMax-a.Default.MortgageTermMin)*0.667+a.Default.MortgageTermMin)),a.number(a.Default.MortgageTermMax)],null,b)};KJE.MortgageTermDropBoxSlider=function(e,d,c){var a=KJE;var b=a.getMortgageTermList().v;return a.DropBoxSlider(e,d,b)};KJE.NumberSlider=function(h,f,d,a,e,g,c){var b=KJE;return b.Slider(h,f,d,a,(e?e:0),b.FMT_NUMBER,(g?g:1),[d,b.number(Math.floor((a-d)*0.334+d)),b.number(Math.floor((a-d)*0.667+d)),b.number(a)],null,c)};KJE.InputSlider=function(f,i,b,e,c,h,a,d){var j=KJE;var g=j.Slider(f,i,b,e,c?c:0,j.FMT_INPUT,(a?a:1),[b,j.input(Math.floor((e-b)*0.334+b)),j.input(Math.floor((e-b)*0.667+b)),j.input(e)],null,d,h);g._iPadding=h;g.setValue(g.getValue(),true);return g};KJE.DollarSlider=function(h,j,b,f,c,a,e,d){e=(e>=0&&e<=9?e:-1);var k=KJE;if(e==-1){for(var g=0;g<=7;g++){if(k.s_scale[g][3]==f){e=g;break}}}if(e!=-1){return k.Slider(h,j,b,f,(c?c:0),k.FMT_DOLLARS,1,k.s_label[e],k.useScale(e),d)}return k.Slider(h,j,b,f,(!c&&c!=0?2:c),k.FMT_DOLLARS,(a?a:10),[k.dollars(b),k.dollars(Math.floor((f-b)*0.334+b)),k.dollars(Math.floor((f-b)*0.667+b)),k.dollars(f)],null,d)};KJE.ZipcodeInput=function(e,d,b){var a=KJE;var c=new KJE.InputItem(b,KJE.TypeNumber,e,d,true,"KJE-"+e,0,99999,0,0,a.FMT_INPUT,0,false);c._iPadding=5;c.setValue(c.getValue(),true);return c};KJE.DollarInput=function(g,f,d,a,e,c){var b=KJE;return new KJE.InputItem(c,KJE.TypeNumber,g,f,true,"KJE-"+g,d,a,0,(!e&&e!=0?2:e),b.FMT_DOLLARS,0,false)};KJE.PercentInput=function(g,f,d,a,e,c){var b=KJE;return new KJE.InputItem(c,KJE.TypeNumber,g,f,true,"KJE-"+g,d,a,0,(!e&&e!=0?2:e),b.FMT_PERCENT,0,false)};KJE.PercentSlider=function(h,f,d,a,e,g,c){var b=KJE;return b.Slider(h,f,d,a,(e?e:2),b.FMT_PERCENT,(g?g:0.1),[b.percent(d/100),b.percent(Math.floor((a-d)*0.334+d)/100),b.percent(Math.floor((a-d)*0.667+d)/100),b.percent(a/100)],null,c)};KJE.MortgageRateSlider=function(d,c,b){var a=KJE;return a.RateSlider(d,c,a.Default.MortgageRateMin,a.Default.MortgageRateMax,a.Default.MortgageRateMax,null,b)};KJE.InvestRateSlider=function(d,c,b){var a=KJE;return a.RateSlider(d,c,a.Default.InvestRateMin,a.Default.InvestRateMax,a.Default.InvestSliderRateMax,null,b)};KJE.InflationRateSlider=function(d,c,b){var a=KJE;return a.RateSlider(d,c,a.Default.InflationRateMin,a.Default.InflationRateMax,a.Default.InflationSliderRateMax,null,b)};KJE.preKJE=function(a){return(a?"KJE-"+a:null)};KJE.suffix=function(b,a){return(a?b+a:null)};KJE.RateSlider=function(f,m,i,d,h,a,c){a=a?a:0.5;i=i?i:0;d=d?d:25;h=h?h:12;var n=KJE;var j=n.percent;var g=h-i;var l=Math.floor(g*0.337+i);var k=Math.floor(g*0.667+i);var e=[j(i/100),j(l/100),j(k/100),j(h/100)];var b=new n.MakeScale(i,l,k,h,a,a,a);return n.Slider(f,m,i,d,3,n.FMT_PERCENT,0,e,b,c)};KJE.Nbr=function(f,g,e,a,b,h,d,c){var i=KJE;return new i.InputItem(c,i.TypeNumber,f,g,true,"KJE-"+f,e,a,0,b,h,0,false,false,i.suffix(f,"_TRAIL"),i.suffix(i.preKJE(f),"_TRAIL"),d,null,null,i.TypeLabel)};KJE.NbrDropBox=function(e,g,d,a,b,h,f,c){var i=KJE;return new i.InputItem(c,i.TypeNumber,e,g,true,"KJE-"+e,d,a,0,b,h,0,false,false,f,i.preKJE(f),null,null,null,i.TypeDropBox)};KJE.Checkbox=function(e,d,f,b,c){var a=KJE;return new a.InputItem(c,a.TypeCheckbox,e,d,false,"KJE-"+e,0,0,f,0,0,0,false,false,null,null,b)};KJE.DropBoxString=function(f,d,e,b,c){var a=KJE;return new a.InputItem(c,a.TypeDropBox,f,d,true,"KJE-"+f,0,0,0,0,a.FMT_STRING,0,false,false,e,a.preKJE(e),b)};KJE.DropBox=function(f,d,e,b,c){var a=KJE;return new a.InputItem(c,a.TypeDropBox,f,d,true,"KJE-"+f,0,0,a.parameters.get(f,0),0,0,0,false,false,e,a.preKJE(e),b)};KJE.DropBoxSlider=function(d,c,e,b){var a=KJE;var f=[e[0],e[Math.floor(e.length*0.333)],e[Math.floor(e.length*0.666)],e[e.length-1]];return new a.InputItem(b,a.TypeDropBox,d,c,true,"KJE-"+d,0,e.length-1,0,0,0,1,f,null)};KJE.Label=function(f,d,e,b,c){var a=KJE;return new a.InputItem(c,a.TypeLabel,f,d,true,"KJE-"+f,0,0,0,0,0,0,false,false,e,a.preKJE(e),b)};KJE.StringInput=function(f,d,e,b,c){var a=KJE;return new a.InputItem(c,a.TypeString,f,d,true,"KJE-"+f,0,0,0,0,0,0,false,false,e,a.preKJE(e),b)};KJE.Date=function(f,d,e,b,c){var a=KJE;return new a.InputItem(c,a.TypeDate,f,d,true,"KJE-"+f,0,0,"TODAY",0,0,0,false,false,e,a.preKJE(e),b)};KJE.Radiobox=function(f,e,d,g,b,c){var a=KJE;return new a.InputItem(c,a.TypeRadio,e,d,false,"KJE-"+e,0,0,g,0,0,0,false,false,null,null,b,null,f)};KJE.Radioboxes=function(f,e,g,c,b,d){var a=KJE;return new a.InputItem(d,a.TypeRadio,f,e,false,"KJE-"+f+"1",0,0,g,0,0,0,false,false,f,a.suffix(a.preKJE(f),"2"),c,b)};KJE.InputItem=function(an,k,g,j,a,ao,ag,Z,o,C,P,G,aA,n,B,H,aj,J,ap){var F=this;var au=KJE;var at=au.setLabelWrap;var am=au.parameters;F._inputType=k;F._name=g;F._inputTypeAdditional=au.TypeNone;F._increment=Math.abs(G);F._decimals=C;F._iPadding=0;F._format=P;F._minimum=ag;F._maximum=Z;F._range=Z-ag;F.bValidate=true;F.bIncompleteCheck=true;F.bNoLabel=KJE.bNoLabel;F.vDefault=am.get(F._name,o);F.oAdditional=H;var U=am.get("MSG_"+g+"1",aj);var X=am.get("MSG_"+g+"2",J);var al=typeof document.createElement!="undefined"&&typeof document.documentElement!="undefined"&&typeof document.documentElement.offsetWidth=="number";if(!al){return}F._sError="";F._bError=false;F._InComplete=false;F._mouseDown=false;au.inputs.set(g,this);var ar=F._container=document.getElementById("KJE-C-"+F._name);if(!ar){F._inputType=au.TypeNone;F.setValue(F.vDefault,true);return}ar.className="KJEInputContainer";var f=ar.style;ar.backgroundColor=f.backgroundColor;var z=ar.offsetWidth;F.bSlider=(aA!=false);if(au.bNativeSlider===undefined){var K=document.createElement("input");K.setAttribute("type","range");au.bNativeSlider=K.type!=="text"}if(n){F._oScale=n}var d=au.iDPInputPad;var M=F._inputField=document.getElementById(ao);var Y=F._iInputFieldDiv=document.getElementById(ao+"Div");var ae=M.style;M.name=(ap?ap:F._name);M.className=au.InputClass;ae.height=au.iDPInputHeight-KJE.iDPInputTop+"px";ae.lineHeight=ae.height;ae.top=au.iDPInputTop+"px";ae.position="absolute";M.resize=false;M.setAttribute("aria-required","true");F._sLabel=am.get("MSG_"+F._name,j);var E=0;if(j!=null&&au.LabelLength!=0){an=(an?" "+an:"");var V=document.getElementById("KJE-D-"+(au.InputItem.AltHelpName?au.InputItem.AltHelpName:F._name));var ay=F._label=document.createElement("div");var p=ay.style;p.position="absolute";p.width=au.LabelLength+"px";p.left=KJE.LabelLeftMargin+"px";p.top=(au.iDPInputHeight/4)+au.iDPInputTop+"px";F.className=(V&&KJE.PopupDefinitions?"KJEHelp ":"KJELabel ")+an;at(ay,ao,au.deviceMobile||!a,null,F.bNoLabel?"":F._sLabel+(F._sLabel!=""?au.Colon:""),F.className);if(V&&KJE.PopupDefinitions){F.AddDefinitionEvents(ay,V)}ay.className=F.className;try{ar.insertBefore(ay,Y?Y:M)}catch(O){}E=ay.offsetWidth;if(!E){E=au.LabelLength}var T=ay.offsetHeight;if(T+6>au.iDPRowHeight){f.height=T+6+"px";p.top="0px"}}var r=E;var af=0;M.indent=(au.deviceInputPad?au.deviceInputPad:d)+E+d*2+au.RightPad+au.InputLength;if(F.bNoLabel){M.indent=0;E=0}if(F._inputType==au.TypeCheckbox||F._inputType==au.TypeRadio){F._sTrailingText=U;F._sTrailingText2=X;ae.left=E+"px";if(U){var x=document.createElement("div");var ak=x.style;at(x,ao,false,null,F._sTrailingText);x.className="KJETrailingLabel";ak.position="absolute";E=E+d*1.5+(M.offsetWidth?M.offsetWidth:15);ak.left=E+"px";ar.appendChild(x);ak.top=(au.iDPInputHeight/4)+au.iDPInputTop+"px";var T=x.offsetHeight;if(T+6>au.iDPRowHeight){f.height=T+6+"px";ak.top="0px"}E+=x.offsetWidth;x=x}}else{if(F._inputType!=au.TypeDropBox){if(F._inputType==au.TypeLabel){M.className="KJEOutputLabel "+an;ae.top=(au.iDPInputHeight/4)+au.iDPInputTop+"px";ae.left=(E+d)+"px";M.indent+=au.deviceInputPad;if(U){ae.width=au.InputLength+d+"px"}else{M.resize=true}ae.height=au.iDPItemHeight-2+"px"}else{if(F._inputType==au.TypeString||F._inputType==au.TypeDate){ae.left=((au.deviceInputPad?au.deviceInputPad:d)+E)+"px";if(U||F.bSlider||F._inputType==au.TypeDate){ae.width=au.InputLength+"px"}else{M.indent=((au.deviceInputPad?au.deviceInputPad:d)+E)+d;M.resize=true}}else{ae.width=au.InputLength+"px";if(au.deviceUseNumberType){var t=document.createElement("div");var aB=t.style;t.className="KJELabelBold";aB.position="absolute";aB.width=au.deviceInputPad+"px";aB.left=E+"px";aB.top=(au.iDPInputHeight/4)+au.iDPInputTop+"px";if(P==au.FMT_DOLLARS){t.innerHTML=au.sCP+au.sCS}else{if(P==au.FMT_PERCENT){t.innerHTML=au.sPP+au.sPS}else{t.innerHTML=""}}aB.height=au.iDPInputHeight+"px";ar.appendChild(t);d=t.offsetWidth+1}if(au.deviceUseNumberType&&(F._decimals==0&&F._maximum<1000)){M.type="number"}ae.left=(E+d)+"px"}}}else{M.className="KJEDropBox";var aq=((au.deviceInputPad?au.deviceInputPad:d)+E);var Q=au.iDPDropHeight-au.iDPInputTop;var s=au.InputLength+KJE.iDPDropBoxPad;if(Y){var D=Y.style;Y.className="KJEDropBoxDivModern";M.className="KJEDropBox KJEDropBoxModern";D.height=au.iDPInputHeight-KJE.iDPInputTop-2+"px";D.top=au.iDPInputTop-1+"px";D.position="absolute";D.left=aq+"px";ae.left=0+"px";D.height=Q+"px";D.width=s+"px";ae.width=s+KJE.iDPDropBoxModernPad+"px";ae.top=(au.IE7and8?-7:0)+au.iDPInputTop+"px"}else{ae.width=s+"px";ae.left=aq+"px";ae.top=au.iDPInputTop+"px"}ae.height=Q+"px";if(!U&&!F.bSlider){M.indent=((au.deviceInputPad?au.deviceInputPad:KJE.iDPDropBoxPad)+E)+d;M.resize=true}}}if(H){var l=F._Additional=document.getElementById(H);if(F._Additional){var ax=l.style;ax.position="absolute";ax.top=au.iDPInputTop+"px";l.setAttribute("aria-required","true");var z=au.CalculatorWidth-au.iDPInputPad*2;if(au.TypeRadio==F._inputType){F._inputTypeAdditional=au.TypeRadio;l.indent=E+d*2;ax.left=l.indent+"px";l.name=(ap?ap:F._name);l.className=KJE.InputClass;ax.height=au.iDPInputHeight-au.iDPInputTop+"px";if(X){var u=F._label3=document.createElement("div");var aw=u.style;at(u,H,false,null,F._sTrailingText2);u.className="KJETrailingLabel";aw.position="absolute";var ac=l.offsetWidth;ac=(ac?ac:20);aw.height=au.iDPInputHeight+"px";aw.top=(au.iDPInputHeight/4)+au.iDPInputTop+"px";if(!ar.offsetWidth){var c=au.LabelLength+au.InputLength+d*7+ac;aw.left=c+ac+"px";ax.left=c+"px"}else{if((z-l.indent)<au.SliderMinLength){ax.top=au.iDPInputHeight+"px";ax.left=r+"px";aw.top=au.iDPInputHeight+(au.iDPInputHeight/4)+"px";aw.left=r+d*1.5+M.offsetWidth+"px";f.height=(au.iDPRowHeight*1.6)+"px"}else{aw.left=E+d*3.5+ac+"px"}}ar.appendChild(u)}}else{F._inputTypeAdditional=au.TypeDropBox;var N=F._AdditionalDiv=document.getElementById(H+"Div");l.name=B;l.className="KJEDropBox";var m=au.iDPDropHeight-au.iDPInputTop;var ab=E+(au.offsetWidth?au.offsetWidth(M):M.offsetWidth)+5+d*2;var q=ab-d;var aa=z-ab;if(N){var W=N.style;N.className="KJEDropBoxDivModern";l.className="KJEDropBox KJEDropBoxModern";W.position="absolute";W.top=au.iDPInputTop-1+"px";W.height=m+"px";W.left=q+"px";W.width=aa+"px";ax.left=0+"px";ax.top=(au.IE7and8?-7:0)+au.iDPInputTop+"px"}else{ax.left=q+"px"}ax.width=aa+"px";ax.height=m+"px";l.indent=ab;if(aa<au.SliderMinLength&&ar.offsetWidth){ax.top=au.iDPRowHeight+"px";f.height=(au.iDPRowHeight*2)+"px"}}if(l.addEventListener){l.addEventListener("change",au.dataChanged,false)}else{l.attachEvent("onchange",au.dataChanged)}}else{if(U){F._inputTypeAdditional=au.TypeLabel;F._sTrailingText=U;var x=document.createElement("div");var ak=x.style;at(x,H,false,null,F._sTrailingText);x.className="KJETrailingLabel";ak.position="absolute";ak.left=((E+(au.deviceInputPad?au.deviceInputPad:d)+d)+au.InputLength+5)+"px";ak.top=(au.iDPInputHeight/4)+au.iDPInputTop+"px";ak.height=au.iDPInputHeight+"px";F._Additional=x;l=F._Additional=x;F._label2=x;ar.appendChild(x)}}}else{if(F.bSlider){var af=((E+(au.deviceInputPad?au.deviceInputPad:d)+d)+au.InputLength+au.iDPSliderPad);var Q=au.iDPItemHeight;var A=F._slider=document.createElement("div");var I=A.style;A.setAttribute("aria-hidden","true");if(!KJE.bPlusMinus){A.labels=F.setLabelSlider(Q,Q*0.1,af+au.SliderKnobSize/2,aA);A.labels.indent=af;I.position="absolute";I.left=af+"px";A.className="KJESlider"}else{A.className="KJEIncrementer"}A.indent=af;A.unselectable="on";I.height=Q+"px";A.bMO=true;ar.appendChild(F._slider);if(KJE.bPlusMinus){var b=F._plus=document.createElement("div");var az=F._minus=document.createElement("div");var ah=b.style;var y=az.style;az.className="KJEIncrementControl KJEIncrementMinus";b.className="KJEIncrementControl KJEIncrementPlus";y.bMouseoutignore=ah.bMouseoutignore=true;y.unselectable=ah.unselectable="on";y.position=ah.position="relative";y.cursor=ah.cursor="pointer";A.appendChild(F._minus);A.appendChild(F._plus);F.AddPlusMinusEvents(b,az)}else{if(au.bNativeSlider){var w=F._line=document.createElement("input");w.setAttribute("type","range");w.setAttribute("min","0");w.setAttribute("max","100");w.setAttribute("step",".01");w.tabIndex="-1";w.style.height=(au.iDPRowHeight/2+2)+"px";w.style.outline="none"}else{var w=F._line=document.createElement("div");w.style.height=(au.iDPRowHeight/2+2)+"px"}w.className="KJELine";var R=w.style;w.bMouseoutignore=true;w.unselectable="on";R.position="relative";R.cursor="pointer";A.appendChild(F._line);var S=au.SliderKnobSize;if(!au.bNativeSlider){var av=F._knob=document.createElement("div");var ai=av.style;av.sClassNormal=(au.IE7and8?"KJEArrowIE8":"KJEArrow")+(au.SliderKnobExtraClass?" "+au.SliderKnobExtraClass:"");av.sClassActive=(au.IE7and8?"KJEArrowIE8":"KJEArrow active")+(au.SliderKnobExtraClass?" "+au.SliderKnobExtraClass:"");av.className=av.sClassNormal;av.unselectable="on";av.bMouseoutignore=true;ai.position="absolute";ai.cursor="pointer";A.appendChild(F._knob);S=av.offsetWidth*0.66;var L=A.offsetHeight;var ad=av.offsetHeight;if(S==0){S=au.SliderKnobSize}if(ad==0){ad=au.SliderKnobSize}if(A.offsetHeight){ai.top=(L-ad+au.SliderKnobVertAdj)+"px"}else{ai.top=(au.iDPRowHeight-au.SliderKnobSize+au.SliderKnobVertAdj)+"px"}F.AddSliderEvents(A)}else{F.bSetRange=true;F.AddNativeEvents(w)}R.left=S+"px";F._posAdjust=S}}}F.vDefault2=(F._inputTypeAdditional!=au.TypeNone?F._Additional.value:null);au.InputItem.InputSetValues(F,F.vDefault,F.vDefault2,true);F.AddInputEvents(M);if(am.get(g+"_HIDE",false)){F.bValidate=false;F.hide()}if(am.get(g+"_DISABLE",false)){F.disable()}};KJE.InputItem.InputSetValues=function(e,d,f,a){var c=KJE;var g=d;if(a){g=KJE.StorageGet(e._name,e.vDefault)}switch(e._inputType){case c.TypeRadio:e._inputField.checked=g;if(e.oAdditional){e._Additional.checked=!e._inputField.checked}break;case c.TypeCheckbox:e._inputField.checked=g;break;case c.TypeDropBox:var b=c.setDropBox(e._inputField,g);e._InComplete=false;if(b==0&&KJE.bFirstNotValid){e._InComplete=true}break;case c.TypeLabel:e._inputField.innerHTML=g;break;case c.TypeDate:e._inputField.value=g;e.setTypedDate(true);break;case c.TypeString:e._inputField.value=g;e.setTypedString(true);break;case c.TypeNumber:e._inputField.value=g;e.setTypedValue(true)}if(e._inputTypeAdditional!=c.TypeNone){var g=f;if(a){g=c.StorageGet(e._Additional.name,e.vDefault)}switch(e._inputTypeAdditional){case c.TypeDropBox:var b=c.setDropBox(e._Additional,g);e._InComplete=false;if(b==0&&KJE.bFirstNotValid){e._InComplete=true}break;case c.TypeDate:e._Additional.value=g;break;case c.TypeString:e._Additional.value=g;break;case c.TypeNumber:e._Additional.value=g;e.setTypedValue(true)}}};KJE.InputItem.AltHelpName=false;KJE.InputItem.prototype.AddDefinitionEvents=function(d,c){var b=50;var a=KJE.iDPInputHeight-5;var e='<div class="KJECloseButton">[x]</div><dl class=KJEDefinitionPopup>'+c.innerHTML+"</dl>";if(d.addEventListener){d.addEventListener("click",function(f){if(KJE.DataPointTimeOut>0&&KJE.DataPointObject==d){KJE.DataPointHide()}else{KJE.DataPointShow(f,e,b,a,d,60000)}},false)}else{d.attachEvent("onclick",function(f){if(KJE.DataPointTimeOut>0&&KJE.DataPointObject==d){KJE.DataPointHide()}else{KJE.DataPointShow(f,e,b,a,d,60000)}})}};KJE.InputItem.prototype.AddPlusMinusEvents=function(c,a){var b=this;if(c.addEventListener){c.addEventListener("click",function(d){b.doIncrement(true)},false);a.addEventListener("click",function(d){b.doIncrement(false)},false)}else{c.attachEvent("onclick",function(d){b.doIncrement(true)});a.attachEvent("onclick",function(d){b.doIncrement(false)})}};KJE.InputItem.prototype.AddNativeEvents=function(b){var a=this;b.addEventListener("input",function(c){if(a.bSetRange){a.setRangeValue(c)}a.bSetRange=true},false)};KJE.InputItem.prototype.AddSliderEvents=function(c){var b=this;if(c.addEventListener){try{document.createEvent("TouchEvent");c.addEventListener("touchstart",function(d){d.preventDefault();b.doMouseDown(d,true)},false);c.addEventListener("touchmove",function(d){d.preventDefault();b.doMouseMove(d,true)},false);c.addEventListener("touchend",function(d){d.preventDefault();b.doMouseUp(d,true)},false);c.addEventListener("touchcancel",function(d){d.preventDefault();b.doMouseOut(d,true)},false)}catch(a){}c.addEventListener("mousemove",function(d){b.doMouseMove(d)},false);c.addEventListener("mousedown",function(d){b.doMouseDown(d)},false);c.addEventListener("mouseup",function(d){b.doMouseUp(d)},false);c.addEventListener("mouseout",function(d){b.doMouseOut(d)},false)}else{c.attachEvent("onmousemove",function(d){b.doMouseMove(d)});c.attachEvent("onmousedown",function(d){b.doMouseDown(d)});c.attachEvent("onmouseup",function(d){b.doMouseUp(d)});c.attachEvent("onmouseout",function(d){b.doMouseOut(d)})}};KJE.InputItem.prototype.AddInputEvents=function(b){var a=this;if(b.addEventListener){b.addEventListener("change",function(c){a.doBlur(c)},false);b.addEventListener("focus",function(c){a.doFocus(c)},false);b.addEventListener("keypress",function(c){if(c.keyCode==13){a.doBlur();return KJE.Dropper.stopBubble(c)}},false)}else{b.attachEvent("onchange",function(c){a.doBlur(c)});b.attachEvent("onfocus",function(c){a.doFocus(c)});b.attachEvent("onkeypress",function(c){if(c.keyCode==13){a.doBlur();return KJE.Dropper.stopBubble(c)}})}};KJE.InputItem.prototype.doFocus=function(){var a=KJE;switch(this._inputType){case a.TypeRadio:case a.TypeCheckbox:case a.TypeDropBox:case a.TypeLabel:break;case a.TypeDate:case a.TypeString:case a.TypeNumber:this._inputField.select();if(this._inputField.value==this.getName()){this._inputField.value=""}}};KJE.InputItem.prototype.doBlur=function(){var b=KJE;var c=this;switch(c._inputType){case b.TypeRadio:case b.TypeCheckbox:b.dataChanged();break;case b.TypeDropBox:c._InComplete=false;var a=c._inputField.selectedIndex;if(a==0&&c.bFirstNotValid){c._InComplete=true}c.setSliderPosition(c._inputField.selectedIndex);b.dataChanged();break;case b.TypeDate:c.setTypedDate();break;case b.TypeString:c.setTypedString();break;case b.TypeNumber:c.setTypedValue()}};KJE.InputItem.prototype.doClick=function(b,a){this.setMouseValue(b,a)};KJE.InputItem.prototype.doMouseUp=function(c,a){var b=this;b._line.className="KJELine";b._knob.className=b._knob.sClassNormal;b._mouseDown=false};KJE.InputItem.prototype.doMouseOut=function(g,f){var b=this;var c=window.event;if(b._inputField.disabled){return}if(b._mouseDown){if(!g){var g=c}var d=c?g.srcElement:g.target;if(d.bMouseoutignore){return}var a=(g.relatedTarget)?g.relatedTarget:g.toElement;while(a!=d&&a.nodeName!="BODY"){a=a.parentNode}if(d!=a){b.doMouseUp()}}};KJE.InputItem.prototype.doMouseDown=function(c,b){var a=this;if(a._inputField.disabled){return}a._line.className="KJELine active";if(!KJE.IE7and8){a._knob.className=a._knob.sClassActive}a._mouseDown=true;if(c){a.setMouseValue(c,b)}};KJE.InputItem.prototype.doMouseMove=function(c,b){var a=this;if(a._mouseDown){a.setMouseValue(c,b)}};KJE.InputItem.prototype.setRangeValue=function(a){v=this._line.value;this.setChangeValue(v/100)};KJE.InputItem.prototype.setMouseValue=function(h,g){var d=this;var a=KJE.getMouseCoord(h,d._slider,g);if(a.x>=0){var c=d._posAdjust;var f=d._slider.offsetWidth;var b=(a.x-c)/(f-c);this.setChangeValue(b)}};KJE.InputItem.prototype.setChangeValue=function(b){var c=this;var e=c._minimum;var f=c._maximum;var d=c._oScale;if(d){b=KJE.s_Translate(b*100,d._Min,d._Mid1,d._Mid2,d._Max,d._stepMin,d._stepMid,d._stepMax)}else{var a=c._increment;b=b*c._range+e;b=(a==1?Math.round(b):(Math.round(b/a)*a))}c._InComplete=false;c.setValue((b>f?f:(b<e?e:b)),false,true)};KJE.InputItem.prototype.doIncrement=function(c){var b=this;var d=b._minimum;var e=b._maximum;if(e<20){iIncrement=0.5}if(e<100){iIncrement=1}else{if(e<1000){iIncrement=10}else{if(e<10000){iIncrement=100}else{iIncrement=1000}}}var a=b.getValue()+(c?1:-1)*iIncrement;b.setValue((a>e?e:(a<d?d:a)),false,true)};KJE.InputItem.prototype.validate=function(){var a=this;if(a.bValidate){if(a._bError){throw a._sError}return !(a.bIncompleteCheck&&a._InComplete)}else{return true}};KJE.InputItem.prototype.setValue=function(p,b,j){var r=KJE;var l=this;var k=l._inputField;var g=l._format;var f=l._container;var i=l._inputType;var a=false;if(i==r.TypeNone){l._value=p;l._bError=false;return}else{if(i==r.TypeDate){var o=new Date();try{var c=new Array();if(p.indexOf("/")>0){c=p.split("/");c[0]=Math.round(c[0]);c[1]=Math.round(c[1]);c[2]=Math.round(c[2])}else{c[0]=Math.round(p.substring(0,2));c[1]=Math.round(p.substring(2,4));c[2]=Math.round(p.substring(4))}if(c[2]<100){c[2]+=2000}if(c[2]+c[1]+c[0]>0){o=new Date(c[2],c[0]-1,c[1])}else{a=true}}catch(m){a=true}if(a){l._sError=r.getKJEReplaced(r.MSG_INVALID_DATE,l._sLabel);l._value=null}else{l._value=o;k.value=r.dateFormat(o)}}else{if(i==r.TypeString){k.value=p}else{if(i==r.TypeDropBox){k.selectedIndex=Math.round(p);l.setSliderPosition(p)}else{if(i==r.TypeLabel){k.innerHTML=p}else{if(i==r.TypeCheckbox){k.checked=p}else{if(l.bValidate){if(p>l._maximum){l._sError=r.getKJEReplaced(this.MSG_EXCEEDS_LIMIT_OF_RANGE?this.MSG_EXCEEDS_LIMIT_OF_RANGE:r.MSG_EXCEEDS_LIMIT_OF_RANGE,l._sLabel,r.format[g]((r.FMT_PERCENT==g?l._maximum/100:l._maximum),l._decimals,l._iPadding));a=true}else{if(p<l._minimum){l._sError=r.getKJEReplaced(this.MSG_UNDER_LIMIT_OF_RANGE?this.MSG_UNDER_LIMIT_OF_RANGE:r.MSG_UNDER_LIMIT_OF_RANGE,l._sLabel,r.format[g]((r.FMT_PERCENT==g?l._minimum/100:l._minimum),l._decimals,l._iPadding));a=true}}}var q=l._value=r.round(p,l._decimals);var h="";if(r.deviceUseNumberType&&(g==r.FMT_DOLLARS||g==r.FMT_PERCENT)){h=r.nbr(q,l._decimals,"","",true,false)}else{h=r.format[g]((g==r.FMT_PERCENT?q/100:q),l._decimals,l._iPadding)}k.value=r.replace("&nbsp;"," ",h);l.setSliderPosition(q)}}}}}}l._bError=a;if(a){f.style.backgroundColor=r.ErrorBackground}else{f.style.backgroundColor=f.backgroundColor}if(!b){r.dataChanged(j)}};KJE.InputItem.prototype.setSliderPosition=function(a){var f=this;if(f.bSlider){var e=f._slider.width;if(e&&(a||a==0)){var g=f._oScale;var d=f._posAdjust;var b=0;if(g){b=KJE.s_Untranslate(a,g._Min,g._Mid1,g._Mid2,g._Max)/100}else{var h=f._maximum;var c=f._minimum;b=((a>h?h:(a<c?c:a))-c)/f._range}if(KJE.bNativeSlider){f._line.value=b*100}else{f._knob.style.left=(((e-d)*b)+d/2)+"px"}}}};KJE.InputItem.prototype.setTypedString=function(c){var b=KJE.replace;var a=this;a.setValue(b("<","",b(">","",b("(","",b(")","",a._inputField.value)))),c)};KJE.InputItem.prototype.setTypedDate=function(f){var a=KJE;var c=this;var e=c._inputField.value;var b=e;c._InComplete=false;if(e=="TODAY"){b=a.dateFormat(new Date())}else{if(e=="NEXT_MONTH"){var g=new Date();g.setMonth(g.getMonth()+1);b=a.dateFormat(g)}else{if(b.substr(10,1)=="T"){b=b.substr(5,2)+"/"+b.substr(8,2)+"/"+b.substr(0,4)}b=a.stripDate(b);if(b==""||b==c._sLabel){c._inputField.value=c.bNoLabel?c._sLabel:"";c._InComplete=true;c._bError=false;c._container.style.backgroundColor=a.IncompleteBackground;if(!f){a.dataChanged()}c._value=null;return}}}c.setValue(b,f)};KJE.InputItem.prototype.setTypedValue=function(e){var a=KJE;var c=this;c._InComplete=false;var d=c._inputField.value;if(d==""||d==c._sLabel){c.setSliderPosition(c._minimum);c._inputField.value=c.bNoLabel?c._sLabel:"";c._InComplete=true;c._bError=false;c._container.style.backgroundColor=a.IncompleteBackground;if(!e){a.dataChanged()}}else{var b=a.round(parseFloat(a.strip(d)),c._decimals);c.bSetRange=false;c.setValue(b,e)}};KJE.InputItem.prototype.getSecondValue=function(){var a=this;return a.getV(a._inputTypeAdditional,a._Additional)};KJE.InputItem.prototype.getValue=function(){var a=this;return a._value=a.getV(a._inputType,a._inputField,a._format)};KJE.InputItem.prototype.setText=function(a){var b=this;return b.setT(b._inputType,b._inputField,a)};KJE.InputItem.prototype.setSecondText=function(a){var b=this;return b.setT(b._inputTypeAdditional,b._Additional,a)};KJE.InputItem.prototype.getSecondFormatted=function(){var a=this;return a.getF(a._inputTypeAdditional,a._Additional)};KJE.InputItem.prototype.getFormatted=function(){var a=this;return(a._InComplete?KJE.sIncomplete:a.getF(a._inputType,a._inputField))};KJE.InputItem.prototype.getF=function(g,f){var b=KJE;var e="";var d=this;var c=d._value;var a=d._format;switch(g){case b.TypeRadio:case b.TypeCheckbox:e=f.value;break;case b.TypeDropBox:e=(f[f.selectedIndex].text);break;case b.TypeLabel:e=f.innerHTML;break;case b.TypeDate:e=b.dateFormat(c);break;case b.TypeString:e=f.value;break;case b.TypeNumber:e=b.format[a]((a==b.FMT_PERCENT?c/100:c),d._decimals,d._iPadding);break;case b.TypeNone:e=c}return e};KJE.InputItem.prototype.getV=function(f,e,b){var a=KJE;var c=0;var d=this;switch(f){case a.TypeRadio:case a.TypeCheckbox:c=e.checked;break;case a.TypeDropBox:c=e[e.selectedIndex].value;if(b!=a.FMT_STRING){c=Math.round(c)}break;case a.TypeLabel:c=e.innerHTML;break;case a.TypeDate:c=d._value;break;case a.TypeString:c=e.value;break;case a.TypeNumber:c=a.round(parseFloat(a.strip(e.value)),d._decimals);break;case a.TypeNone:c=d._value}return c};KJE.InputItem.prototype.setT=function(e,d,b){var a=KJE;var c=this;switch(e){case a.TypeRadio:case a.TypeCheckbox:break;case a.TypeDropBox:break;case a.TypeLabel:d.innerHTML=b;break;case a.TypeDate:d.value=b;c.setTypedDate(true);break;case a.TypeString:d.value=b;c.setTypedString(true);break;case a.TypeNumber:d.value=a.replace("&nbsp;"," ",b);c.setTypedValue(true);break}};KJE.InputItem.prototype.shortDesc=function(){return this._sLabel+KJE.Colon+" "+this.getFormatted()};KJE.InputItem.prototype.newWidth=function(){var j=KJE;var e=this;var d=e._inputField;var a=e._Additional;if(e._inputType==j.TypeNone){return}var c=e.SliderX();if(d.resize){var b=Math.max(c-d.indent,0);if(e._iInputFieldDiv){e._iInputFieldDiv.style.width=b+"px";d.style.width=b+KJE.iDPDropBoxModernPad+"px"}else{d.style.width=b+"px"}}if(a){if(a.indent&&e._inputTypeAdditional!=j.TypeRadio){var b=c+10-a.indent;if(e._AdditionalDiv){e._AdditionalDiv.style.width=b+"px";a.style.width=b+KJE.iDPDropBoxModernPad+"px"}else{a.style.width=b+"px"}}}var f=e._slider;if(f&&!KJE.bPlusMinus){this.showSlider(f)}var h=e._label2;if(h){var g=h.offsetHeight;if(g+6>j.iDPRowHeight){e._container.style.height=g+(j.iDPInputHeight/4)+2+"px"}}};KJE.InputItem.prototype.SliderX=function(){return KJE.CalculatorWidth-KJE.iDPInputPad*2-(this.SliderWidthAdjust?this.SliderWidthAdjust:KJE.SliderWidthAdjust)};KJE.InputItem.prototype.showSlider=function(e){var a=KJE;var d=this;var c=d.SliderX();if(e.indent){if(c-a.InputTotalLength<a.SliderMinLength){e.style.display="none";e.labels.style.display="none"}else{e.style.display="inline-block";e.labels.style.display="inline-block";var b=c-e.indent;e.width=b;e.style.width=b+"px";d._line.style.width=b-a.SliderKnobSize+"px";e.labels.style.width=c-e.labels.indent+"px";d.setSliderPosition(d._inputType==a.TypeDropBox?d._inputField.selectedIndex:d._value)}}};KJE.InputItem.prototype.hide=function(){var a=this._container;if(a){a.style.display="none"}};KJE.InputItem.prototype.show=function(){var a=this._container;if(a){a.style.display="block"}};KJE.InputItem.prototype.setLabelSlider=function(h,g,b,j){var k=["left","center","center","right"];var e=document.createElement("div");e.className="KJEScale";e.setAttribute("aria-hidden","true");e.className="KJEScale";e.unselectable="on";e.style.position="absolute";e.style.height=h+"px";e.style.cursor="pointer";e.style.top=g+"px";e.style.left=b+"px";this._container.appendChild(e);var a=KJE.SliderLabelVertAdj;if(j){var d=(j.length>5?5:j.length)-1;for(var c=0;c<=d;c++){var f=document.createElement("div");f.className="KJEScale";f.unselectable="on";f.style.position="absolute";f.style.height=h+"px";f.style.textAlign=k[c==d?3:c];f.style.cursor="pointer";f.style.top=(0+a)+"px";if(d==4){switch(c){case 0:f.style.width="100%";f.style.left=0;break;case 1:f.style.width="55%";f.style.left=0;break;case 2:f.style.width="100%";break;case 3:f.style.width="75%";f.style.left=0;break;case 4:f.style.width="100%";f.style.right=0;break}}else{if(d<2){f.style.width="100%"}else{f.style.width=(d>2?66.66:100)+"%"}if(c>1){f.style.right=0}else{f.style.left=0}}f.innerHTML=j[c];e.appendChild(f)}}return e};KJE.InputItem.prototype.disable=function(a,b){var d=this;var e=d._inputType;var c=d._label2;var f=d._label;if(e==KJE.TypeNone){return false}d.bValidate=false;d._container.style.backgroundColor=d._container.backgroundColor;d._InComplete=false;if(e==KJE.TypeCheckbox){if(c){c.className="KJETrailingLabelDisable"}}if(f&&!a){f.className=d.className+" KJETrailingLabelDisable"}if(d.bSlider){d._slider.labels.style.display="none";d._slider.style.display="none"}if(d._inputField&&b){d._inputField.style.display="none"}return d._inputField.disabled=true};KJE.InputItem.prototype.enable=function(){var a=KJE;var c=this;var d=c._inputType;var b=c._label2;var e=c._label;if(d==a.TypeNone){return false}c.bValidate=true;if(d==a.TypeCheckbox){if(b){b.className="KJETrailingLabel"}}if(e){e.className=this.className}if(c.bSlider){c.showSlider(c._slider,null)}if(c._inputField){c._inputField.style.display="block"}if(d==a.TypeDate){c.setTypedDate(true)}if(d==a.TypeNumber){c.setTypedValue(true)}return c._inputField.disabled=false};KJE.InputItem.prototype.getName=function(){return this._sLabel};KJE.shortDesc=function(){var b="";for(var a=0;a<arguments.length;a++){if(arguments[a].shortDesc){b+=arguments[a].shortDesc()+(a==arguments.length-1?"":", ")}else{b+=arguments[a]}}return b};KJE.stripDate=function(a){if(!a){return""}var c=a.length;var d="";while(c>0){var b=a.charAt(c-1);switch(b){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"/":d=b+d;break;case"-":d=b+"/";break;default:break}c--}return d};KJE.strip=function(a){if(!a){return"0"}var c=a.length;var e="";var f=0;var g=0;while(c>0){var b=a.charAt(c-1);switch(b){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":e=b+e;break;case".":if(!f){e=b+e}f++;break;case"-":case"(":g++;break;default:break}c--}if(e==""){return"0"}return(g?"-"+e:e)};KJE.DataPointTimeOut=-1;KJE.DataPointObject=null;KJE.DataPointHide=function(){var a=KJE;a.DataPoint.style.display="none";if(a.DataPointTimeOut){clearTimeout(a.DataPointTimeOut)}a.DataPointTimeOut=-1;a.DataPointObject=null};KJE.DataPointOffset=function(){var a=KJE.DataPoint.offsetParent;if(a){var b=KJE.getScreenCoord(0,0,a);return{x:-b.x,y:-b.y}}else{return{x:0,y:0}}};KJE.DataPointShow=function(f,c,b,g,h,d){var j=KJE;if(!d){d=2500}j.DataPoint.style.display="block";var i=j.getScreenCoord(b,g,h);var a=j.DataPointOffset();j.DataPoint.style.left=(i.x+a.x-47+j.DataPointX)+"px";j.DataPoint.style.top=(i.y+a.y-5+j.DataPointY)+"px";j.DataPoint.innerHTML=c;if(j.DataPointTimeOut){clearTimeout(j.DataPointTimeOut)}j.DataPointTimeOut=setTimeout(j.DataPointHide,d);j.DataPointObject=h};KJE.sDropperTitle='<div class=KJEToggleIcon><img src="KJEResources/InputIcon.png" title="Click to Show Inputs" alt="Click to Show Inputs" style=\'vertical-align:middle;\'/> **ICON**</div><div class=KJEToggleTitle>**TITLE_TEXT**</div>';KJE.DropperDefined=function(a){return document.getElementById("KJE-P-"+a)};KJE.DivDefined=function(a){return document.getElementById("KJE-D-"+a)};KJE.Dropper=function(d,b,n,l,f,e){var g=this;KJE.iDropperCount+=1;var m=KJE.parameters.get("DROPPER_OPEN"+Math.floor(KJE.droppers.length+1),b);if(KJE.IE7and8){b=true}else{b=m}g.getOpen=(n?n:false);g.getClosed=(l?l:false);var j=g._idDropper=document.getElementById("KJE-P-"+d);j.setAttribute("role","button");if(e){j.style.display="none"}var h=g._idDrop=document.getElementById("KJE-D-"+d);var a=g._idDroppee=document.getElementById("KJE-E-"+d);if(h){h.className=("KJEDrop")}if(a){a.className=("KJEDroppee")}j.className="KJEDropper";j.tabIndex="0";if(KJE.IE7and8){j.style.paddingRight="0"}a.style.display="block";a.style.overflow="hidden";a.style.width="100%";g._iHeight=a.offsetHeight;if(!g._iHeight){g._iHeight=0;var k=a.getElementsByTagName("div");for(var c=0;c<k.length;c++){if(k[c].className=="KJEInputContainer"){g._iHeight+=KJE.iDPRowHeight}}g._iHeight+=10}g.InCalculator=(f?false:true);g._sInnerHTML=j.innerHTML;g._sName=d;g.sExtraClass=(KJE.DropperColors?(KJE.DropperColors.length>=KJE.iDropperCount?KJE.DropperColors[KJE.iDropperCount-1]:false):false);g.AddEvents();g.show(b?true:false);if(!b){a.style.height="0px";a.style.display="none";a.style.visibility="hidden";j.setAttribute(KJE.sExpand,"false")}else{a.style.height=g._iHeight+"px";j.setAttribute(KJE.sExpand,"true")}if(KJE.IE7and8&&!m){setTimeout(function(){KJE.inCommandTask(false);g.toggle()},1001)}};KJE.Dropper.prototype.AddEvents=function(){var a=this;var b=a._idDropper;if(b.addEventListener){b.addEventListener("click",function(){a.toggle(a)},false);b.addEventListener("keypress",function(c){if(c.keyCode==32||c.keyCode==13){return KJE.Dropper.stopBubble(c)}},false);b.addEventListener("keydown",function(c){if(c.keyCode==32||c.keyCode==13){a.toggle();return KJE.Dropper.stopBubble(c)}},false)}else{b.attachEvent("onclick",function(){a.toggle(a)});b.attachEvent("onkeypress",function(c){if(c.keyCode==32||c.keyCode==13){return KJE.Dropper.stopBubble(c)}});b.attachEvent("onkeydown",function(c){if(c.keyCode==32||c.keyCode==13){a.toggle();return KJE.Dropper.stopBubble(c)}})}};KJE.Dropper.prototype.setHidden=function(b){var a=this;a._idDrop.style.display="none";a._idDroppee.style.display="none"};KJE.Dropper.prototype.setShown=function(b){var a=this;a._idDrop.style.display="block";a._idDroppee.style.display="block"};KJE.Dropper.prototype.setBackground=function(b){var a=this;if(a._idDrop){a._idDrop.style.backgroundColor=b}a._idDroppee.style.backgroundColor=b};KJE.Dropper.prototype.setText=function(b){var c=this;var d=c.getOpen;var a=c.getClosed;var e=c._bShow;if(b){}else{if(e&&d){if("function"==typeof d){b=d()}else{b=d}}else{if(!e&&a){if("function"==typeof a){b=a()}else{b=a}}else{b=c._sInnerHTML}}}c._idDropper.innerHTML=KJE.setToggleTitleText(b,c,KJE)};KJE.Dropper.prototype.show=function(a){var b=this;b._bShow=a;b.setText()};KJE.Dropper.prototype.toggle=function(){if(KJE.inCommandTask(true)){return}var b=this;var c=b._idDroppee;var a=(KJE.deviceNoTransition||KJE.IE7and8?0:8);if(b._bShow){if(KJE.IE7and8){c.style.display="none"}else{c.style.height=0+"px"}b._bShow=false;b.show();KJE.Calculator.style.height=KJE.Main.offsetHeight+"px";setTimeout(function(){KJE.inCommandTask(false);c.style.visibility="hidden";c.style.display="none";b._idDropper.setAttribute(KJE.sExpand,"false")},100)}else{c.style.overflow="hidden";c.style.display="block";c.style.visibility="visible";b._count=0;KJE._iInterval=setInterval(function(){b.open(c.style,b._iHeight,a)},25)}};KJE.Dropper.stopBubble=function(a){a.cancelBubble=true;a.returnValue=false;if(a.stopPropagation){a.stopPropagation()}if(a.preventDefault){a.preventDefault()}return false};KJE.Dropper.prototype.open=function(d,f,b){var c=this;var a=c._count;if(a>=b){clearInterval(KJE._iInterval);if(!KJE.IE7and8){d.height=f+"px"}KJE.Calculator.style.height=KJE.Main.offsetHeight+"px";setTimeout(function(){KJE.inCommandTask(false);c.show(true);c._idDropper.setAttribute(KJE.sExpand,"true")},100);return}else{if(a>=b-2){a-=0.5}}a++;d.height=f*(a/b)+"px";KJE.Calculator.style.height=KJE.Main.offsetHeight+"px";c._count=a};KJE.addDiv=function(c,b,d){var a=document.getElementById("KJE-D-"+c);if(a){a.className=("KJEInputDiv"+(d?" "+d:""));if(b){a.style.backgroundColor=b}}return a};KJE.addDropper=function(b,a){if(a){b.setBackground(a)}KJE.droppers.set(b._sName,b);return b};KJE.setToggleTitleText=function(e,h,d,g){if(!e){e=""}var f=e.indexOf("<");var k=e.indexOf("|");if(f>0&&k>0){f=(f>k?k:f)}else{f=(f<k?k:f)}var i=(f>0?e.substring(0,f):e).trim();if(i.charAt(i.length-1)=="."){i=i.slice(0,-1)}if(i.charAt(i.length-1)!=KJE.Colon.trim()){i+=KJE.Colon}var l="";var b="";var n="";if(h){l=h._bShow?d.sToggleAltTextOpen:d.sToggleAltTextClose;b=h._bShow?d.sToggleClose:d.sToggleOpen;n=h._bShow?d.sExpanded:d.sCollapse}var m=KJE.sToggleTitle;var c="";var j=e.indexOf("|");var a=(g||!h?"":d.sToggleIcon);if(g||!h){b="";l=""}if(j>-1){m=KJE.sToggleTitle2;c=e.substring(j+1);e=e.substring(0,j)}else{if(!h||g){m=KJE.sToggleTitle1}}if(h!=null){if(h.sExtraClass){m=KJE.replace("**EXTRA_CLASS**",h.sExtraClass,m)}}return m.replace("**IMG_TEXT**",l).replace("**SUMMARY_TEXT**",i).replace("**TITLE_TEXT**",e).replace("**TITLE_TEXT2**",c).replace("**ICON**",b).replace("**IMG**",a).replace("**TITLE_CLASS**",d.sToggleTitleClass).replace("**TITLE_CLASS**",d.sToggleTitleClass).replace("**EXPANDED**",n)};KJE.setDropBox=function(c,b){b=b+"";for(var a=0;a<c.options.length;a++){if(c.options[a].value==b){c.options[a].selected=true;break}}return a};KJE.getDropBox=function(f,g,d,h,b){b=(b?' class="'+b+'" ':"");h=(h?h:d);var e=h.length;var a=d.length;var k="<select name="+f+" id=KJE-"+f+b+">";for(var c=0;c<a;c++){var j=(d[c]==g?" selected='selected' ":"");k+="<option value='"+d[c]+"' "+j+">"+(c>=e?d[c]:h[c])}k+="</select>";if(KJE.InputModern){k="<div id=KJE-"+f+b+"Div >"+k+"</div>"}return k};KJE.getTermChoice=function(k,j,e,g,b,l,f,d,m){var p=new Array();var o=new Array();l=(l?l:"");f=(f?f:false);m=(m?m:1);var a=0;var h=KJE.parameters.get("TERM_SHOW_ADDITIONAL",7);for(var c=m;c<=g;c++){if((e&&c<=b)||c%5==0||c==h){if((h==0&&(c==5||c==25||c==35))==false){p[a]=c+" "+(c==1?KJE.MSG_YEAR_LBL:KJE.MSG_YEARS_LBL)+(c>b?l:"");o[a]=c;a++}}}if(d){return KJE.getDropBox(k,j,o,p,f)}else{return{d:p,v:o}}};KJE.getMortgageTermChoice=function(b,c,d){var a=KJE;return a.getTermChoice(b,c,a.parameters.get("MORTGAGE_TERM_MAX",a.Default.MortgageShowAll),a.parameters.get("MORTGAGE_TERM_MAX",a.Default.MortgageTermMax),a.parameters.get("MORTGAGE_SHOW_MAX",a.Default.MortgageShowAllMax),"",false,d,a.parameters.get("MORTGAGE_TERM_MIN",a.Default.MortgageTermMin))};KJE.getMortgageTermDrop=function(a,b){return KJE.getMortgageTermChoice(a,b,true)};KJE.getMortgageTermList=function(){return KJE.getMortgageTermChoice("",0,false)};KJE.iGraphFixedWidth=0;KJE.gScaleLabel=["","Thousands of ","Millions of ","Billions of "];KJE.gScaleLabelMax=[0,100000,100000000,100000000000];KJE.gScaleLabelFactor=[1,1000,1000000,1000000000];KJE.gFont=["Arial","Arial","Arial","Arial","Arial","Arial"];KJE.gFontStyle=["bold","bold","","","bold",""];KJE.gFontSize=[13,10,10,10,10,7];KJE.g=new Object();KJE.g.sToggleAltTextClose="press spacebar to show graph";KJE.g.sToggleAltTextOpen="press spacebar to hide graph";KJE.g.sNewGraphPleaseComplete="please complete inputs to view graph";KJE.g.sToggleTitleClass="KJEGraphTitle";KJE.g.sToggleIcon="KJEGraphIcon";KJE.g.sToggleOpen="[+]";KJE.g.sToggleClose="[-]";KJE.g.sExpanded="aria-expanded ='true'";KJE.g.sCollapse="aria-expanded='false'";KJE.gHeight=250;KJE.gHeightReport=350;KJE.gLegendMin=400;KJE.gColorBackground="#FFFFFF";KJE.gColorForeground="#000000";KJE.gColorGrid="#BBBBBB";KJE.gColorGridBackground1="#FFFFFF";KJE.gColorGridBackground2="#CCCCCC";KJE.gColorAxisLine="#666666";KJE.gColorText="#000000";KJE.gColorList=["#000055","#7B68EE","#64A650","#FFF200","#5f007f","#F15A22","#B72467","#6DC8BF","#FF0000","#ff00ff","#ffff00","#00ffff","#7f007f","#7f0000","#007f7f","#0000ff","#00c8ff","#60ffff","#bfffbf","#ffff90","#a0c8ef"];KJE.gPleaseComplete="";KJE.gWidthAdjust=0;KJE.gPIE=0;KJE.gCOLUMN=1;KJE.gCATEGORIES=2;KJE.gSTACKED=3;KJE.gLINE=4;KJE.gGetFontHeight=function(a){return Math.ceil(a.measureText("m").width+2)};KJE.gDarker=function(d,h){if(d[0]=="#"){d=d.slice(1)}var c=parseInt(d,16);var f=(c>>16)*h;if(f>255){f=255}else{if(f<0){f=0}}var a=((c>>8)&255)*h;if(a>255){a=255}else{if(a<0){a=0}}var e=(c&255)*h;if(e>255){e=255}else{if(e<0){e=0}}return"rgb("+Math.floor(f)+","+Math.floor(a)+","+Math.floor(e)+")"};KJE.gTitle=new Object();KJE.gGraphLine=new Object();KJE.gAxis=new Object();KJE.gGraphColumn=new Object();KJE.gGraphPie=new Object();KJE.gTitle.HORIZONTAL=0;KJE.gTitle.VERTICAL=1;KJE.gLegend=new Object();KJE.gLegend.LEFT=0;KJE.gLegend.RIGHT=1;KJE.gLegend.TOP=3;KJE.gLegend.BOTTOM=4;KJE.gLegend.TOP_LEFT=5;KJE.gLegend.TOP_RIGHT=6;KJE.gLegend.BOTTOM_LEFT=7;KJE.gLegend.BOTTOM_RIGHT=8;KJE.gLegend.GRID_TOP_RIGHT=9;KJE.gLegend.GRID_TOP_LEFT=10;KJE.gLegend.GRID_BOTTOM_RIGHT=11;KJE.gLegend.GRID_BOTTOM_LEFT=12;KJE.gLegend.GRID_TOP=13;KJE.gLegend.GRID_BOTTOM=14;KJE.gLegend.GRID_RIGHT=15;KJE.gLegend.GRID_LEFT=16;KJE.gLegend.TOP_GRID_ALIGN=17;KJE.gLegend.BANDED_LEGEND=0;KJE.gLegend.DATA_SERIES_LEGEND=1;KJE.gLegend.CATEGORY_LEGEND=2;KJE.gLegend.ROUND_LEGEND=0;KJE.gLegend.SQUARE_LEGEND=1;KJE.gLegend._sSHADOW_COLOR="#222222";KJE.gTITLE_FONT=0;KJE.gBOLD_FONT=1;KJE.gPLAIN_FONT=2;KJE.gLEGEND_FONT=3;KJE.gLEGEND_FONT_BOLD=4;KJE.gLEGEND_FONT_TINY=5;KJE.gSCALE=(KJE.VML?1:2);KJE.ggetFont=function(b){var a=KJE;var c=a.gFontSize[b];if(a.gFontStyle.length<=b&&b==a.gLEGEND_FONT_TINY){b-=3;c=a.gFontSize[b]-3}if(a.gFontStyle.length<=b){b-=2;c=a.gFontSize[b]}return((a.VML?"":a.gFontStyle[b]+" ")+Math.floor(a.gSCALE*c)+"pt "+a.gFont[b]).trim()};KJE.gBORDER_WIDTH=10*KJE.gSCALE;KJE.gLegend._iSIDE_BORDER_WIDTH=10*KJE.gSCALE;KJE.gLegend._iTOPBOTTOM_BORDER_WIDTH=3*KJE.gSCALE;KJE.gLegend._iBOX_SIDE_LENGTH=12*KJE.gSCALE;KJE.gLegend._iCIR_SIDE_LENGTH=7*KJE.gSCALE;KJE.gLegend._iBOX_TO_LABEL_SPACE=10*KJE.gSCALE;KJE.gLegend._sSHADOW_BLUR_X=2*KJE.gSCALE;KJE.gLegend._sSHADOW_BLUR_Y=2*KJE.gSCALE;KJE.gLegend._LINE_WIDTH=KJE.gSCALE;KJE.gLegend._LINE_SPACE=7.5*KJE.gSCALE;KJE.gLegend._PAD=KJE.gSCALE;KJE.gGraphPie._LINE_WIDTH=KJE.gSCALE;KJE.gGraphLine._CLICKABLE=7*KJE.gSCALE;KJE.gGraphLine._sSHADOW_BLUR=0;KJE.gGraphLine._LINE_WIDTH=3*KJE.gSCALE;KJE.gGraphLine._sSHADOW_BLUR_X=0;KJE.gGraphLine._sSHADOW_BLUR_Y=0;KJE.gGraphColumn._LINE_WIDTH=KJE.gSCALE;KJE.giGridLineWidth=KJE.gSCALE;KJE.gAxis.TICK_LENGTH=3*KJE.gSCALE;KJE.gAxis.LABEL_SPACE_LENGTH=5*KJE.gSCALE;KJE.gAxis.LINE_WIDTH=KJE.gSCALE;KJE.gAxis.LEFT=0;KJE.gAxis.RIGHT=1;KJE.gAxis.TOP=3;KJE.gAxis.BOTTOM=4;KJE.gGraphColumn.LINE_NONE=0;KJE.gGraphColumn.LINE_ON_FIRST_ONLY=2;KJE.gGraphColumn.LINE_ON_ALL=3;KJE.gGraphColumn._sSHADOW_COLOR="#929292";KJE.gGraphColumn._sSHADOW_BLUR=8;KJE.gGraphColumn._sSHADOW_BLUR_X=3*KJE.gSCALE;KJE.gGraphColumn._sSHADOW_BLUR_Y=2*KJE.gSCALE*-1;KJE.gGraphPie._LINE_JOIN="round";KJE.gGraphPie._LINE_COLOR="#000000";KJE.gGraphLine.AREA_NONE=0;KJE.gGraphLine.AREA_ALL=1;KJE.gGraphLine.AREA_FIRST_ONLY=2;KJE.gGraphLine.AREA_SECOND_ONLY=3;KJE.gGraphLine.AREA_BANDED=4;KJE.gGraphLine._sSHADOW_COLOR="#929292";KJE.sgvStr=function(a){if(a==null){return null}return a.replace(/%%/g,'"').replace(/@@/g,"|").replace(/\^\^/g,",").replace(/!!/,"~")};KJE.spvStr=function(a){if(a==null){return null}if(a.replace){return a.replace(/"/g,"%%").replace(/\|/g,"@@").replace(/,/g,"^^").replace(/~/g,"!!")}else{return a}};KJE.spvColor=function(a){if(!a){return"#000000"}return a};KJE.sgvColor=function(a){if(!a){return"#000000"}return a};KJE.sgv=function(b,a){if(b==null){return a}else{if(b=="null"){return a}else{if(b==" "){return a}else{if(typeof(a)=="string"){return KJE.sgvStr(b)}else{if(typeof(a)=="boolean"){if(b==""){return a}return b.trim()=="true"}else{if(typeof(a)=="number"){return parseFloat(b)}}}}}}};KJE.sgvNumList=function(d){if(d==null){return null}else{if(d=="null"){return null}else{if(d.trim()==""){return null}else{var b=d.split(",");var a=KJE.FloatArray(b.length);for(var c=0;c<b.length;c++){a[c]=parseFloat(b[c])}}}}return a};KJE.sgvStrList2=function(d){var a=[];if(d==null){a=null}else{if(d=="null"){a=null}else{if(d.trim()==""){a=null}else{var c=d.split("~");for(var b=0;b<c.length;b++){a[b]=KJE.sgvStrList(c[b])}}}}return a};KJE.sgvStrList=function(d){var a=[];if(d==null){a=null}else{if(d=="null"){a=null}else{if(d.trim()==""){a=null}else{var c=d.split(",");for(var b=0;b<c.length;b++){a[b]=KJE.sgvStr(c[b])}}}}return a};KJE.spvStringList2=function(d){var a=KJE;if(d==null){return"null"}var c=a.spvStringList(d[0]);for(var b=1;b<d.length;b++){c+="~"+a.spvStringList(d[b])}return c};KJE.spvStringList=function(d){var a=KJE;if(d==null){return"null"}var c=a.spvStr(d[0]);for(var b=1;b<d.length;b++){c+=","+a.spvStr(d[b])}return c};KJE.spvColorList=function(d){var a=KJE;if(d==null){return"null"}var c=a.spvStr(d[0]);for(var b=1;b<d.length;b++){c+=","+a.spvColor(d[b])}return c};KJE.spvFloatList=function(e,d){var a=KJE;if(e==null){return"null"}var c=""+a.input(e[0],d);for(var b=1;b<e.length;b++){c+=","+a.input(e[b],d)}return c};KJE.gNewGraph=function(f,i,a,e,k,g,h,b){var c=document.getElementById("KJE-C-"+i);if(c){var j=KJE;e=!j.parameters.get("GRAPH_OPEN"+Math.floor(j.gGraphs.length+1),(j.VML&&!h?false:!e));var d=j.gGraphs[j.gGraphs.length]=new j.gCanvas(c,f,i,a,e,k,g,h,b);if(f==j.gPIE||f==j.gCATEGORIES){d._bPopDetail=false}return d}else{return null}};KJE.gCanvas=function(c,f,k,b,d,m,g,i,a){var h=this;var l=KJE;var j=h.wCanvas=document.getElementById("KJE-G-"+k);h._bPopDetail=true;h._bPopCat=true;h.wContainer=c;h.wContainer.className="KJEGraphContainer";h.wCanvas.className="KJEGraph";if(KJE.iGraphFixedWidth){h.wContainer.style.width=KJE.iGraphFixedWidth+"px"}else{h.wContainer.style.width="100%"}if(typeof G_vmlCanvasManager!="undefined"){G_vmlCanvasManager.initElement(h.wCanvas)}h._ctx=null;h.sTitle=g;h.TT=g;h.InCalculator=(i?false:true);h.bBorder=(a?false:true);h._sGraphType=f;h._gtGraphType=new l.gType(f);h.FONT_TITLE=l.ggetFont(l.gTITLE_FONT);h.FONT_BOLD=l.ggetFont(l.gBOLD_FONT);h.FONT_PLAIN=l.ggetFont(l.gPLAIN_FONT);h.FONT_LEGEND=l.ggetFont(l.gLEGEND_FONT);h.FONT_LEGEND_BOLD=l.ggetFont(l.gLEGEND_FONT_BOLD);h.FONT_LEGEND_TINY=l.ggetFont(l.gLEGEND_FONT_TINY);h._legend=new l.gGraphLegend(l.gLegend.RIGHT,this);h._grid=new l.gGrid(this);h._axisY=new l.gValueAxis(this);h._axisX=new l.gCategoryAxis(this);h._titleGraph=new l.gGraphTitle(h.sTitle);h._titleXAxis=new l.gGraphTitle("");h._titleYAxis=new l.gGraphTitle(l.sCurrency);h._titleYAxis._iOrientation=l.gTitle.VERTICAL;h._vDataSeries=new Array();h._showItemLabel=false;h._showItemLabelFmt=l.FMT_DOLLARS;h._showItemLabelDecimals=h._iLimit=0;h._showItemLabelOnTop=h._showLabelFactor=true;h._iArea=l.gGraphLine.AREA_NONE;h._cGrid=l.gColorGrid;h._cGridBackground1=l.gColorGridBackground1;h._cGridBackground2=l.gColorGridBackground2;h._cAxisLine=l.gColorAxisLine;h._cTextColor=l.gColorText;h._sGraphCategories=h._sGraphCategoriesBold=h._sValueLabels=h._showItemValues=null;h._colorList=l.gColorList;h._iDataSeriesCount=0;if(b){h.wTitle=document.createElement("DIV");h.wTitle.className=(h.InCalculator&&h.bBorder?"KJEGraphDropper":"KJEDropperReport");if(h.InCalculator){h.wTitle.tabIndex="0"}if(l.VML){h.wTitle.style.paddingRight="0"}c.insertBefore(h.wTitle,j)}if(h.wTitle&&!i){if(h.wTitle.addEventListener){h.wTitle.addEventListener("click",function(n){h.toggle()},false);h.wTitle.addEventListener("keypress",function(n){if(n.keyCode==32||n.keyCode==13){return KJE.Dropper.stopBubble(n)}},false);h.wTitle.addEventListener("keydown",function(n){if(n.keyCode==32||n.keyCode==13){h.toggle();return KJE.Dropper.stopBubble(n)}},false)}else{h.wTitle.attachEvent("onclick",function(n){h.toggle()});h.wTitle.attachEvent("onkeypress",function(n){if(n.keyCode==32||n.keyCode==13){return KJE.Dropper.stopBubble(n)}});h.wTitle.attachEvent("onkeydown",function(n){if(n.keyCode==32||n.keyCode==13){h.toggle();return KJE.Dropper.stopBubble(n)}})}}if(j){var e=h._gtGraphType;if(j.addEventListener){j.addEventListener("click",function(p){var n=KJE.getMouseCoord(p,j);var o=e.getWedgeValue(n.x,n.y);if(o){KJE.DataPointShow(p,o.s,o.x,o.y,j)}},false);j.addEventListener("mousemove",function(p){var n=KJE.getMouseCoord(p,j);var o=e.getWedgeValue(n.x,n.y);if(o){KJE.DataPointShow(p,o.s,o.x,o.y,j)}},false)}else{j.attachEvent("onclick",function(p){var n=KJE.getMouseCoord(p,j);var o=e.getWedgeValue(n.x,n.y);if(o){KJE.DataPointShow(p,o.s,o.x,o.y,j)}});j.attachEvent("onmousemove",function(p){var n=KJE.getMouseCoord(p,j);var o=e.getWedgeValue(n.x,n.y);if(o){KJE.DataPointShow(p,o.s,o.x,o.y,j)}})}}h.setBackground(m);this.setWidth();h.setHeight(i?l.gHeightReport:l.gHeight);h.show(!d,h.sTitle)};KJE.gCanvas.prototype.setShown=function(b){var a=this;a.wContainer.style.display="block";a.wContainer.style.width="100%";this.setWidth(true)};KJE.gCanvas.prototype.setHidden=function(b){var a=this;a.wContainer.style.display="none"};KJE.gCanvas.prototype.setTitle=function(a){this.sTitle=a};KJE.gCanvas.prototype.toggle=function(){if(KJE.Error||KJE.InComplete){return}if(KJE.inCommandTask(true)){return}var c=this.wCanvas;var b=this;var a=(KJE.deviceNoTransition||KJE.VML?0:10);if(this._bShow){if(KJE.VML){c.style.display="none"}c.style.overflow="hidden";this._bShow=false;this.show();setTimeout(function(){KJE.inCommandTask(false)},100)}else{this._count=0;if(KJE.VML){setTimeout(function(){c.style.overflow="hidden";c.style.display="block";c.style.visibility="visible";b.show(true);b.paint(null,true);setTimeout(function(){KJE.inCommandTask(false)},10)},300)}else{c.style.overflow="hidden";c.style.display="block";c.style.visibility="visible";this.paint(null,true);KJE._iInterval=setInterval(function(){b.open(b.iGraphHeight,a)},25)}}};KJE.gCanvas.prototype.show=function(b,a){if(this.wTitle){this._bShow=b;var e=0;if(b){e=this.iGraphHeight}var c=this;this.wTitle.innerHTML=KJE.setToggleTitleText((a?a:this._titleGraph.s),c,KJE.g,!this.InCalculator);var d=this.wTitle.offsetHeight;this.wContainer.style.height=((d?d:28)+e)+"px";if(this.InCalculator){KJE.Calculator.style.height=KJE.Main.offsetHeight+"px"}else{KJE.Calculator.style.height="0px"}}};KJE.gCanvas.prototype.open=function(c,a){if(this._count>=a){clearInterval(KJE._iInterval);this.show(true);setTimeout(function(){KJE.inCommandTask(false)},100);return}else{if(this._count>=a-2){this._count-=0.5}}this._count++;var b=c*(this._count/a);this.wContainer.style.height=(this.wTitle.offsetHeight+b)+"px";if(this.InCalculator){KJE.Calculator.style.height=KJE.Main.offsetHeight+"px"}};KJE.gCanvas.prototype.setProperty=function(d){var b=d.split("|");var a=KJE.sgv;var e=KJE.sgvStrList;var c=this;c.removeAll();for(var f=0;f<b.length;f++){switch(f){case 0:if(b[f]!=c._gtGraphType._iGraphType){this._gtGraphType=new KJE.gType(b[f])}break;case 1:c._showItemLabel=a(b[f],c._showItemLabel);break;case 2:c._showItemLabelFmt=a(b[f],c._showItemLabelFmt);break;case 3:c._showItemLabelDecimals=a(b[f],c._showItemLabelDecimals);break;case 4:c._showItemLabelOnTop=a(b[f],c._showItemLabelOnTop);break;case 5:c._iArea=a(b[f],c._iArea);break;case 6:c._cBackground=a(b[f],c._cBackground);break;case 7:c._cGrid=a(b[f],c._cGrid);break;case 8:c._cGridBackground1=a(b[f],c._cGridBackground1);break;case 9:c._cGridBackground2=a(b[f],c._cGridBackground2);break;case 10:c._cAxisLine=a(b[f],c._cAxisLine);break;case 11:c._cTextColor=a(b[f],c._cTextColor);break;case 12:c._iLimit=a(b[f],c._iLimit);break;case 13:c._sGraphCategories=e(b[f]);break;case 14:c._sGraphCategoriesBold=e(b[f]);break;case 15:c._sValueLabels=e(b[f]);break;case 16:c._colorList=e(b[f]);break;case 17:c._showItemValues=a(b[f],c._showItemValues);break;case 18:c._bPopDetail=a(b[f],c._bPopDetail);break;case 19:c._bPopCat=a(b[f],c._bPopCat);break;case 20:c._showLabelFactor=a(b[f],c._showLabelFactor);break}}};KJE.gCanvas.prototype.getProperty=function(){var c=KJE.spvStringList;var b=this;var a=KJE;return b._gtGraphType._iGraphType+"|"+b._showItemLabel+"|"+b._showItemLabelFmt+"|"+b._showItemLabelDecimals+"|"+b._showItemLabelOnTop+"|"+b._iArea+"|"+a.spvColor(b._cBackground)+"|"+a.spvColor(b._cGrid)+"|"+a.spvColor(b._cGridBackground1)+"|"+a.spvColor(b._cGridBackground2)+"|"+a.spvColor(b._cAxisLine)+"|"+a.spvColor(b._cTextColor)+"|"+b._iLimit+"|"+c(b._sGraphCategories)+"|"+c(b._sGraphCategoriesBold)+"|"+c(b._sValueLabels)+"|"+a.spvColorList(b._colorList)+"|"+a.spvStringList2(b._showItemValues)+"|"+b._bPopDetail+"|"+b._bPopCat+"|"+b._showLabelFactor};KJE.gCanvas.prototype.getColor=function(a){a-=1;a%=this._colorList.length;return this._colorList[a]};KJE.gCanvas.prototype.blank=function(){this.removeAll();this.paint();if(this.wTitle){this.setTitleGraph(KJE.gPleaseComplete)}};KJE.gCanvas.prototype.getDataSeriesCount=function(){return this._iDataSeriesCount};KJE.gCanvas.prototype.getDataProperties=function(){var a="";for(var b=0;b<this._iDataSeriesCount;b++){a+="|"+this._vDataSeries[b].getProperty()}return a.substring(1)};KJE.gCanvas.prototype.getValueCount=function(){var b=this._iDataSeriesCount;var a=this._iLimit;var c=0;while(b){c=this._vDataSeries[b-1].getValueCount();if(a>c||a==0){a=c}b--}return a};KJE.gCanvas.prototype.getMinValue=function(){if(this._vDataSeries==null){return 0}var a=this._vDataSeries[0].getMinValue(this._iLimit);var b=a;for(var c=1;c<this._iDataSeriesCount;c++){b=this._vDataSeries[c].getMinValue(this._iLimit);if(b<a){a=b}}return a};KJE.gCanvas.prototype.getMaxValue=function(){if(this._vDataSeries==null){return 0}var d=0;var f=0;if(this._gtGraphType._iGraphType==KJE.gSTACKED){var c=new Array();for(var a=0;a<this._vDataSeries.length;a++){var b=this._vDataSeries[a]._fValues;for(var e=0;e<b.length;e++){c[e]=b[e]+(c[e]?c[e]:0)}}return Math.max.apply(Math,c)}else{d=this._vDataSeries[0].getMaxValue(this._iLimit);f=d;for(e=1;e<this._iDataSeriesCount;e++){f=this._vDataSeries[e].getMaxValue(this._iLimit);if(f>d){d=f}}return d}};KJE.gCanvas.prototype.add=function(c){if(c==null){}else{if(typeof c=="string"){if(c.trim()==""){}else{var a=c.split("|");for(var b=0;b<a.length;b++){this._vDataSeries[this._iDataSeriesCount++]=new KJE.gGraphDataSeries(a[b],null,null,null)}}}else{this._vDataSeries[this._iDataSeriesCount]=c;this._iDataSeriesCount++}}};KJE.gCanvas.prototype.removeAll=function(){this._vDataSeries=new Array();this._iDataSeriesCount=0;this._iLimit=0;this._gtGraphType.syncSetup(this);this._legend._cBGColor=null};KJE.gCanvas.prototype.paint=function(e,c){if(this.sTitle){this.setTitleGraph(this.sTitle)}if(!this.wCanvas.getContext){return}if(!c){if(!this._bShow){return}}var b=this.wCanvas.getContext("2d");if(b.canvas.width==0||b.canvas.height==0){return}if(b){this._ctx=b}var a=this._ctx.canvas.width;var d=this._ctx.canvas.height;if(this._iDataSeriesCount!=0){b.fillStyle=this._cBackground;b.fillRect(0,0,a,d);this._gtGraphType.paint(this._ctx,a,d)}else{b.fillStyle=(this._cBackground);b.fillRect(0,0,a,d)}};KJE.gCanvas.prototype.setGraphCategories=function(a){this._sGraphCategories=a};KJE.gCanvas.prototype.setBackground=function(a){this.wContainer.style.backgroundColor=a;this._cBackground=a};KJE.gCanvas.prototype.setWidth=function(c,b){var a=b;if(!b){this.wContainer.style.width="100%";a=this.wContainer.clientWidth;if(!a){a=KJE.CalculatorWidth}}a-=KJE.gWidthAdjust;this.wCanvas.style.width=this.wContainer.style.width=a+"px";this.wCanvas.width=a*KJE.gSCALE;this.iWidth=a;if(c){this.paint()}};KJE.gCanvas.prototype.setHeight=function(a){this.wCanvas.style.height=a+"px";this.iGraphHeight=a;this.wCanvas.height=a*KJE.gSCALE};KJE.gCanvas.prototype.getBackground=function(){return this._cBackground};KJE.gCanvas.prototype.setTitleGraph=function(b){var a=this;if(!(a._titleGraph.s==b)){if(a.wTitle){a.wTitle.innerHTML=KJE.setToggleTitleText(b,a,KJE.g,!a.InCalculator);if(a.InCalculator){KJE.Calculator.style.height=KJE.Main.offsetHeight+"px"}}a._titleGraph.setText(b)}};KJE.gCanvas.prototype.setTitleTemplate=function(){var b=this.TT;for(var a=0;a<arguments.length;a++){b=b.replace("KJE"+(a+1),arguments[a])}this.sTitle=b};KJE.gCanvas.prototype.getFormat=function(c,g,b){var e="";var d=this;var f=d._showItemLabelFmt;var a=d._showItemValues;if(a==null){e=KJE.format[f](c/(f==KJE.FMT_PERCENT&&d._showLabelFactor?100:1),d._showItemLabelDecimals)}else{if(a.length>g){if(a[g].length>b){e=a[g][b]}}}return e};KJE.gGraphDataSeries=function(i,p,k,l,g,j,d){var h=this;h._iDecimals=(d?d:2);var e=(i instanceof Array);if(!e&&KJE.TypedArray){e=(i instanceof Float64Array)}if(e){h._fValues=i;h._sSeriesTitle=p;h._cColor=k;h._sSeriesTitleBold=(!l?"":l);h._sSeriesPop=(!g?p:g);h._bNoPopDetails=(j?true:false)}else{var m=i.split("~");var o=m.length;var a=KJE.sgv;for(var b=0;b<o;b++){switch(b){case 0:h._cColor=a(m[b],"#0000FF");break;case 1:h._sSeriesTitle=a(m[b],"");break;case 2:h._sSeriesTitleBold=a(m[b],"");break;case 3:h._fValues=KJE.sgvNumList(m[b]);break;case 4:h._sSeriesPop=a(m[b],h._sSeriesTitle);break;case 5:h._bNoPopDetails=a(m[b],false);break}}}};KJE.gGraphDataSeries.prototype.getProperty=function(){var a=KJE;return this._cColor+"~"+a.spvStr(this._sSeriesTitle)+"~"+a.spvStr(this._sSeriesTitleBold)+"~"+a.spvFloatList(this._fValues,this._iDecimals)+"~"+a.spvStr(this._sSeriesPop)};KJE.gGraphDataSeries.prototype.getValueCount=function(){if(this._fValues==null){return 0}return this._fValues.length};KJE.gGraphDataSeries.prototype.getMinValue=function(c){var a=this._fValues;if(a==null){return 0}var b=a[0];var d=a.length;if(d>c&&c!=0){d=c}for(var e=1;e<d;e++){if(b>a[e]){b=a[e]}}return b};KJE.gGraphDataSeries.prototype.getMaxValue=function(c){var a=this._fValues;if(a==null){return 0}var d=a.length;if(d>c&&c!=0){d=c}var b=a[0];for(var e=d-1;e>0;e--){if(b<a[e]){b=a[e]}}return b};KJE.gGraphTitle=function(a){var b=this;b._iOrientation=KJE.gTitle.HORIZONTAL;b.s=a;b.f="11pt Helvetica";b.c="#000000";b.bShow=true;b.sText=""};KJE.gGraphTitle.prototype.setProperty=function(a){this.setText(KJE.sgv(a,""))};KJE.gGraphTitle.prototype.getProperty=function(){return KJE.spvStr(this.s)};KJE.gGraphTitle.prototype.paint=function(b,a,e,c,d){b.font=this.f;b.fillStyle=this.c;b.shadowBlur="";b.shadowColor="";b.shadowOffsetX="";b.shadowOffsetY="";b.textAlign="center";b.textBaseline="middle";if(this._iWidth!=0){if(this._iOrientation==KJE.gTitle.VERTICAL){b.save();b.rotate(-Math.PI/2);b.fillText(KJE.FTR(this.sText),-e-d/2,a+c/2);b.restore()}else{b.fillText(KJE.FTR(this.sText),a+c/2,e+d/2)}}};KJE.gGraphTitle.prototype.setText=function(a){this.s=a};KJE.gGraphTitle.prototype.setFont=function(a){this.f=a};KJE.gGraphTitle.prototype.setColor=function(a){this.c=a};KJE.gGraphTitle.prototype.setTitle=function(b,d){var a=0;var f=0;var c=d||"";c+=((c==""&&this.s==KJE.sCurrency)?"":(this.s||""));if(c!=""&&this.bShow){b.font=this.f;var e=f=KJE.gGetFontHeight(b)+10;a=b.measureText(KJE.FTR(c)).width;if(this._iOrientation==KJE.gTitle.VERTICAL){f=a;a=e}}this.sText=c;this._iHeight=f;this._iWidth=a};KJE.gGraphLegend=function(c,a){this._gGraph=a;var b=this;b._iShape=KJE.gLegend.SQUARE_LEGEND;b._iOrientation=c;b._legendType=KJE.gLegend.DATA_SERIES_LEGEND;b._border=false;b._cBGColor=null;b._iLegendWidth=0;b.LINE_SPACE=KJE.gLegend._LINE_SPACE;b._bShow=true;b._cColor="#000000";b._iXOffset=0;b._iYOffset=0;b._iWidthOffset=0;b._iHeightOffset=0;b._iMaxLegendLength=0;b._iWidth=0;b._iHeight=0;b._iFontHeight=0;b._iColorBoxYOffset=0;b._iLabelOffset=0;b._iColorBoxOffset=0;b._iBORDER_WIDTH=0};KJE.gGraphLegend.prototype.setProperty=function(d){var b=d.split("|");var a=KJE.sgv;var c=this;for(var e=0;e<b.length;e++){switch(e){case 0:c._cBGColor=a(b[e],c._cBGColor);break;case 1:c._iShape=a(b[e],c._iShape);break;case 2:c._iOrientation=a(b[e],c._iOrientation);break;case 3:c._border=a(b[e],c._border);break;case 4:c._iLegendWidth=a(b[e],c._iLegendWidth);break;case 5:c.LINE_SPACE=a(b[e],c.LINE_SPACE);break;case 6:c._bShow=a(b[e],c._bShow);break}}};KJE.gGraphLegend.prototype.getProperty=function(){var a=this;if(a._cBGColor==null){a._cBGColor=a._gGraph.getBackground()}return a._cBGColor+"|"+a._iShape+"|"+a._iOrientation+"|"+a._border+"|"+a._iLegendWidth+"|"+a.LINE_SPACE+"|"+a._bShow};KJE.gGraphLegend.prototype.setVisible=function(a){this._bShow=a};KJE.gGraphLegend.prototype.useOrientation=function(a){var b=this._iOrientation;this.bLegendSmall=false;if(a/KJE.gSCALE<KJE.gLegendMin){b=KJE.gLegend.BOTTOM;this.bLegendSmall=true}return b};KJE.gGraphLegend.prototype.paint=function(m,j,h,n,f,c,b,r,p){var o=this;var q=o._iHeight;var l=o._iWidth;var e=this._iBORDER_WIDTH;var a=KJE.gLegend._iTOPBOTTOM_BORDER_WIDTH;if(!c){c=0}if(!b){b=0}if(!r){r=0}if(!p){p=0}m.textAlign="left";m.textBaseline="middle";var g=KJE.gLegend;var d=o.useOrientation(m.canvas.width);switch(d){case g.TOP:f=q;break;case g.TOP_GRID_ALIGN:f=q;n=l;j=c;break;case g.BOTTOM:h+=f-q;f=q;break;case g.LEFT:if(b>0){h=b}if(p>0){f=p}n=l;break;case g.RIGHT:if(b>0){h=b}if(p>0){f=p}j+=n-l;n=l;break;case g.TOP_LEFT:f=q;n=l;break;case g.BOTTOM_LEFT:h+=f-q;f=q;n=l;break;case g.TOP_RIGHT:j+=n-l;f=q;n=l;break;case g.BOTTOM_RIGHT:h+=f-q;j+=n-l;f=q;n=l;break;case g.GRID_TOP_RIGHT:j=c-a+r-l;h=b+a;n=l;f=q;break;case g.GRID_TOP_LEFT:j=c+a;h=b+a;n=l;f=q;break;case g.GRID_BOTTOM_RIGHT:j=c-a+r-l;h=b-a+p-q;n=l;f=q;break;case g.GRID_BOTTOM_LEFT:j=c+a;h=b-a+p-q;n=l;f=q;break;case g.GRID_TOP:j=c;h=b+e;n=r;f=q;break;case g.GRID_BOTTOM:j=c;h=b-e+p-q;n=r;f=q;break;case g.GRID_LEFT:j=c+e;h=b;n=l;f=p;break;case g.GRID_RIGHT:j=c-e+r-l;h=b;n=l;f=p;break}if(this._bShow){var k=j+(n/2)-(l/2);var i=h+(f/2)-(q/2);if(this._border){m.fillStyle=this._cBGColor;m.fillRect(k-0.5,i-0.5,l,q);m.strokeStyle=this._gGraph._cTextColor;m.strokeRect(k-0.5,i-0.5,l,q)}if(this._legendType<=g.DATA_SERIES_LEGEND){this.drawDataSeriesLegend(m,k,i);return}this.drawCategoryLegend(m,k,i)}};KJE.gGraphLegend.prototype.drawDataSeriesLegend=function(i,e,d){var f=this._gGraph._vDataSeries.length;var h=new Array(f);var a=new Array(f);var g=new Array(f);var c=this._gGraph._vDataSeries;for(var b=0;b<f;b++){h[b]=c[b]._cColor;a[b]=c[b]._sSeriesTitle+(KJE.VML?c[b]._sSeriesTitleBold:"");if(!KJE.VML){g[b]=c[b]._sSeriesTitleBold}}this.drawLegend(i,e,d,h,a,g)};KJE.gGraphLegend.prototype.drawCategoryLegend=function(a,f,d){var b=this._gGraph._sGraphCategories;var c=this._gGraph._sGraphCategoriesBold;if(KJE.VML&&c!=null){var e=this._gGraph._sGraphCategories.length;var g=new Array(e);for(var h=0;h<e;h++){g[h]=b[h]+c[h]}c=null;b=g}this.drawLegend(a,f,d,this._gGraph._colorList,b,c)};KJE.gGraphLegend.prototype.drawLegend=function(s,l,i,y,a,p){var g=KJE.gLegend;var u=i+g._iSIDE_BORDER_WIDTH;var c=(this._iShape==g.SQUARE_LEGEND);var t=0;var d=this.LINE_SPACE+this._iFontHeight;var o=this._iColorBoxOffset;var b=this._iColorBoxYOffset;var h=g._iSIDE_BORDER_WIDTH;var z=g._PAD;var x=(this.bLegendSmall?this._gGraph.FONT_LEGEND_TINY:this._gGraph.FONT_LEGEND_BOLD);var e=(this.bLegendSmall?this._gGraph.FONT_LEGEND_TINY:this._gGraph.FONT_LEGEND);var f=(this._legendType==g.BANDED_LEGEND);var w=a.length;var m=KJE.FTR;s.font=e;s.lineWidth=g._LINE_WIDTH;s.shadowColor=g._sSHADOW_COLOR;s.shadowOffsetX=g._sSHADOW_BLUR_X;s.shadowOffsetY=g._sSHADOW_BLUR_Y;for(var r=0;r<w;r++){s.fillStyle=y[r];if(c){s.fillRect(l+o,u+b,h,h)}else{var q=g._iCIR_SIDE_LENGTH;s.beginPath();s.arc(l+o+q,u+b+q,q,0,Math.PI*2,true);s.closePath();s.fill()}u+=d;if(f){r++}}s.lineWidth=g._LINE_WIDTH;s.shadowBlur="0";s.shadowColor=g._sSHADOW_COLOR;s.shadowOffsetX="0";s.shadowOffsetY="0";s.fillStyle=this._cTextColor;u=i+h+b+h/2+z;var j=l+this._iLabelOffset;for(r=0;r<w;r++){s.fillText(m(a[r]),j,u);if(p&&p[r]){t=s.measureText(m(a[r])).width;s.font=x;s.fillText(m(p[r]),j+t,u);s.font=e}u+=d;if(f){r++}}};KJE.gGraphLegend.prototype.setSize=function(l){var j=KJE.gLegend;var g=this;g._iWidth=0;g._iHeight=0;g._iXOffset=0;g._iYOffset=0;var d=g._iWidthOffset=g._iBORDER_WIDTH=KJE.gBORDER_WIDTH;g._iHeightOffset=0;if(g._bShow){var i=j._iSIDE_BORDER_WIDTH;var c=g._gGraph;var h=g.LINE_SPACE;var f=g._iFontHeight;var e=j._PAD;g._iColorBoxOffset=i+e;g._iLabelOffset=i+i+j._iBOX_TO_LABEL_SPACE+e*2;var k=g._iWidth=g._iLabelOffset+g._iMaxLegendLength+i;var b=g._iHeight=i+(f+h)*(g._legendType==j.CATEGORY_LEGEND?(c._sGraphCategories==null?0:c._sGraphCategories.length):c.getDataSeriesCount())-h+i;g._iColorBoxYOffset=Math.ceil((f-i)/2)+e;var a=g.useOrientation(l.canvas.width);switch(a){case j.TOP:case j.TOP_GRID_ALIGN:g._iYOffset=b+d;case j.BOTTOM:g._iHeightOffset=b+d;break;case j.LEFT:case j.TOP_LEFT:case j.BOTTOM_LEFT:g._iXOffset=k+d;g._iWidthOffset=k+d+d;break;case j.RIGHT:case j.TOP_RIGHT:case j.BOTTOM_RIGHT:g._iWidthOffset=k+d;break}}};KJE.gGraphLegend.prototype.setINF=function(k){oThis=this;oThis._cColor=oThis._gGraph._cTextColor;oThis._cTextColor=oThis._gGraph._cTextColor;if(oThis._cBGColor==null){oThis._cBGColor=oThis._gGraph._cBackground}oThis._iMaxLegendLength=0;oThis._iFontHeight=0;oThis._iFontDescent=0;var b=oThis.useOrientation(k.canvas.width);var c=(oThis.bLegendSmall?oThis._gGraph.FONT_LEGEND_TINY:oThis._gGraph.FONT_LEGEND_BOLD);var d=(oThis.bLegendSmall?oThis._gGraph.FONT_LEGEND_TINY:oThis._gGraph.FONT_LEGEND);if(oThis._bShow){if(oThis._iLegendWidth>0){oThis._iMaxLegendLength=oThis._iLegendWidth}else{k.font=d;var f=0;var j="";var h=oThis._gGraph._vDataSeries.length;var l="";if(oThis._legendType!=KJE.gLegend.CATEGORY_LEGEND){for(var g=0;g<h;g++){l=oThis._gGraph._vDataSeries[g]._sSeriesTitle;j=oThis._gGraph._vDataSeries[g]._sSeriesTitleBold;j=(j?j:"");f=k.measureText(KJE.FTR(l+(KJE.VML?j:""))).width;if(j!=""&&!KJE.VML){k.font=oThis.FONT_LEGEND_BOLD;f+=k.measureText(KJE.FTR(j)).width;k.font=d}if(f>oThis._iMaxLegendLength){oThis._iMaxLegendLength=f}}}else{if(oThis._gGraph._sGraphCategories!=null){var h=oThis._gGraph._sGraphCategories.length;var a=(oThis._gGraph._sGraphCategoriesBold==null?0:oThis._gGraph._sGraphCategoriesBold.length);for(var e=0;e<h;e++){l=oThis._gGraph._sGraphCategories[e];j=(e<a?oThis._gGraph._sGraphCategoriesBold[e]:"");f=k.measureText(KJE.FTR(l+(KJE.VML?j:""))).width;if(e<a){k.font=c;f+=k.measureText(KJE.FTR(j)).width;k.font=d}if(f>oThis._iMaxLegendLength){oThis._iMaxLegendLength=f}}}}}oThis._iFontHeight=KJE.gGetFontHeight(k)}};KJE.gValueAxis=function(a){this._gGraph=a;this._font=a.FONT_PLAIN;this._bShow=true;this._cColor="#FFFFFF";this._cLine="#000000";this._cTextColor="#000000";this._iFormat=KJE.FMT_DOLLARS;this._iXOffset=0;this._iYOffset=0;this._iLabelCount=0;this._iMaxLabelLength=0;this._iMaxLength=0;this._iWidth=0;this._iHeight=0;this._iPixelsPerIncrement=0;this._iDataLength=0;this._fValuePerPixel=0;this._iFontHeight=0;this._iFormat=KJE.FMT_DOLLARS;this._bAutoMaximum=true;this._bAutoMinimum=false;this._axisMinimum=0;this._axisMaximum=100;this._sUnits="";this._iUnitFactor=1;this._fAbsoluteMinValue=0;this._fAbsoluteMaxValue=0;this._fRange=0;this._fMinValue=0;this._fMaxValue=0;this._iIncrement=0;this._iFactor=0;this._fIncrement=0;this._iZeroIntersects=0};KJE.gValueAxis.prototype.setProperty=function(c){var b=c.split("|");var a=KJE.sgv;for(var d=0;d<b.length;d++){switch(d){case 0:this._bShow=a(b[d],this._bShow);break;case 1:this._iFormat=a(b[d],this._iFormat);break;case 2:this._bAutoMaximum=a(b[d],this._bAutoMaximum);break;case 3:this._bAutoMinimum=a(b[d],this._bAutoMinimum);break;case 4:this._axisMaximum=a(b[d],this._axisMaximum);break;case 5:this._axisMinimum=a(b[d],this._axisMinimum);break}}};KJE.gValueAxis.prototype.getProperty=function(){return this._bShow+"|"+this._iFormat+"|"+this._bAutoMaximum+"|"+this._bAutoMinimum+"|"+KJE.number(this._axisMaximum,2)+"|"+KJE.number(this._axisMinimum,2)};KJE.gValueAxis.prototype.getLabel=function(a){if(this._gGraph._sValueLabels==null){return KJE.format[this._iFormat](a/this._iUnitFactor,((this._fAbsoluteMaxValue-this._fAbsoluteMinValue)<=5)?2:0)}else{return this._gGraph._sValueLabels[Math.floor(a)]}};KJE.gValueAxis.prototype.getNextIncrement=function(b){var a=this._iIncrement;return(this._gGraph._sValueLabels==null?(this._fRange>100?(b-(a*this._iFactor)):Math.round((b*this._iFactor)-a)/this._iFactor):(b-1))};KJE.gValueAxis.prototype.paint=function(i,h,g){if(this._bShow){var f=KJE.gAxis;i.font=this._font;var a=(this._iWidth-f.TICK_LENGTH-f.LINE_WIDTH);var c=(f.LABEL_SPACE_LENGTH+f.TICK_LENGTH);var e=0;var d=this.getStartingPlotValue();for(var b=0;b<=this._iLabelCount;b++){i.strokeStyle=this._cTextColor;if(this._iPixelsPerIncrement<this._iFontHeight){if((b%2)!=0){this.drawText(i,h,g,this.getLabel(d),c,e)}}else{this.drawText(i,h,g,this.getLabel(d),c,e)}i.strokeStyle=this._cColor;i.beginPath();this.drawLine(i,h,g,a,e,a+f.TICK_LENGTH,e,this._cLine);e+=this._iPixelsPerIncrement;d=this.getNextIncrement(d)}this.drawLine(i,h,g,a+f.TICK_LENGTH,0,a+f.TICK_LENGTH,this._iDataLength,this._cLine)}};KJE.gValueAxis.prototype.drawLine=function(b,e,f,a,h,c,d,g){b.strokeStyle=g;b.moveTo(a+e+0.5,h+f+0.5);b.lineTo(c+e+0.5,d+f+0.5);b.stroke()};KJE.gValueAxis.prototype.drawText=function(h,e,c,i,g,f){var d=h.measureText(KJE.FTR(i)).width;var a=f+((this._iFontHeight)/2);var b=this._iWidth-g-d;h.textAlign="left";h.textBaseline="bottom";h.font=this._font;h.fillText(KJE.FTR(i),e+b,c+a)};KJE.gValueAxis.prototype.setSize=function(a,b){a.font=this._font;a.fillStyle=this._cColor;this._iPixelsPerIncrement=Math.floor(b/this._iLabelCount);this._iDataLength=this._iPixelsPerIncrement*this._iLabelCount;this._iMaxLength=b;this._iHeight=this._iDataLength;var f=0;var d=this.getStartingPlotValue();for(var e=0;e<=this._iLabelCount;e++){if(d==0){this._iZeroIntersects=f;break}d=this.getNextIncrement(d);f+=this._iPixelsPerIncrement}var c=KJE.gAxis;this._iWidth=this._iMaxLabelLength+c.LABEL_SPACE_LENGTH+c.TICK_LENGTH+c.LINE_WIDTH;this._iYOffset=(this._bShow?this._iHeight:0);this._iXOffset=(this._bShow?this._iWidth:0);this._fValuePerPixel=(this._iDataLength/this._fRange)};KJE.gValueAxis.prototype.setFormat=function(a){this._iFormat=a};KJE.gValueAxis.prototype.setINF=function(j){this._cLine=this._gGraph._cAxisLine;this._cColor=this._gGraph._cTextColor;this._cTextColor=this._gGraph._cTextColor;this._iFontHeight=KJE.gGetFontHeight(j);j.font=this._font;j.strokeStyle=this._cTextColor;this._fAbsoluteMaxValue=(this._bAutoMaximum?this._gGraph.getMaxValue():this._axisMaximum);this._fAbsoluteMinValue=(this._bAutoMinimum?this._gGraph.getMinValue():this._axisMinimum);if(this._fAbsoluteMaxValue<0.00001&&this._fAbsoluteMaxValue>-0.00001&&this._fAbsoluteMinValue<0.00001&&this._fAbsoluteMinValue>-0.00001){this._fAbsoluteMaxValue=25}else{if(this._fAbsoluteMaxValue<1&&this._fAbsoluteMaxValue>-1&&this._fAbsoluteMinValue<1&&this._fAbsoluteMinValue>-1&&this._iFormat==KJE.FMT_DOLLARS){this._fAbsoluteMaxValue=1}}var d=this._fAbsoluteMaxValue-this._fAbsoluteMinValue;this._iFactor=1;this._iIncrement=1;this._fIncrement=1;if(this._gGraph._sValueLabels!=null){}else{var g=d;if(g>100){while(g>200){this._iFactor*=10;g=(d/this._iFactor)}}else{while(g<=20){this._iFactor*=10;g=(d*this._iFactor)}}this._iIncrement=(g>100?20:(g>50?10:5));this._fIncrement=(d>100?(this._iIncrement*this._iFactor):this._iIncrement/this._iFactor)}if(this._fAbsoluteMinValue==0){this._fMinValue=0}else{if((this._fAbsoluteMinValue%this._fIncrement)==0){this._fMinValue=this._fAbsoluteMinValue}else{this._fMinValue=(Math.floor(this._fAbsoluteMinValue/this._fIncrement))*this._fIncrement}}if(this._fAbsoluteMaxValue==0){this._fMaxValue=0}else{if((this._fAbsoluteMaxValue%this._fIncrement)==0){this._fMaxValue=this._fAbsoluteMaxValue}else{this._fMaxValue=Math.ceil(this._fAbsoluteMaxValue/this._fIncrement);this._fMaxValue=Math.round(this._iFactor*this._fMaxValue*this._fIncrement)/this._iFactor}}this._fRange=this._fMaxValue-this._fMinValue;if(this._fRange==0){this.fRange=this._fIncrement}if(this._gGraph._sValueLabels==null){this._iLabelCount=Math.round(this._fRange/this._fIncrement)}else{this._iLabelCount=this._gGraph._sValueLabels.length-1}this.setGraphUnits(this._fMaxValue,this._fMinValue);if(this._bShow){var a=this.getStartingPlotValue();var e=0;var c=0;var f=this._iLabelCount;for(var b=0;b<=f;b++){c=j.measureText(KJE.FTR(this.getLabel(a))).width;e=(c>e?c:e);a=this.getNextIncrement(a)}var h=KJE.gAxis;this._iMaxLabelLength=e;this._iFontHeight=KJE.gGetFontHeight(j);this._iWidth=this._iMaxLabelLength+h.LABEL_SPACE_LENGTH+h.TICK_LENGTH+h.LINE_WIDTH}};KJE.gValueAxis.prototype.getStartingPlotValue=function(){return(this._gGraph._sValueLabels==null?this._fMaxValue:this._gGraph._sValueLabels.length-1)};KJE.gValueAxis.prototype.setVisible=function(a){this._bShow=a};KJE.gValueAxis.prototype.getDataLength=function(){return this._iDataLength};KJE.gValueAxis.prototype.setGraphUnits=function(d,g){var a=KJE;g=g||0;var c=a.gScaleLabelMax;var e=a.gScaleLabelFactor;var f=c.length;for(var b=f-1;b>=0;b--){if(d>=c[b]||g<=(-1)*c[b]){this._sUnits=a.gScaleLabel[b];this._iUnitFactor=e[b];break}}return this._iUnitFactor};KJE.gCategoryAxis=function(a){this._gGraph=a;this._bShow=true;this._cColor="#FFFFFF";this._cLine="#000000";this._cTextColor="#000000";this._fFont="11pt Helvetica";this._iXOffset=0;this._iYOffset=0;this._iLabelCount=0;this._iMaxLabelLength=0;this._iWidth=0;this._iHeight=0;this._iPixelsPerIncrement=0;this._iDataLength=0;this._iFontHeight=0;this._iFontOffset=0;this._fSpacingPercent=0.25;this._fDataGapPercent=0;this._bNoOffset=false;this._sCategories=new Array();this._iCategoryCount;this._iBarCount;this._iBarWidth;this._iSpaceWidth;this._iGapWidth;this._iBarsPerCategory;this._iAxisSegmentLength;this._bVertical=false};KJE.gCategoryAxis.prototype.setProperty=function(c){var b=c.split("|");var a=KJE.sgv;for(var d=0;d<b.length;d++){switch(d){case 0:this._bShow=a(b[d],this._bShow);break;case 1:this._fSpacingPercent=a(b[d],this._fSpacingPercent);break;case 2:this._fDataGapPercent=a(b[d],this._fDataGapPercent);break}d++}};KJE.gCategoryAxis.prototype.getProperty=function(){return this._bShow+"|"+KJE.input(this._fSpacingPercent,2)+"|"+KJE.input(this._fDataGapPercent,2)};KJE.gCategoryAxis.prototype.paint=function(m,j,h,r,t){var p=this;if(p._bShow){var s=KJE.gAxis;h+=t;m.font=p._fFont;var c=s.TICK_LENGTH;var q=s.LABEL_SPACE_LENGTH+s.LINE_WIDTH+s.TICK_LENGTH;var e=c+s.LABEL_SPACE_LENGTH;var a=0;var b=0;var d=1;var i=p._sCategories;var f=p._iCategoryCount;var n=p._bVertical;var o=(n?p._iFontHeight:p._iMaxLabelLength)+q;if(o>p._iAxisSegmentLength&&f>2){d=Math.ceil(f/(p._iDataLength/o))}m.strokeStyle=p._cLine;m.beginPath();for(var g=0;g<f;g++){b=p.getCategoryLeft(g);if(g==0){b-=s.LINE_WIDTH}m.moveTo(b+j+0.5,0+h+0.5);m.lineTo(b+j+0.5,c+h+0.5)}m.moveTo(j+0.5,h+0.5);m.lineTo(p._iWidth+j+0.5,h+0.5);m.stroke();if(i){m.setStyle=p._cTextColor;if(n){m.save();m.rotate(-Math.PI/2);m.textAlign="right";m.textBaseline="middle"}else{m.textAlign="center";m.textBaseline="top"}p.getCatOffset=p._bNoOffset?p.getCategoryLeft:p.getCategoryMid;var l=i.length;var k=KJE.FTR;for(var g=0;g<f;g++){a=p.getCatOffset(g);if((d<2||(g%d)==0&&g<f-(d*0.9)&&g!=f-2||g==f-1)){if(g<l){if(n){m.fillText(k(i[g]),-h-e-0.5,j+a-0.5)}else{m.fillText(k(i[g]),j+a+0.5,h+e+0.5)}}}}if(n){m.restore()}}}};KJE.gCategoryAxis.prototype.drawLine=function(b,e,f,a,h,c,d,g){b.beginPath();b.strokeStyle=g;b.moveTo(a+e+0.5,h+f+0.5);b.lineTo(c+e+0.5,d+f+0.5);b.stroke()};KJE.gCategoryAxis.prototype.setSize=function(k,d){k.font=this._fFont;var e=this._gGraph.getValueCount()-(this._bNoOffset?1:0);var a=this._gGraph.getDataSeriesCount();var h=(a*e);var j=(2*e);var b=((a-1)*e);this._iWidth=d;this._iDataLength=d;var c=Math.floor(this._iWidth/Math.round(((j*this._fSpacingPercent)+h+(b*this._fDataGapPercent))));var i=c*this._fDataGapPercent;var f=Math.floor((this._iDataLength-(c*h)-(i*b))/j);this._iAxisSegmentLength=2*f+(i*(a-1))+(c*a);this._iXOffset=0;this._iYOffset=0;if(this._bShow){var g=KJE.gAxis;if(this._iMaxLabelLength>this._iAxisSegmentLength&&this._iMaxLabelLength>k.measureText("9999").width&&this._iMaxLabelLength<k.measureText("9999999999999999999").width){this._iHeight=this._iMaxLabelLength+g.TICK_LENGTH;this._bVertical=true}else{this._iHeight=this._iFontHeight+g.LABEL_SPACE_LENGTH+g.TICK_LENGTH+g.LINE_WIDTH;this._bVertical=false}}else{this._iHeight=0}this._iBarsPerCategory=a;this._iBarWidth=c;this._iGapWidth=i;this._iSpaceWidth=f};KJE.gCategoryAxis.prototype.setINF=function(a){this._iCategoryCount=this._gGraph.getValueCount();this._sCategories=this._gGraph._sGraphCategories;this._fFont=this._gGraph.FONT_PLAIN;this._cColor=this._gGraph._cTextColor;this._cTextColor=this._gGraph._cTextColor;this._cLine=this._gGraph._cAxisLine;this._iFontHeight=0;this._iMaxLabelLength=0;this._iHeight=0;if(this._bShow){var b=KJE.gAxis;if(this._sCategories){this._iFontHeight=KJE.gGetFontHeight(a)}else{this._iFontHeight=-b.LABEL_SPACE_LENGTH*2}a.font=this._fFont;a.strokeStyle=this._cColor;this._iMaxLabelLength=this.getMaximumCategoryLength(a,this._iCategoryCount,this._sCategories)}};KJE.gCategoryAxis.prototype.getCategoryLeft=function(a){return Math.round(this._iWidth/(this._iCategoryCount-(this._bNoOffset?1:0))*a)};KJE.gCategoryAxis.prototype.getCategoryMid=function(a){return Math.round((this._iWidth/this._iCategoryCount)*a)+Math.round(((this._iBarsPerCategory*this._iBarWidth)+((this._iBarsPerCategory-1)*this._iGapWidth))/2)+this._iSpaceWidth};KJE.gCategoryAxis.prototype.getDataWidth=function(){return this._iGapWidth+this._iBarWidth};KJE.gCategoryAxis.prototype.getMaximumCategoryLength=function(b,e,d){if(d==null){return 0}if(d.length==0){return 0}var a=0;var c=0;for(var f=0;(f<e)&&(f<d.length);f++){c=b.measureText(KJE.FTR(d[f])).width+3;a=(c>a?c:a)}return a};KJE.gCategoryAxis.prototype.setVisible=function(a){this._bShow=a};KJE.gGrid=function(a){this._gGraph=a;this._showYGridLines=true;this._showXGridLines=false;this._lineWidth=KJE.giGridLineWidth};KJE.gGrid.prototype.setProperty=function(c){var b=c.split("|");var a=KJE.sgv;for(var d=0;d<b.length;d++){switch(d){case 0:this._showYGridLines=a(b[d],this._showYGridLines);break;case 1:this._showXGridLines=a(b[d],this._showXGridLines);break;case 2:this._lineWidth=a(b[d],this._lineWidth);break}}};KJE.gGrid.prototype.getProperty=function(){return this._showYGridLines+"|"+this._showXGridLines+"|"+this._lineWidth};KJE.gGrid.prototype.paint=function(q,n,m){var j=this._gGraph._axisX._iDataLength;var p=this._gGraph._axisY._iDataLength;var d=q.createLinearGradient(0,0,0,p);d.addColorStop(0,this._gGraph._cGridBackground1);d.addColorStop(1,this._gGraph._cGridBackground2);q.fillStyle=d;q.fillRect(n,m,j,p+1);q.beginPath();q.strokeStyle=this._gGraph._cGrid;q.lineWidth=this._lineWidth;q.strokeRect(n,m,j+1,p);q.strokeStyle=this._gGraph._cAxisLine;q.beginPath();q.moveTo(n,m+p);q.lineTo(n+j,m+p);q.closePath();q.strokeStyle=this._gGraph._cGrid;var k,i,g;var b=this._gGraph.getValueCount();if(this._showXGridLines){k=0;i=0;g=0;for(var h=0;h<b;h++){g=this._axisX.getCategoryLeft(h);if(h==0){k--}k=n+g;q.moveTo(k+0.5,m);q.lineTo(k+0.5,m+p)}}var f=0;if(this._showYGridLines){i=m;var a=this._gGraph._axisY._iLabelCount;var c=this._gGraph._axisY._iPixelsPerIncrement;var o=this._gGraph._axisY._iZeroIntersects;for(var e=0;e<a;e++){if(o+m==i){f=i}q.moveTo(n,i+0.5);q.lineTo(n+j,i+0.5);i=i+c}}q.strokeStyle=this._gGraph._cGrid;q.stroke();q.closePath();if(f){q.beginPath();q.strokeStyle=this._gGraph._cAxisLine;q.moveTo(n,f+0.5);q.lineTo(n+j,f+0.5);q.stroke();q.closePath()}};KJE.gType=function(a){this._iGraphType=a;this.bTitleHigher=false;this._gGraph=null;this.xPopup=new Array();this.yPopup=new Array();this.xArray=new Array();this.yArray=new Array();this.sItems=new Array()};KJE.gType.prototype.syncSetup=function(a){this._gGraph=a;if(a.wTitle){a.wTitle.style.fontColor=a._cTextColor;a._titleGraph.bShow=false}a._titleGraph.setFont(a.FONT_TITLE);a._titleXAxis.setFont(a.FONT_BOLD);a._titleYAxis.setFont(a.FONT_BOLD);a._titleGraph.setColor(a._cTextColor);a._titleXAxis.setColor(a._cTextColor);a._titleYAxis.setColor(a._cTextColor);switch(this._iGraphType){case KJE.gCOLUMN:a._legend._legendType=KJE.gLegend.DATA_SERIES_LEGEND;a._axisX._fDataGapPercent=0.05;this.bTitleHigher=true;break;case KJE.gCATEGORIES:a._legend._legendType=KJE.gLegend.CATEGORY_LEGEND;a._axisX._fDataGapPercent=0.05;this.bTitleHigher=true;break;case KJE.gLINE:a._legend._legendType=KJE.gLegend.DATA_SERIES_LEGEND;a._axisX._fDataGapPercent=100;this.bTitleHigher=false;a._axisX._bNoOffset=true;break;case KJE.gPIE:a._legend._legendType=KJE.gLegend.CATEGORY_LEGEND;this.bTitleHigher=false;break;case KJE.gSTACKED:a._legend._legendType=KJE.gLegend.DATA_SERIES_LEGEND;a._axisX._fDataGapPercent=-1;this.bTitleHigher=true;break}};KJE.gType.prototype.paint=function(s,q,E){var w=this;var x=w._gGraph;var C=x._legend;var d=x._axisX;var b=x._axisY;var u=x._titleXAxis;var l=x._titleYAxis;var F=x._titleGraph;F.setTitle(s);C.setINF(s);x._axisX.setINF(s);x._axisY.setINF(s);u.setTitle(s,"");l.setTitle(s,x._axisY._sUnits);var G=w.bTitleHigher&&x._showItemLabel&&x._showItemLabelOnTop;var H=KJE.gBORDER_WIDTH;var A=KJE.gBORDER_WIDTH;var J=q-2*KJE.gBORDER_WIDTH;var z=E-2*KJE.gBORDER_WIDTH;var m=F._iHeight;var e=H;var h=A+(G?Math.ceil(m/2):0)+m+KJE.gBORDER_WIDTH;var f=J;var c=z-((G?Math.ceil(m/2):0)+m+KJE.gBORDER_WIDTH);C.setSize(s);var D,i,p,j,K,a,y,o,L,B,k,n,g,I,r,t;switch(w._iGraphType){case KJE.gPIE:D=e;i=h;p=f;j=c;K=f;a=c;y=e;o=h;L=e;B=h;k=f;n=c;g=e+C._iXOffset;I=h+C._iYOffset;r=f-C._iWidthOffset;t=c-C._iHeightOffset;break;default:D=e+C._iXOffset;i=h+C._iYOffset;p=f-C._iWidthOffset;j=c-C._iHeightOffset;K=p-l._iWidth-(KJE.gBORDER_WIDTH);a=j-u._iHeight-(KJE.gBORDER_WIDTH);d.setSize(s,K-b._iWidth);b.setSize(s,a-d._iHeight);y=D+l._iWidth+KJE.gBORDER_WIDTH;o=i+(b._iMaxLength-b._iHeight);L=y+b._iXOffset;B=o+d._iYOffset;k=d._iDataLength;n=b._iDataLength;g=L;I=B;r=k;t=n}switch(w._iGraphType){case KJE.gPIE:break;default:x._grid.paint(s,L,B);u.paint(s,L,b._iDataLength+B+d._iHeight+u._iHeight/2,k,u._iHeight);l.paint(s,D,B,l._iWidth,n);b.paint(s,y,o+d._iXOffset,k,n);d.paint(s,y+b._iXOffset,o,k,n)}switch(w._iGraphType){case KJE.gCATEGORIES:case KJE.gCOLUMN:w.paintDataColumn(s,g,I,r,t);break;case KJE.gLINE:w.paintDataLine(s,g,I,r,t);break;case KJE.gPIE:w.paintDataPie(s,g,I,r,t);break;case KJE.gSTACKED:w.paintDataStacked(s,g,I,r,t);break}F.paint(s,H,A-(G?Math.ceil(m/4):0),J,m);C.paint(s,e,h,f,c,L,B,k,n)};KJE.gType.prototype.paintDataColumn=function(s,m,j,w,f){var r;var K=this._gGraph;var A=KJE.gGraphColumn;var E=this;var c=K._axisX._iBarWidth;var t=K._axisY._fValuePerPixel;var g=K._axisX._iSpaceWidth;var F=K._axisX.getDataWidth();var q=K._axisY._fMinValue;var I=K._axisY._fMaxValue;var b=K._axisY._iZeroIntersects;var B=K.getValueCount();s.shadowColor=A._sSHADOW_COLOR;s.shadowBlur=A._sSHADOW_BLUR;s.shadowOffsetX=(c<A._sSHADOW_BLUR_X*3?0:A._sSHADOW_BLUR_X);var p=s.shadowOffsetY=(c<A._sSHADOW_BLUR_X*3?0:A._sSHADOW_BLUR_Y);s.lineWidth=A._LINE_WIDTH;var M=new Array();var a=new Array();var d=new Array();var L=0;s.font=K.FONT_LEGEND;if(!K._showItemLabelOnTop){L=-KJE.gGetFontHeight(s)}s.textAlign="center";s.textBaseline="bottom";var H=0;var i=0;var z="";var e=(K._legend._legendType!=KJE.gLegend.CATEGORY_LEGEND);var o=(K._sGraphCategoriesBold!=null&&K._legend._legendType==KJE.gLegend.CATEGORY_LEGEND);var h=K._axisX._sCategories;for(var J=0;J<K._vDataSeries.length;J++){if(e){z=K._vDataSeries[J]._sSeriesPop}var D=-9191;var u=-9191;s.fillStyle=K._vDataSeries[J]._cColor;var l=K._vDataSeries[J]._fValues;var C;var k,G;M[J]=new Array();a[J]=new Array();d[J]=new Array();for(var r=0;r<B;r++){C=m+K._axisX.getCategoryLeft(r)+g+(J*F);H=l[r];if(H<0){if(I<0){k=j;G=(-1)*Math.round((H+I)*t)}else{k=j+b;G=(-1)*Math.round(H*t)}}else{if(q>0){G=Math.round((H-q)*t);k=j+f-G}else{G=Math.round(H*t);k=j+b-G}}s.beginPath();if(K._legend._legendType==KJE.gLegend.CATEGORY_LEGEND){s.fillStyle=K.getColor(r+1)}else{s.fillStyle=K._vDataSeries[J]._cColor}s.strokeStyle=s.fillStyle;s.shadowOffsetY=p;s.fillRect(C,k,c,G);s.shadowOffsetY="0";s.fillRect(C,k,c,G);if(K._iArea==KJE.gGraphColumn.LINE_ON_ALL||(K._iArea==KJE.gGraphColumn.LINE_ON_FIRST_ONLY&&J==0)){s.lineWidth=KJE.gGraphLine._LINE_WIDTH;s.shadowOffsetY=KJE.gGraphLine._sSHADOW_BLUR_Y;if(u!=-9191){s.beginPath();s.moveTo(D+c/2,u);s.lineTo(C+c/2,k);s.stroke()}D=C;u=k}s.closePath();M[J][r]=K.getFormat(l[r],J,r);E.xPopup[i]=(C+c/2)/KJE.gSCALE;E.yPopup[i]=(k+G)/KJE.gSCALE;E.xArray[i]=new Array(4);E.yArray[i]=new Array(4);E.xArray[i][0]=C/KJE.gSCALE;E.yArray[i][0]=k/KJE.gSCALE;E.xArray[i][1]=(C+c)/KJE.gSCALE;E.yArray[i][1]=E.yArray[i][0];E.xArray[i][2]=E.xArray[i][1];E.yArray[i][2]=(k+G)/KJE.gSCALE;E.xArray[i][3]=E.xArray[i][0];E.yArray[i][3]=E.yArray[i][2];E.sItems[i++]=z+" "+(h?h[r]:"")+(o?(K._sGraphCategoriesBold[r]?K._sGraphCategoriesBold[r]:""):"")+(K._bPopDetail?KJE.Colon+" "+M[J][r]:"");a[J][r]=C+c/2;d[J][r]=k-L}}E.xArray.length=i;E.yArray.length=i;E.sItems.length=i;s.shadowBlur="0";s.shadowOffsetX="0";s.shadowOffsetY="0";s.fillStyle=K._cTextColor;if(K._showItemLabel){for(J=0;J<M.length;J++){for(r=0;r<M[J].length;r++){s.beginPath();s.fillText(KJE.FTR(M[J][r]),a[J][r],d[J][r]);s.closePath()}}}};KJE.gType.prototype.paintDataLine=function(p,j,g,t,d){var b=KJE;var k=b.gGraphLine;var c=KJE.gSCALE;var E=this._gGraph;var B=this;var q=E._axisY._fValuePerPixel;var o=E._axisY._fMinValue;var C=E._axisY._fMaxValue;var a=E._axisY._iZeroIntersects;var w=E.getValueCount();var f=0;var r=k._CLICKABLE;p.shadowBlur=k._sSHADOW_BLUR;p.shadowColor=k._sSHADOW_COLOR;p.shadowOffsetX=k._sSHADOW_BLUR_X;p.lineWidth=k._LINE_WIDTH;p.shadowOffsetY=k._sSHADOW_BLUR_Y;var e=E._axisX._sCategories;for(var D=0;D<E._vDataSeries.length;D++){var u=E._vDataSeries[D]._sSeriesPop;var l=E._vDataSeries[D]._bNoPopDetails;p.fillStyle=E._vDataSeries[D]._cColor;p.strokeStyle=E._vDataSeries[D]._cColor;var i=E._vDataSeries[D]._fValues;var A;var h;var z=-9191;var s=-9191;for(var m=0;m<w;m++){A=j+E._axisX.getCategoryLeft(m)-0.5;h=a-Math.round(i[m]*q)+0.5;if(C<0){h=(-1)*Math.round((i[m]+C)*q)}else{if(o>0){h=d-(Math.round((i[m]-o)*q))}}h+=g;if(s!=-9191){p.beginPath();p.strokeStyle=E._vDataSeries[D]._cColor;p.fillStyle=E._vDataSeries[D]._cColor;if(E._iArea==k.AREA_ALL||(E._iArea==k.AREA_FIRST_ONLY&&D==0)||(E._iArea==k.AREA_SECOND_ONLY&&D==1)){p.moveTo(z,g+d);p.lineTo(z,s);p.lineTo(A+0.5,h);p.lineTo(A+0.5,g+d);p.lineTo(z,g+d);p.fill()}else{p.moveTo(A+0.5,h);p.lineTo(z,s);p.stroke()}}B.xPopup[f]=(A-5)/c;B.yPopup[f]=(h+5)/c;B.xArray[f]=KJE.IntArray(4);B.yArray[f]=KJE.IntArray(4);B.xArray[f][0]=(A-r)/c;B.yArray[f][0]=(h-r)/c;B.xArray[f][1]=(A+r)/c;B.yArray[f][1]=B.yArray[f][0];B.xArray[f][2]=B.xArray[f][1];B.yArray[f][2]=(h+r)/c;B.xArray[f][3]=B.xArray[f][0];B.yArray[f][3]=B.yArray[f][2];B.sItems[f++]=u+(l?"":" "+(e?e[m]:"")+(E._bPopDetail?b.Colon+" "+E.getFormat(i[m],D,m):""));z=A;s=h}}B.xArray.length=f;B.yArray.length=f;B.sItems.length=f};KJE.gType.prototype.paintDataPie=function(r,b,a,B,d){var F=0;var D=this._gGraph;var A=this;var l=D._vDataSeries[0]._fValues;for(var q=0;q<l.length;q++){F+=l[q]}var k=Math.round(B/2+b);var j=Math.round(d/2+a);var E=0;if(B/d){E=Math.floor(d/24);j-=Math.ceil(E/2)+1;d-=Math.ceil(E)+1}r.save();var g=(B>d?B/d:1);var f=(B>d?1:d/B);k=k/g;j=j/f;r.scale(g,f);var c=Math.round(Math.min(B/2,d/2));var s=0;var z=0;r.shadowBlur=10;r.shadowOffsetX=E;r.shadowOffsetY=E;r.lineWidth=KJE.gGraphPie._LINE_WIDTH;r.lineJoin=KJE.gGraphPie._LINE_JOIN;r.fillStyle=KJE.gGraphPie._LINE_COLOR;var h=D._axisX._sCategories;if(F<=0){r.fillStyle=KJE.gDarker(D.getColor(1),0.5);r.shadowColor=r.fillStyle;r.beginPath();r.moveTo(k,j);r.arc(k,j,c,0,Math.PI*2,true);r.lineTo(k,j);r.closePath();r.stroke();r.fill();r.fillStyle=D.getColor(1);r.strokeStyle=KJE.gDarker(D.getColor(1),0.6);r.beginPath();r.moveTo(k,j);r.arc(k,j,c,0,Math.PI*2,true);r.lineTo(k,j);r.closePath();r.stroke();r.fill()}if(F>0){for(var u=(l.length-1);u>=0;u--){if(l[u]!=0){z=(l[u]/F);r.fillStyle=KJE.gDarker(D.getColor(u+1),0.5);r.shadowColor=r.fillStyle;r.beginPath();r.moveTo(k,j);var w=s*Math.PI*2;var t=((u==0&&l[u]>0)?0:(s+z)*Math.PI*2);r.arc(k,j,c,w,t,false);r.lineTo(k,j);r.closePath();r.fill();s+=z}}s=0;r.shadowBlur=0;r.shadowOffsetX=0;r.shadowOffsetY=0;var m=0;for(u=(l.length-1);u>=0;u--){if(l[u]!=0){z=(l[u]/F);r.fillStyle=D.getColor(u+1);r.strokeStyle=KJE.gDarker(D.getColor(u+1),0.6);r.beginPath();r.moveTo(k,j);var w=s*Math.PI*2;var t=((u==0&&l[u]>0)?0:(s+z)*Math.PI*2);r.arc(k,j,c,w,t,false);r.lineTo(k,j);r.closePath();r.stroke();r.fill();z=(l[u]/F);var e=Math.ceil(z*20+0.01);A.xArray[m]=KJE.IntArray(e+2);A.yArray[m]=KJE.IntArray(e+2);A.xArray[m][0]=(k*g)/KJE.gSCALE;A.yArray[m][0]=(j*f)/KJE.gSCALE;var C=(z/e);for(var o=0;o<e;o++){A.xArray[m][o+1]=((k+c*Math.cos((s+C*o)*Math.PI*2))*g)/KJE.gSCALE;A.yArray[m][o+1]=((j+c*Math.sin((s+C*o)*Math.PI*2))*f)/KJE.gSCALE;if(o==Math.floor(e/2)){A.xPopup[m]=((k+(c*0.75)*Math.cos((s+C*o)*Math.PI*2))*g)/KJE.gSCALE-5;A.yPopup[m]=((j+(c*0.75)*Math.sin((s+C*o)*Math.PI*2))*f)/KJE.gSCALE+10}}A.xArray[m][e+1]=((k+c*Math.cos((s+z)*Math.PI*2))*g)/KJE.gSCALE;A.yArray[m][e+1]=((j+c*Math.sin((s+z)*Math.PI*2))*f)/KJE.gSCALE;A.sItems[m]=(h?h[u]:"")+(D._bPopDetail?KJE.Colon+" "+D.getFormat(l[u],0,u):"");s+=z;m++}}A.xArray.length=m;A.yArray.length=m;A.sItems.length=m;A.xPopup.length=m;A.yPopup.length=m}r.restore()};KJE.gType.prototype.paintDataStacked=function(p,F,E,Q,M){var C=this._gGraph;var d=C._axisY;var e=C._axisX;var J=KJE.gGraphColumn;var A=this;var G=e._iBarWidth;var a=d._fValuePerPixel;var z=e._iSpaceWidth;var r=e.getDataWidth();var c=d._fMinValue;var g=d._fMaxValue;var h=d._iZeroIntersects;var s=C.getValueCount();var m=new Array();var u=new Array();var k=new Array();var I=new Array();var N=A.xArray;var o=A.yArray;var t=A.sItems;var l=A.xPopup;var K=A.yPopup;var j=e._sCategories;p.shadowColor=J._sSHADOW_COLOR;p.shadowBlur=J._sSHADOW_BLUR;p.shadowOffsetX=(G<J._sSHADOW_BLUR_X*3?0:J._sSHADOW_BLUR_X);var b=p.shadowOffsetY=(G<J._sSHADOW_BLUR_X*3?0:J._sSHADOW_BLUR_Y);p.lineWidth=J._LINE_WIDTH;p.font=C.FONT_LEGEND;p.textAlign="center";p.textBaseline="bottom";var i=5;if(!C._showItemLabelOnTop){i=-KJE.gGetFontHeight(p)}var D=null;for(var H=0;H<C._vDataSeries.length;H++){D=C._vDataSeries[H]._fValues;for(var O=0;O<D.length;O++){m[O]=D[O]+(m[O]?m[O]:0)}}for(O=0;O<m.length;O++){u[O]=C.getFormat(m[O],H-1,O)}var R=0;var q=0;for(H=0;H<C._vDataSeries.length;H++){var w=C._vDataSeries[H]._sSeriesPop;var P=0;var B=0;var f=0;D=C._vDataSeries[H]._fValues;for(O=0;O<s;O++){P=F+e.getCategoryLeft(O)+z+(H*r);R=(m[O]);m[O]-=D[O];if(R<0){if(g<0){B=E;f=(-1)*Math.round((R+g)*a)}else{B=E+h;f=(-1)*Math.round(R*a)}}else{if(c>0){f=Math.round((R-c)*a);B=E+M-f}else{f=Math.round(R*a);B=E+h-f}}p.beginPath();p.fillStyle=C._vDataSeries[H]._cColor;if(H==0){p.shadowOffsetY=b;p.fillRect(P,B,G,f);k[O]=P+G/2;I[O]=B-i}p.shadowOffsetY="0";p.fillRect(P,B,G,f);var L=B+Math.floor(D[O]*a);l[q]=(P+G/2)/KJE.gSCALE;K[q]=L/KJE.gSCALE;N[q]=new Array(4);o[q]=new Array(4);N[q][0]=P/KJE.gSCALE;o[q][0]=B/KJE.gSCALE;N[q][1]=(P+G)/KJE.gSCALE;o[q][1]=o[q][0];N[q][2]=N[q][1];o[q][2]=L/KJE.gSCALE;N[q][3]=N[q][0];o[q][3]=o[q][2];t[q++]=w+(C._bPopCat&&j?" "+e._sCategories[O]:"")+(C._bPopDetail?KJE.Colon+" "+C.getFormat(D[O],H,O):"")}}N.length=q;o.length=q;t.length=q;p.shadowBlur="0";p.shadowOffsetX="0";p.shadowOffsetY="0";p.fillStyle=C._cTextColor;if(C._showItemLabel){for(O=0;O<m.length;O++){p.beginPath();p.fillText(KJE.FTR(u[O]),k[O],I[O]);p.closePath()}}};KJE.gType.prototype.poly=function(e,f,a,k){var d,b,h=0;if(e){var g=e.length;for(d=0,b=g-1;d<g;b=d++){if((((f[d]<=k)&&(k<f[b]))||((f[b]<=k)&&(k<f[d])))&&(a<(e[b]-e[d])*(k-f[d])/(f[b]-f[d])+e[d])){h=!h}}}return h};KJE.gType.prototype.getWedgeValue=function(a,i){var e=this;var g=e.xArray;var f=e.yArray;var d=e.sItems.length;for(var b=d;b>-1;b--){var h=e.poly(g[b],f[b],a,i);if(h){return{x:e.xPopup[b],y:e.yPopup[b],s:e.sItems[b]}}}return null};KJE.FTR=function(a){return a};KJE.lang="SP";KJE.gScaleLabel=["","Miles de ","Millones de ","Billones de "];KJE.g.sToggleAltTextClose="Haga clic o la barra espaciadora para ocultar el gr&iacute;fico";KJE.g.sToggleAltTextOpen="Haga clic o la barra espaciadora para mostrar el gr&iacute;fico";KJE.g.sNewGraphPleaseComplete="Mas entradas para ver el gr&iacute;fico";KJE.sToggleAltTextClose="Haga clic o la barra espaciadora para ocultar las entradas.";KJE.sToggleAltTextOpen="Haga clic o la barra espaciadora para mostrar las entradas.";KJE.LBL_DEFINITIONS="Definiciones";KJE.Colon=":";KJE.CalculatorTitleEntry="Introduzca un valor en todos los campos.";KJE.CalculatorTitleCalc="Pulsa 'Calcular' para ver los resultados.";KJE.ButtonCalculate="Calcular";KJE.ButtonViewReport="Ver Reporte";KJE.ButtonHideReport="Ocultar Reporte";KJE.ButtonPrintReport="Imprimir";KJE.sCurrency="D&oacute;lares";KJE.MSG_YEARS_LBL="a&ntilde;os";KJE.MSG_YEAR_LBL="a&ntilde;o";KJE.MSG_MONTHS_LBL="meses";KJE.MSG_MONTH_LBL="mes";KJE.MSG_AND_LBL="y";KJE.MSG_YES="S&iacute;";KJE.MSG_NO="No";KJE.YES="s&iacute;";KJE.NO="no";KJE.MSG_EXCEEDS_LIMIT_OF_RANGE="KJE1 amout se limita a KJE2";KJE.MSG_UNDER_LIMIT_OF_RANGE="KJE1 no puede ser inferior a KJE2";KJE.MSG_INVALID_DATE="Introduzca una fecha v&aacute;lida para KJE1";KJE.MSG_MISSING_ITEM="Escriba un valor para KJE1";KJE.MSG_ADA_GRAPH="<figure style='margin:0; padding:0;'><figcaption class=KJEAccessible>Consulte el informe para ver los resultados de c&aacute;lculos detalladosc.</figcaption>**GRAPH**</figure>";KJE.SplashContent="Calculadoras financieras de<br />Dinkytown.net";KJE.ScheduleTableTitle="";KJE.FTR=function(a){if((typeof a)=="string"){a=KJE.replace("&oacute;",String.fromCharCode(parseInt("00F3",16)),a);a=KJE.replace("&eacute;",String.fromCharCode(parseInt("00E9",16)),a);a=KJE.replace("&aacute;",String.fromCharCode(parseInt("00E1",16)),a);a=KJE.replace("&ntilde;",String.fromCharCode(parseInt("00F1",16)),a);a=KJE.replace("&iacute;",String.fromCharCode(parseInt("00ED",16)),a);a=KJE.replace("&uacute;",String.fromCharCode(parseInt("00FA",16)),a);a=KJE.replace("&ntilde;",String.fromCharCode(parseInt("00F1",16)),a);a=KJE.replace("&iexcl;",String.fromCharCode(parseInt("00A1",16)),a);a=KJE.replace("&ldquo;",String.fromCharCode(parseInt("201C",16)),a);a=KJE.replace("&rdquo;",String.fromCharCode(parseInt("201D",16)),a)}return a};